/*! For license information please see 683.c20b871e.chunk.js.LICENSE.txt */
(self.webpackChunkaptoslink_example=self.webpackChunkaptoslink_example||[]).push([[683],{88964:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!==typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${r}, not of length=${e.length}`)}function s(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=s,t.exists=o,t.output=a;const u={number:r,bool:n,bytes:i,hash:s,exists:o,output:a};t.default=u},64973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(88964),i=r(99727);class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){n.default.exists(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){n.default.exists(this),n.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let n=a;n<s;n++)t[n]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,i.createView)(e);this.get().forEach(((e,t)=>u.setUint32(4*t,e,o)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}t.SHA2=s},4761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[r[s],n[s]]=[o,a]}return[r,n]}t.fromBig=i,t.split=s;t.toBig=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);function o(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.add=o;const a={fromBig:i,split:s,toBig:t.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:o,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};t.default=a},35067:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0}},60043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const n=r(88964),i=r(99727);class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n.default.hash(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let n=0;n<o.length;n++)o[n]^=54;this.iHash.update(o),this.oHash=e.create();for(let n=0;n<o.length;n++)o[n]^=106;this.oHash.update(o),o.fill(0)}update(e){return n.default.exists(this),this.iHash.update(e),this}digestInto(e){n.default.exists(this),n.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},86307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(88964),i=r(60043),s=r(99727);function o(e,t,r,o){n.default.hash(e);const a=(0,s.checkOpts)({dkLen:32,asyncTick:10},o),{c:u,dkLen:c,asyncTick:l}=a;if(n.default.number(u),n.default.number(c),n.default.number(l),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=(0,s.toBytes)(t),d=(0,s.toBytes)(r),f=new Uint8Array(c),p=i.hmac.create(e,h),g=p._cloneInto().update(d);return{c:u,dkLen:c,asyncTick:l,DK:f,PRF:p,PRFSalt:g}}function a(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:i,dkLen:u,DK:c,PRF:l,PRFSalt:h}=o(e,t,r,n);let d;const f=new Uint8Array(4),p=(0,s.createView)(f),g=new Uint8Array(l.outputLen);for(let s=1,o=0;o<u;s++,o+=l.outputLen){const e=c.subarray(o,o+l.outputLen);p.setInt32(0,s,!1),(d=h._cloneInto(d)).update(f).digestInto(g),e.set(g.subarray(0,e.length));for(let t=1;t<i;t++){l._cloneInto(d).update(g).digestInto(g);for(let t=0;t<e.length;t++)e[t]^=g[t]}}return a(l,h,c,d,g)},t.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:u,asyncTick:c,DK:l,PRF:h,PRFSalt:d}=o(e,t,r,n);let f;const p=new Uint8Array(4),g=(0,s.createView)(p),y=new Uint8Array(h.outputLen);for(let o=1,a=0;a<u;o++,a+=h.outputLen){const e=l.subarray(a,a+h.outputLen);g.setInt32(0,o,!1),(f=d._cloneInto(f)).update(p).digestInto(y),e.set(y.subarray(0,e.length)),await(0,s.asyncLoop)(i-1,c,(t=>{h._cloneInto(f).update(y).digestInto(y);for(let r=0;r<e.length;r++)e[r]^=y[r]}))}return a(h,d,l,f,y)}},45468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0;const n=r(64973),i=r(99727),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let i=0;i<16;i++,t+=4)u[i]=e.getUint32(t,!1);for(let s=16;s<64;s++){const e=u[s-15],t=u[s-2],r=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,n=(0,i.rotr)(t,17)^(0,i.rotr)(t,19)^t>>>10;u[s]=n+u[s-7]+r+u[s-16]|0}let{A:r,B:n,C:a,D:c,E:l,F:h,G:d,H:f}=this;for(let g=0;g<64;g++){const e=f+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&h^~p&d)+o[g]+u[g]|0,t=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;f=d,d=h,h=l,l=c+e|0,c=a,a=n,n=r,r=e+t|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,l=l+this.E|0,h=h+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,n,a,c,l,h,d,f)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.sha256=(0,i.wrapConstructor)((()=>new c))},70021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512=t.SHA512=void 0;const n=r(64973),i=r(4761),s=r(99727),[o,a]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),u=new Uint32Array(80),c=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g]}set(e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let i=0;i<16;i++,t+=4)u[i]=e.getUint32(t),c[i]=e.getUint32(t+=4);for(let o=16;o<80;o++){const e=0|u[o-15],t=0|c[o-15],r=i.default.rotrSH(e,t,1)^i.default.rotrSH(e,t,8)^i.default.shrSH(e,t,7),n=i.default.rotrSL(e,t,1)^i.default.rotrSL(e,t,8)^i.default.shrSL(e,t,7),s=0|u[o-2],a=0|c[o-2],l=i.default.rotrSH(s,a,19)^i.default.rotrBH(s,a,61)^i.default.shrSH(s,a,6),h=i.default.rotrSL(s,a,19)^i.default.rotrBL(s,a,61)^i.default.shrSL(s,a,6),d=i.default.add4L(n,h,c[o-7],c[o-16]),f=i.default.add4H(d,r,l,u[o-7],u[o-16]);u[o]=0|f,c[o]=0|d}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:h,Cl:d,Dh:f,Dl:p,Eh:g,El:y,Fh:m,Fl:v,Gh:w,Gl:b,Hh:_,Hl:E}=this;for(let S=0;S<80;S++){const e=i.default.rotrSH(g,y,14)^i.default.rotrSH(g,y,18)^i.default.rotrBH(g,y,41),t=i.default.rotrSL(g,y,14)^i.default.rotrSL(g,y,18)^i.default.rotrBL(g,y,41),A=g&m^~g&w,T=y&v^~y&b,x=i.default.add5L(E,t,T,a[S],c[S]),k=i.default.add5H(x,_,e,A,o[S],u[S]),R=0|x,P=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),M=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),C=r&s^r&h^s&h,I=n&l^n&d^l&d;_=0|w,E=0|b,w=0|m,b=0|v,m=0|g,v=0|y,({h:g,l:y}=i.default.add(0|f,0|p,0|k,0|R)),f=0|h,p=0|d,h=0|s,d=0|l,s=0|r,l=0|n;const U=i.default.add3L(R,M,I);r=i.default.add3H(U,k,P,C),n=0|U}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:l}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:h,l:d}=i.default.add(0|this.Ch,0|this.Cl,0|h,0|d)),({h:f,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:g,l:y}=i.default.add(0|this.Eh,0|this.El,0|g,0|y)),({h:m,l:v}=i.default.add(0|this.Fh,0|this.Fl,0|m,0|v)),({h:w,l:b}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|b)),({h:_,l:E}=i.default.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(r,n,s,l,h,d,f,p,g,y,m,v,w,b,_,E)}roundClean(){u.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,s.wrapConstructor)((()=>new l)),t.sha512_256=(0,s.wrapConstructor)((()=>new h)),t.sha384=(0,s.wrapConstructor)((()=>new d))},99727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(35067);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},t.hexToBytes=function(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t};function s(e){if("string"!==typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"===typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=s,t.toBytes=o,t.concatBytes=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i};t.Hash=class{clone(){return this._cloneInto()}};const a=e=>"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object;t.checkOpts=function(e,t){if(void 0!==t&&("object"!==typeof t||!a(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},89409:(e,t,r)=>{"use strict";t.Z1=void 0;const n=r(88964),i=r(86307),s=r(45468),o=r(70021),a=r(99727),u=r(22042),c=e=>"\u3042\u3044\u3053\u304f\u3057\u3093"===e[0];function l(e){if("string"!==typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function h(e){const t=l(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function d(e){n.default.bytes(e,16,20,24,28,32)}const f=e=>{const t=8-e.length/4;return new Uint8Array([(0,s.sha256)(e)[0]>>t<<t])};function p(e){if(!Array.isArray(e)||2048!==e.length||"string"!==typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!==typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),u.utils.chain(u.utils.checksum(1,f),u.utils.radix2(11,!0),u.utils.alphabet(e))}function g(e,t){const{words:r}=h(e),n=p(t).decode(r);return d(n),n}function y(e,t){d(e);return p(t).encode(e).join(c(t)?"\u3000":" ")}const m=e=>l(`mnemonic${e}`);t.Z1=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,i.pbkdf2)(o.sha512,h(e).nfkd,m(t),{c:2048,dkLen:64})}},28383:(e,t,r)=>{e.exports=r(54293)},37440:(e,t,r)=>{"use strict";var n=r(34138),i=r(98555),s=r(64730),o=r(79007),a=r(97382),u=r(5587),c=r(69991),l=r(23088),h=r(53880),d=r(85182),f=r(56283);e.exports=function(e){return new Promise((function(t,r){var p,g=e.data,y=e.headers,m=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(g)&&n.isStandardBrowserEnv()&&delete y["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(b+":"+_)}var E=a(e.baseURL,e.url);function S(){if(w){var n="getAllResponseHeaders"in w?u(w.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:n,config:e,request:w};i((function(e){t(e),v()}),(function(e){r(e),v()}),s),w=null}}if(w.open(e.method.toUpperCase(),o(E,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(S)},w.onabort=function(){w&&(r(new h("Request aborted",h.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new h("Network Error",h.ERR_NETWORK,e,w,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new h(t,n.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,w)),w=null},n.isStandardBrowserEnv()){var A=(e.withCredentials||c(E))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;A&&(y[e.xsrfHeaderName]=A)}"setRequestHeader"in w&&n.forEach(y,(function(e,t){"undefined"===typeof g&&"content-type"===t.toLowerCase()?delete y[t]:w.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),m&&"json"!==m&&(w.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){w&&(r(!e||e&&e.type?new d:e),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),g||(g=null);var T=f(E);T&&-1===["http","https","file"].indexOf(T)?r(new h("Unsupported protocol "+T+":",h.ERR_BAD_REQUEST,e)):w.send(g)}))}},54293:(e,t,r)=>{"use strict";var n=r(34138),i=r(38860),s=r(70146),o=r(51449);var a=function e(t){var r=new s(t),a=i(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(o(t,r))},a}(r(81356));a.Axios=s,a.CanceledError=r(85182),a.CancelToken=r(72128),a.isCancel=r(69318),a.VERSION=r(57506).version,a.toFormData=r(28183),a.AxiosError=r(53880),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=r(75710),a.isAxiosError=r(80019),e.exports=a,e.exports.default=a},72128:(e,t,r)=>{"use strict";var n=r(85182);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},85182:(e,t,r)=>{"use strict";var n=r(53880);function i(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(34138).inherits(i,n,{__CANCEL__:!0}),e.exports=i},69318:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},70146:(e,t,r)=>{"use strict";var n=r(34138),i=r(79007),s=r(50328),o=r(8906),a=r(51449),u=r(97382),c=r(10267),l=c.validators;function h(e){this.defaults=e,this.interceptors={request:new s,response:new s}}h.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var h=[o,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(u),s=Promise.resolve(t);h.length;)s=s.then(h.shift(),h.shift());return s}for(var d=t;n.length;){var f=n.shift(),p=n.shift();try{d=f(d)}catch(g){p(g);break}}try{s=o(d)}catch(g){return Promise.reject(g)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},h.prototype.getUri=function(e){e=a(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(a(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},53880:(e,t,r)=>{"use strict";var n=r(34138);function i(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(s,"isAxiosError",{value:!0}),i.from=function(e,t,r,o,a,u){var c=Object.create(s);return n.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,r,o,a),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},50328:(e,t,r)=>{"use strict";var n=r(34138);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},97382:(e,t,r)=>{"use strict";var n=r(39811),i=r(48800);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},8906:(e,t,r)=>{"use strict";var n=r(34138),i=r(64593),s=r(69318),o=r(81356),a=r(85182);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},51449:(e,t,r)=>{"use strict";var n=r(34138);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function o(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||s,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)})),r}},98555:(e,t,r)=>{"use strict";var n=r(53880);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},64593:(e,t,r)=>{"use strict";var n=r(34138),i=r(81356);e.exports=function(e,t,r){var s=this||i;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},81356:(e,t,r)=>{"use strict";var n=r(54501),i=r(34138),s=r(4614),o=r(53880),a=r(23088),u=r(28183),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h={transitional:a,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n))&&(e=r(37440)),e}(),transformRequest:[function(e,t){if(s(t,"Accept"),s(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=i.isObject(e),o=t&&t["Content-Type"];if((r=i.isFileList(e))||n&&"multipart/form-data"===o){var a=this.env&&this.env.FormData;return u(r?{"files[]":e}:e,a&&new a)}return n||"application/json"===o?(l(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||h.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o.from(a,o.ERR_BAD_RESPONSE,this,null,this.response);throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(60795)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(c)})),e.exports=h},23088:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},57506:e=>{e.exports={version:"0.27.2"}},38860:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},79007:(e,t,r)=>{"use strict";var n=r(34138);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},48800:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},64730:(e,t,r)=>{"use strict";var n=r(34138);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},39811:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},80019:(e,t,r)=>{"use strict";var n=r(34138);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},69991:(e,t,r)=>{"use strict";var n=r(34138);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4614:(e,t,r)=>{"use strict";var n=r(34138);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},60795:e=>{e.exports=null},5587:(e,t,r)=>{"use strict";var n=r(34138),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,o={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},56283:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},75710:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},28183:(e,t,r)=>{"use strict";var n=r(30261).Buffer,i=r(34138);e.exports=function(e,t){t=t||new FormData;var r=[];function s(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):n.from(e):e}return function e(n,o){if(i.isPlainObject(n)||i.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+o);r.push(n),i.forEach(n,(function(r,n){if(!i.isUndefined(r)){var a,u=o?o+"."+n:n;if(r&&!o&&"object"===typeof r)if(i.endsWith(n,"{}"))r=JSON.stringify(r);else if(i.endsWith(n,"[]")&&(a=i.toArray(r)))return void a.forEach((function(e){!i.isUndefined(e)&&t.append(u,s(e))}));e(r,u)}})),r.pop()}else t.append(o,s(n))}(e),t}},10267:(e,t,r)=>{"use strict";var n=r(57506).version,i=r(53880),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};s.transitional=function(e,t,r){function s(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new i(s(n," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[n]&&(o[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),s=n.length;s-- >0;){var o=n[s],a=t[o];if(a){var u=e[o],c=void 0===u||a(u,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:s}},34138:(e,t,r)=>{"use strict";var n,i=r(38860),s=Object.prototype.toString,o=(n=Object.create(null),function(e){var t=s.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=a("ArrayBuffer");function h(e){return null!==e&&"object"===typeof e}function d(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=a("Date"),p=a("File"),g=a("Blob"),y=a("FileList");function m(e){return"[object Function]"===s.call(e)}var v=a("URLSearchParams");function w(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,_=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||s.call(e)===t||m(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:h,isPlainObject:d,isUndefined:c,isDate:f,isFile:p,isBlob:g,isFunction:m,isStream:function(e){return h(e)&&m(e.pipe)},isURLSearchParams:v,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:w,merge:function e(){var t={};function r(r,n){d(t[n])&&d(r)?t[n]=e(t[n],r):d(r)?t[n]=e({},r):u(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)w(arguments[n],r);return t},extend:function(e,t,r){return w(t,(function(t,n){e[n]=r&&"function"===typeof t?i(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,i,s,o={};t=t||{};do{for(i=(n=Object.getOwnPropertyNames(e)).length;i-- >0;)o[s=n[i]]||(t[s]=e[s],o[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:_,isFileList:y}},77815:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var s=(e.length-r)*u+1>>>0,c=new Uint8Array(s);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=o*c[d]>>>0,c[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,r++}for(var f=s-i;f!==s&&0===c[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=c[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var u=(s-i)*c+1>>>0,l=new Uint8Array(u);i!==s;){for(var h=t[i],d=0,f=u-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var g=a.repeat(r);p<u;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},9151:(e,t,r)=>{const n=r(77815);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},55229:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},79033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyType=void 0,function(e){e[e.ED25519=0]="ED25519"}(t.KeyType||(t.KeyType={}))},14880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyPairEd25519=t.KeyPair=t.KeyType=void 0;var n=r(79033);Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return n.KeyType}});var i=r(88732);Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return i.KeyPair}});var s=r(47692);Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(33999);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},88732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=void 0;const n=r(57689),i=r(47692);class s extends n.KeyPairBase{static fromRandom(e){if("ED25519"===e.toUpperCase())return i.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${e}`)}static fromString(e){const t=e.split(":");if(1===t.length)return new i.KeyPairEd25519(t[0]);if(2===t.length){if("ED25519"===t[0].toUpperCase())return new i.KeyPairEd25519(t[1]);throw new Error(`Unknown curve: ${t[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}t.KeyPair=s},57689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairBase=void 0;t.KeyPairBase=class{}},47692:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairEd25519=void 0;const i=r(99661),s=n(r(53353)),o=r(79033),a=r(57689),u=r(33999);class c extends a.KeyPairBase{constructor(e){super();const t=s.default.sign.keyPair.fromSecretKey((0,i.baseDecode)(e));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:t.publicKey}),this.secretKey=e}static fromRandom(){const e=s.default.sign.keyPair();return new c((0,i.baseEncode)(e.secretKey))}sign(e){return{signature:s.default.sign.detached(e,(0,i.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(e,t){return this.publicKey.verify(e,t)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}t.KeyPairEd25519=c},33999:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=void 0;const i=r(54227),s=r(99661),o=n(r(53353)),a=r(79033);function u(e){if("ed25519"===e.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${e}`)}class c extends i.Assignable{static from(e){return"string"===typeof e?c.fromString(e):e}static fromString(e){const t=e.split(":");if(1===t.length)return new c({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(t[0])});if(2===t.length)return new c({keyType:u(t[0]),data:(0,s.baseDecode)(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(e){if(e===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${e}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(e,t){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(e,t,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}t.PublicKey=c},4989:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserLocalStorageKeyStore=void 0;const i=r(14880),s=r(91093);class o extends s.KeyStore{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"near-api-js:keystore:";super(),this.localStorage=e,this.prefix=t}setKey(e,t,r){return n(this,void 0,void 0,(function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),r.toString())}))}getKey(e,t){return n(this,void 0,void 0,(function*(){const r=this.localStorage.getItem(this.storageKeyForSecretKey(e,t));return r?i.KeyPair.fromString(r):null}))}removeKey(e,t){return n(this,void 0,void 0,(function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))}))}clear(){return n(this,void 0,void 0,(function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)}))}getNetworks(){return n(this,void 0,void 0,(function*(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const r=t.substring(this.prefix.length).split(":");e.add(r[1])}return Array.from(e.values())}))}getAccounts(e){return n(this,void 0,void 0,(function*(){const t=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const n=r.substring(this.prefix.length).split(":");n[1]===e&&t.push(n[0])}return t}))}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}}t.BrowserLocalStorageKeyStore=o},60224:(e,t,r)=>{"use strict";t.X=void 0;var n=r(4989);Object.defineProperty(t,"X",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}})},58096:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryKeyStore=void 0;const i=r(14880),s=r(86998);class o extends s.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,r){return n(this,void 0,void 0,(function*(){this.keys[`${t}:${e}`]=r.toString()}))}getKey(e,t){return n(this,void 0,void 0,(function*(){const r=this.keys[`${t}:${e}`];return r?i.KeyPair.fromString(r):null}))}removeKey(e,t){return n(this,void 0,void 0,(function*(){delete this.keys[`${t}:${e}`]}))}clear(){return n(this,void 0,void 0,(function*(){this.keys={}}))}getNetworks(){return n(this,void 0,void 0,(function*(){const e=new Set;return Object.keys(this.keys).forEach((t=>{const r=t.split(":");e.add(r[1])})),Array.from(e.values())}))}getAccounts(e){return n(this,void 0,void 0,(function*(){const t=new Array;return Object.keys(this.keys).forEach((r=>{const n=r.split(":");n[n.length-1]===e&&t.push(n.slice(0,n.length-1).join(":"))})),t}))}toString(){return"InMemoryKeyStore"}}t.InMemoryKeyStore=o},91093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=t.KeyStore=t.InMemoryKeyStore=void 0;var n=r(58096);Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});var i=r(86998);Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return i.KeyStore}});var s=r(49015);Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return s.MergeKeyStore}})},86998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStore=void 0;t.KeyStore=class{}},49015:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=void 0;const i=r(86998);class s extends i.KeyStore{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{writeKeyStoreIndex:0};super(),this.options=t,this.keyStores=e}setKey(e,t,r){return n(this,void 0,void 0,(function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,r)}))}getKey(e,t){return n(this,void 0,void 0,(function*(){for(const r of this.keyStores){const n=yield r.getKey(e,t);if(n)return n}return null}))}removeKey(e,t){return n(this,void 0,void 0,(function*(){for(const r of this.keyStores)yield r.removeKey(e,t)}))}clear(){return n(this,void 0,void 0,(function*(){for(const e of this.keyStores)yield e.clear()}))}getNetworks(){return n(this,void 0,void 0,(function*(){const e=new Set;for(const t of this.keyStores)for(const r of yield t.getNetworks())e.add(r);return Array.from(e)}))}getAccounts(e){return n(this,void 0,void 0,(function*(){const t=new Set;for(const r of this.keyStores)for(const n of yield r.getAccounts(e))t.add(n);return Array.from(t)}))}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}t.MergeKeyStore=s},91456:(e,t,r)=>{"use strict";var n=r(30261).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.actionCreators=t.stringifyJsonOrBytes=void 0;const i=r(6501);function s(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:n.from(JSON.stringify(e))}t.stringifyJsonOrBytes=s,t.actionCreators={addKey:function(e,t){return new i.Action({addKey:new i.AddKey({publicKey:e,accessKey:t})})},createAccount:function(){return new i.Action({createAccount:new i.CreateAccount({})})},deleteAccount:function(e){return new i.Action({deleteAccount:new i.DeleteAccount({beneficiaryId:e})})},deleteKey:function(e){return new i.Action({deleteKey:new i.DeleteKey({publicKey:e})})},deployContract:function(e){return new i.Action({deployContract:new i.DeployContract({code:e})})},fullAccessKey:function(){return new i.AccessKey({permission:new i.AccessKeyPermission({fullAccess:new i.FullAccessPermission({})})})},functionCall:function(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s;return arguments.length>5&&void 0!==arguments[5]&&arguments[5]?new i.Action({functionCall:new i.FunctionCall({methodName:e,args:t,gas:r,deposit:n})}):new i.Action({functionCall:new i.FunctionCall({methodName:e,args:o(t),gas:r,deposit:n})})},functionCallAccessKey:function(e,t,r){return new i.AccessKey({permission:new i.AccessKeyPermission({functionCall:new i.FunctionCallPermission({receiverId:e,allowance:r,methodNames:t})})})},signedDelegate:function(e){let{delegateAction:t,signature:r}=e;return new i.Action({signedDelegate:new i.SignedDelegate({delegateAction:t,signature:r})})},stake:function(e,t){return new i.Action({stake:new i.Stake({stake:e,publicKey:t})})},transfer:function(e){return new i.Action({transfer:new i.Transfer({deposit:e})})}}},6501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=t.SignedDelegate=t.DeleteAccount=t.DeleteKey=t.AddKey=t.Stake=t.Transfer=t.FunctionCall=t.DeployContract=t.CreateAccount=t.IAction=t.AccessKey=t.AccessKeyPermission=t.FullAccessPermission=t.FunctionCallPermission=void 0;const n=r(64839);class i{constructor(e){if(1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((t=>{this[t]=e[t],this.enum=t}))}}class s extends n.Assignable{}t.FunctionCallPermission=s;class o extends n.Assignable{}t.FullAccessPermission=o;t.AccessKeyPermission=class extends i{};class a extends n.Assignable{}t.AccessKey=a;class u extends n.Assignable{}t.IAction=u;t.CreateAccount=class extends u{};t.DeployContract=class extends u{};t.FunctionCall=class extends u{};t.Transfer=class extends u{};t.Stake=class extends u{};t.AddKey=class extends u{};t.DeleteKey=class extends u{};t.DeleteAccount=class extends u{};t.SignedDelegate=class extends u{};t.Action=class extends i{}},37368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTransaction=void 0;const n=r(97199);t.createTransaction=function(e,t,r,i,s,o){return new n.Transaction({signerId:e,publicKey:t,nonce:i,receiverId:r,actions:s,blockHash:o})}},65837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDelegateAction=t.DelegateAction=void 0;const n=r(64839);class i extends n.Assignable{}t.DelegateAction=i,t.buildDelegateAction=function(e){let{actions:t,maxBlockHeight:r,nonce:n,publicKey:s,receiverId:o,senderId:a}=e;return new i({senderId:a,receiverId:o,actions:t,nonce:n,maxBlockHeight:r,publicKey:s})}},72918:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(91456),t),i(r(6501),t),i(r(37368),t),i(r(65837),t),i(r(97199),t),i(r(21649),t),i(r(36040),t)},15691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelegateActionPrefix=void 0;const n=r(64839),i=Math.pow(2,30),s=366;class o extends n.Assignable{}class a extends o{constructor(e){super({prefix:i+e})}}t.DelegateActionPrefix=class extends a{constructor(){super(s)}}},97199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=t.SignedTransaction=t.Transaction=t.decodeSignedTransaction=t.decodeTransaction=t.encodeTransaction=t.encodeSignedDelegate=t.encodeDelegateAction=void 0;const n=r(8526),i=r(64839),s=r(99661),o=r(6501),a=r(65837),u=r(15691),c=r(36040);function l(e){return(0,s.serialize)(t.SCHEMA,e)}function h(e){return(0,s.deserialize)(t.SCHEMA,f,e)}function d(e){return(0,s.deserialize)(t.SCHEMA,p,e)}t.encodeDelegateAction=function(e){return new Uint8Array([...(0,s.serialize)(t.SCHEMA,new u.DelegateActionPrefix),...(0,s.serialize)(t.SCHEMA,e)])},t.encodeSignedDelegate=function(e){return(0,s.serialize)(t.SCHEMA,e)},t.encodeTransaction=l,t.decodeTransaction=h,t.decodeSignedTransaction=d;class f extends i.Assignable{encode(){return l(this)}static decode(e){return h(e)}}t.Transaction=f;class p extends i.Assignable{encode(){return l(this)}static decode(e){return d(e)}}t.SignedTransaction=p,t.SCHEMA=new Map([[c.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[p,{kind:"struct",fields:[["transaction",f],["signature",c.Signature]]}],[f,{kind:"struct",fields:[["signerId","string"],["publicKey",n.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[o.Action]]]}],[n.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[o.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",o.AccessKeyPermission]]}],[o.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",o.FunctionCallPermission],["fullAccess",o.FullAccessPermission]]}],[o.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[o.FullAccessPermission,{kind:"struct",fields:[]}],[o.Action,{kind:"enum",field:"enum",values:[["createAccount",o.CreateAccount],["deployContract",o.DeployContract],["functionCall",o.FunctionCall],["transfer",o.Transfer],["stake",o.Stake],["addKey",o.AddKey],["deleteKey",o.DeleteKey],["deleteAccount",o.DeleteAccount],["signedDelegate",o.SignedDelegate]]}],[o.CreateAccount,{kind:"struct",fields:[]}],[o.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[o.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[o.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[o.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",n.PublicKey]]}],[o.AddKey,{kind:"struct",fields:[["publicKey",n.PublicKey],["accessKey",o.AccessKey]]}],[o.DeleteKey,{kind:"struct",fields:[["publicKey",n.PublicKey]]}],[o.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[a.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[o.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",n.PublicKey]]}],[u.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[o.SignedDelegate,{kind:"struct",fields:[["delegateAction",a.DelegateAction],["signature",c.Signature]]}]])},21649:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signDelegateAction=t.signTransaction=void 0;const s=i(r(83695)),o=r(6501),a=r(37368),u=r(97199),c=r(36040);function l(e,t,r,i){return n(this,void 0,void 0,(function*(){const n=(0,u.encodeTransaction)(e),o=new Uint8Array(s.default.sha256.array(n)),a=yield t.signMessage(n,r,i);return[o,new u.SignedTransaction({transaction:e,signature:new c.Signature({keyType:e.publicKey.keyType,data:a.signature})})]}))}t.signTransaction=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(this,void 0,void 0,(function*(){if(t[0].constructor===u.Transaction){const[e,r,n,i]=t;return l(e,r,n,i)}{const[e,r,n,i,s,o,u]=t,c=yield s.getPublicKey(o,u);return l((0,a.createTransaction)(o,c,e,r,n,i),s,o,u)}}))},t.signDelegateAction=function(e){let{delegateAction:t,signer:r}=e;return n(this,void 0,void 0,(function*(){const e=(0,u.encodeDelegateAction)(t),n=yield r.sign(e),i=new o.SignedDelegate({delegateAction:t,signature:new c.Signature({keyType:t.publicKey.keyType,data:n})});return{hash:new Uint8Array(s.default.sha256.array(e)),signedDelegateAction:i}}))}},36040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signature=void 0;const n=r(64839);class i extends n.Assignable{}t.Signature=i},69269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyType=void 0,function(e){e[e.ED25519=0]="ED25519"}(t.KeyType||(t.KeyType={}))},8526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyPairEd25519=t.KeyPair=t.KeyType=void 0;var n=r(69269);Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return n.KeyType}});var i=r(45621);Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return i.KeyPair}});var s=r(54149);Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(53658);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},45621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=void 0;const n=r(15730),i=r(54149);class s extends n.KeyPairBase{static fromRandom(e){if("ED25519"===e.toUpperCase())return i.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${e}`)}static fromString(e){const t=e.split(":");if(1===t.length)return new i.KeyPairEd25519(t[0]);if(2===t.length){if("ED25519"===t[0].toUpperCase())return new i.KeyPairEd25519(t[1]);throw new Error(`Unknown curve: ${t[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}t.KeyPair=s},15730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairBase=void 0;t.KeyPairBase=class{}},54149:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairEd25519=void 0;const i=r(99661),s=n(r(53353)),o=r(69269),a=r(15730),u=r(53658);class c extends a.KeyPairBase{constructor(e){super();const t=s.default.sign.keyPair.fromSecretKey((0,i.baseDecode)(e));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:t.publicKey}),this.secretKey=e}static fromRandom(){const e=s.default.sign.keyPair();return new c((0,i.baseEncode)(e.secretKey))}sign(e){return{signature:s.default.sign.detached(e,(0,i.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(e,t){return this.publicKey.verify(e,t)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}t.KeyPairEd25519=c},53658:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=void 0;const i=r(64839),s=r(99661),o=n(r(53353)),a=r(69269);function u(e){if("ed25519"===e.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${e}`)}class c extends i.Assignable{static from(e){return"string"===typeof e?c.fromString(e):e}static fromString(e){const t=e.split(":");if(1===t.length)return new c({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(t[0])});if(2===t.length)return new c({keyType:u(t[0]),data:(0,s.baseDecode)(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(e){if(e===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${e}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(e,t){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(e,t,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}t.PublicKey=c},75429:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assignable=void 0;t.Assignable=class{constructor(e){Object.keys(e).map((t=>{this[t]=e[t]}))}}},87405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.ArgumentTypeError=t.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}t.PositionalArgsError=r;class n extends Error{constructor(e,t,r){super(`Expected ${t} for '${e}' argument, but got '${JSON.stringify(r)}'`)}}t.ArgumentTypeError=n;class i extends Error{constructor(e,t,r){super(e),this.type=t||"UntypedError",this.context=r}}t.TypedError=i;t.ErrorContext=class{constructor(e){this.transactionHash=e}}},64839:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(75429),t),i(r(87405),t),i(r(612),t)},612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=void 0;var n=r(93797);Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return n.IdType}});var i=r(50223);Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return i.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return i.FinalExecutionStatusBasic}})},93797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdType=void 0,function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}))},50223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={}))},56125:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assignable=void 0;t.Assignable=class{constructor(e){Object.keys(e).map((t=>{this[t]=e[t]}))}}},24893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.ArgumentTypeError=t.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}t.PositionalArgsError=r;class n extends Error{constructor(e,t,r){super(`Expected ${t} for '${e}' argument, but got '${JSON.stringify(r)}'`)}}t.ArgumentTypeError=n;class i extends Error{constructor(e,t,r){super(e),this.type=t||"UntypedError",this.context=r}}t.TypedError=i;t.ErrorContext=class{constructor(e){this.transactionHash=e}}},54227:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(56125),t),i(r(24893),t),i(r(49708),t)},49708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=void 0;var n=r(61157);Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return n.IdType}});var i=r(48496);Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return i.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return i.FinalExecutionStatusBasic}})},61157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdType=void 0,function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}))},48496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={}))},97692:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9072:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});const s=r(10405);t.default=s.PromisePool,i(r(97692),t),i(r(10405),t),i(r(45857),t),i(r(63616),t),i(r(92754),t),i(r(80839),t)},45857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePoolError=void 0;class r extends Error{constructor(e,t){super(),this.raw=e,this.item=t,this.name=this.constructor.name,this.message=this.messageFrom(e),Error.captureStackTrace&&"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(e,t){return new this(e,t)}messageFrom(e){return e instanceof Error||"object"===typeof e?e.message:"string"===typeof e||"number"===typeof e?e.toString():""}}t.PromisePoolError=r},56876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePoolExecutor=void 0;const n=r(10405),i=r(45857),s=r(92754),o=r(80839);t.PromisePoolExecutor=class{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(e){if(!this.isValidConcurrency(e))throw o.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${e}" (${typeof e})`);return this.meta.concurrency=e,this}isValidConcurrency(e){return"number"===typeof e&&e>=1}withTaskTimeout(e){return this.meta.taskTimeout=e,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(e){return this.meta.shouldResultsCorrespond=e,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(e){return this.meta.items=e,this}items(){return this.meta.items}itemsCount(){const e=this.items();return Array.isArray(e)?e.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(e){return this.handler=e,this}hasErrorHandler(){return!!this.errorHandler}handleError(e){return this.errorHandler=e,this}onTaskStarted(e){return this.onTaskStartedHandlers=e,this}onTaskFinished(e){return this.onTaskFinishedHandlers=e,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new s.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if("function"!==typeof this.handler)throw o.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const e=this.taskTimeout();if(!(null==e||"number"===typeof e&&e>=0))throw o.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(e)}" (${typeof e})`);if(!this.areItemsValid())throw o.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&"function"!==typeof this.errorHandler)throw o.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach((e=>{if(e&&"function"!==typeof e)throw o.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof e}"`)})),this.onTaskFinishedHandlers.forEach((e=>{if(e&&"function"!==typeof e)throw o.ValidationError.createFrom(`The error handler must be a function. Received "${typeof e}"`)})),this}areItemsValid(){const e=this.items();return!!Array.isArray(e)||("function"===typeof e[Symbol.iterator]||"function"===typeof e[Symbol.asyncIterator])}prepareResultsArray(){const e=this.items();return Array.isArray(e)&&this.shouldUseCorrespondingResults()?(this.meta.results=Array(e.length).fill(n.PromisePool.notRun),this):this}async process(){let e=0;for await(const t of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[e]=n.PromisePool.notRun),this.startProcessing(t,e),e+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(e,t){const r=this.createTaskFor(e,t).then((e=>{this.save(e,t).removeActive(r)})).catch((async n=>{await this.handleErrorFor(n,e,t),this.removeActive(r)})).finally((()=>{this.processedItems().push(e),this.runOnTaskFinishedHandlers(e)}));this.tasks().push(r),this.runOnTaskStartedHandlers(e)}async createTaskFor(e,t){if(void 0===this.taskTimeout())return this.handler(e,t,this);const[r,n]=this.createTaskTimeout(e);return Promise.race([this.handler(e,t,this),r()]).finally(n)}createTaskTimeout(e){let t;return[async()=>new Promise(((r,n)=>{t=setTimeout((()=>{n(new i.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,e))}),this.taskTimeout())})),()=>clearTimeout(t)]}save(e,t){return this.shouldUseCorrespondingResults()?this.results()[t]=e:this.results().push(e),this}removeActive(e){return this.tasks().splice(this.tasks().indexOf(e),1),this}async handleErrorFor(e,t,r){if(this.shouldUseCorrespondingResults()&&(this.results()[r]=n.PromisePool.failed),!this.isStoppingThePoolError(e)){if(this.isValidationError(e))throw this.markAsStopped(),e;this.hasErrorHandler()?await this.runErrorHandlerFor(e,t):this.saveErrorFor(e,t)}}isStoppingThePoolError(e){return e instanceof s.StopThePromisePoolError}isValidationError(e){return e instanceof o.ValidationError}async runErrorHandlerFor(e,t){try{var r;await(null===(r=this.errorHandler)||void 0===r?void 0:r.call(this,e,t,this))}catch(n){this.rethrowIfNotStoppingThePool(n)}}runOnTaskStartedHandlers(e){this.onTaskStartedHandlers.forEach((t=>{t(e,this)}))}runOnTaskFinishedHandlers(e){this.onTaskFinishedHandlers.forEach((t=>{t(e,this)}))}rethrowIfNotStoppingThePool(e){if(!this.isStoppingThePoolError(e))throw e}saveErrorFor(e,t){this.errors().push(i.PromisePoolError.createFrom(e,t))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}},10405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePool=void 0;const n=r(56876);class i{constructor(e){this.timeout=void 0,this.concurrency=10,this.items=null!==e&&void 0!==e?e:[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(e){return this.concurrency=e,this}static withConcurrency(e){return(new this).withConcurrency(e)}withTaskTimeout(e){return this.timeout=e,this}static withTaskTimeout(e){return(new this).withTaskTimeout(e)}for(e){const t=new i(e).withConcurrency(this.concurrency);return"function"===typeof this.errorHandler&&t.handleError(this.errorHandler),"number"===typeof this.timeout?t.withTaskTimeout(this.timeout):t}static for(e){return(new this).for(e)}handleError(e){return this.errorHandler=e,this}onTaskStarted(e){return this.onTaskStartedHandlers.push(e),this}onTaskFinished(e){return this.onTaskFinishedHandlers.push(e),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(e){return(new n.PromisePoolExecutor).useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(e).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}t.PromisePool=i,i.notRun=Symbol("notRun"),i.failed=Symbol("failed")},63616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},92754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopThePromisePoolError=void 0;class r extends Error{}t.StopThePromisePoolError=r},80839:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class r extends Error{constructor(e){super(e),Error.captureStackTrace&&"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(e){return new this(e)}}t.ValidationError=r},30084:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function o(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},u=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(e[(240&i)>>4]+e[15&i])}return r.join("")}}}(),c={16:10,24:12,32:14},l=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],b=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],_=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],S=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function T(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};x.prototype._prepare=function(){var e=c[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,s=T(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=s[t],this._Kd[e-r][t%4]=s[t];for(var o,a=0,u=i;u<n;){if(o=s[i-1],s[0]^=h[o>>16&255]<<24^h[o>>8&255]<<16^h[255&o]<<8^h[o>>24&255]^l[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)s[t]^=s[t-1];else{for(t=1;t<i/2;t++)s[t]^=s[t-1];o=s[i/2-1],s[i/2]^=h[255&o]^h[o>>8&255]<<8^h[o>>16&255]<<16^h[o>>24&255]<<24;for(t=i/2+1;t<i;t++)s[t]^=s[t-1]}for(t=0;t<i&&u<n;)d=u>>2,f=u%4,this._Ke[d][f]=s[t],this._Kd[e-d][f]=s[t++],u++}for(var d=1;d<e;d++)for(var f=0;f<4;f++)o=this._Kd[d][f],this._Kd[d][f]=_[o>>24&255]^E[o>>16&255]^S[o>>8&255]^A[255&o]},x.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=f[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^g[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var a,u=s(16);for(i=0;i<4;i++)a=this._Ke[t][i],u[4*i]=255&(h[n[i]>>24&255]^a>>24),u[4*i+1]=255&(h[n[(i+1)%4]>>16&255]^a>>16),u[4*i+2]=255&(h[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(h[255&n[(i+3)%4]]^a);return u},x.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=m[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^b[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var a,u=s(16);for(i=0;i<4;i++)a=this._Kd[t][i],u[4*i]=255&(d[n[i]>>24&255]^a>>24),u[4*i+1]=255&(d[n[(i+3)%4]>>16&255]^a>>16),u[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(d[255&n[(i+1)%4]]^a);return u};var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(e)};k.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.encrypt(r),t,n);return t},k.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.decrypt(r),t,n);return t};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastCipherblock=i(t,!0),this._aes=new x(e)};R.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,n)}return t},R.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];o(e,this._lastCipherblock,0,n,n+16)}return t};var P=function(e,t,r){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new x(e)};P.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=t[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},P.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=t[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new x(e)};M.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},M.prototype.decrypt=M.prototype.encrypt;var C=function(e){if(!(this instanceof C))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"===typeof e?(this._counter=s(16),this.setValue(e)):this.setBytes(e)};C.prototype.setValue=function(e){if("number"!==typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},C.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},C.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof C||(t=new C(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(e)};I.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var U={AES:x,Counter:C,ModeOfOperation:{ecb:k,cbc:R,cfb:P,ofb:M,ctr:I},utils:{hex:u,utf8:a},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=s(e.length+t);o(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=s(r);return o(e,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:s,copyArray:o}};e.exports=U}()},20937:(e,t,r)=>{"use strict";const n=r(79146),i=r(33935),s=r(47110);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return s(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},13147:(e,t,r)=>{"use strict";const n=r(47110),i=r(58417).b,s=r(74054).Buffer;function o(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return a.isEncoderBuffer(e)||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(o,i),t.C=o,o.isDecoderBuffer=function(e){if(e instanceof o)return!0;return"object"===typeof e&&s.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"===typeof e.offset&&"number"===typeof e.length&&"function"===typeof e.save&&"function"===typeof e.restore&&"function"===typeof e.isEmpty&&"function"===typeof e.readUInt8&&"function"===typeof e.skip&&"function"===typeof e.raw},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(e){const t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=a,a.isEncoderBuffer=function(e){if(e instanceof a)return!0;return"object"===typeof e&&"EncoderBuffer"===e.constructor.name&&"number"===typeof e.length&&"function"===typeof e.join},a.prototype.join=function(e,t){return e||(e=s.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},38294:(e,t,r)=>{"use strict";const n=r(58417).b,i=r(13147).R,s=r(13147).C,o=r(13859),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=c;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const e=this._baseState,t={};l.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},c.prototype._wrap=function(){const e=this._baseState;u.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},c.prototype._init=function(e){const t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),o.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(o(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){c.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(r),this}})),c.prototype.use=function(e){o(e);const t=this._baseState;return o(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){const t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){const t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){const t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){const t=this._baseState;return o(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){const t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){const t=this._baseState;return o(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(e,n,r.any),e.isError(o))return o}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),o=!0}catch(u){o=!1}e.restore(n)}}if(r.obj&&o&&(n=e.enterObject()),o){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?i=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new s(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&o&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(s){const o=e.save(),a=r.choice[s];try{const r=a._decode(e,t);if(e.isError(r))return!1;n={type:s,value:r},i=!0}catch(u){return e.restore(o),!1}return!0}),this),i?n:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},c.prototype._encodeValue=function(e,t,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);let s=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}let o=null,a=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,r)._encode(e,t),a=!0;else if(i.children)o=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");const i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(r){const n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==i.use?s=this._getUse(i.use,r)._encode(e,t):(o=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){const e=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===e?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(e,a,r,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},c.prototype._encodeChoice=function(e,t){const r=this._baseState,n=r.choice[e.type];return n||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},58417:(e,t,r)=>{"use strict";const n=r(47110);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}t.b=i,i.prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},99041:(e,t)=>{"use strict";function r(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},21098:(e,t,r)=>{"use strict";const n=r(47110),i=r(17592),s=r(13147).C,o=r(38294),a=r(99041);function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function l(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=a.tagClass[r>>6],i=0===(32&r);if(31===(31&r)){let n=r;for(r=0;128===(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0===(128&n))return n;const i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}e.exports=u,u.prototype.decode=function(e,t){return s.isDecoderBuffer(e)||(e=new s(e,t)),this.tree._decode(e,t)},n(c,o),c.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},c.prototype._decodeTag=function(e,t,r){const n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){const r=l(e,t);if(e.isError(r))return r;const n=h(e,r.primitive,t);if(e.isError(n))return n;let i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},c.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const s=r.decode(e,"der",n);if(e.isError(s)&&t)break;i.push(s)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,r){let n;const i=[];let s=0,o=0;for(;!e.isEmpty();)o=e.readUInt8(),s<<=7,s|=127&o,0===(128&o)&&(i.push(s),s=0);128&o&&i.push(s);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},c.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,s,o,a,u;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){const r=e.raw();let n=new i(r);return t&&(n=t[n.toString(10)]||n),n},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},33935:(e,t,r)=>{"use strict";const n=t;n.der=r(21098),n.pem=r(14580)},14580:(e,t,r)=>{"use strict";const n=r(47110),i=r(74054).Buffer,s=r(21098);function o(e){s.call(this,e),this.enc="pem"}n(o,s),e.exports=o,o.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let i=0;i<r.length;i++){const e=r[i].match(o);if(null!==e&&e[2]===n){if(-1!==a){if("END"!==e[1])break;u=i;break}if("BEGIN"!==e[1])break;a=i}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);const c=r.slice(a+1,u).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(c,"base64");return s.prototype.decode.call(this,l,t)}},95950:(e,t,r)=>{"use strict";const n=r(47110),i=r(74054).Buffer,s=r(38294),o=r(99041);function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=a,a.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,s),u.prototype._encodeComposite=function(e,t,r,n){const s=function(e,t,r,n){let i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=o.tagClassByName[r||"universal"]<<6,i}(e,t,r,this.reporter);if(n.length<128){const e=i.alloc(2);return e[0]=s,e[1]=n.length,this._createEncoderBuffer([e,n])}let a=1;for(let i=n.length;i>=256;i>>=8)a++;const u=i.alloc(2+a);u[0]=s,u[1]=128|a;for(let i=1+a,o=n.length;o>0;i--,o>>=8)u[i]=255&o;return this._createEncoderBuffer([u,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=i.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let i=0;i<e.length;i++){let t=e[i];for(n++;t>=128;t>>=7)n++}const s=i.alloc(n);let o=s.length-1;for(let i=e.length-1;i>=0;i--){let t=e[i];for(s[o--]=127&t;(t>>=7)>0;)s[o--]=128|127&t}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[c(n.getUTCFullYear()),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[c(n.getUTCFullYear()%100),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!i.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=i.from(t)}if(i.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=i.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let i=e;i>=256;i>>=8)r++;const n=new Array(r);for(let i=n.length-1;i>=0;i--)n[i]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;const s=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),s.length!==n.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==n.defaultBuffer[i])return!1;return!0}},79146:(e,t,r)=>{"use strict";const n=t;n.der=r(95950),n.pem=r(3732)},3732:(e,t,r)=>{"use strict";const n=r(47110),i=r(95950);function s(e){i.call(this,e),this.enc="pem"}n(s,i),e.exports=s,s.prototype.encode=function(e,t){const r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"];for(let i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},17592:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(80950).Buffer}catch(T){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(e,l,e.length,t),l=0;l<o;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?g+r:l[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,g=f>>>13,y=0|o[2],m=8191&y,v=y>>>13,w=0|o[3],b=8191&w,_=w>>>13,E=0|o[4],S=8191&E,A=E>>>13,T=0|o[5],x=8191&T,k=T>>>13,R=0|o[6],P=8191&R,M=R>>>13,C=0|o[7],I=8191&C,U=C>>>13,B=0|o[8],O=8191&B,N=B>>>13,L=0|o[9],D=8191&L,H=L>>>13,q=0|a[0],z=8191&q,F=q>>>13,j=0|a[1],K=8191&j,$=j>>>13,G=0|a[2],Z=8191&G,V=G>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,de=le>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(d,z)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(g,z)|0,s=Math.imul(g,F);var me=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(d,K)|0))<<13)|0;c=((s=s+Math.imul(d,$)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,z),i=(i=Math.imul(m,F))+Math.imul(v,z)|0,s=Math.imul(v,F),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,$)|0;var ve=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,V)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,F))+Math.imul(_,z)|0,s=Math.imul(_,F),n=n+Math.imul(m,K)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,$)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,V)|0;var we=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(d,J)|0))<<13)|0;c=((s=s+Math.imul(d,X)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(A,z)|0,s=Math.imul(A,F),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,V)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,X)|0;var be=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,F))+Math.imul(k,z)|0,s=Math.imul(k,F),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,$)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,V)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var _e=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,F))+Math.imul(M,z)|0,s=Math.imul(M,F),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,V)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ne)|0;var Ee=(c+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,F))+Math.imul(U,z)|0,s=Math.imul(U,F),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,$)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,V)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,s=s+Math.imul(v,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var Se=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(N,z)|0,s=Math.imul(N,F),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(U,K)|0,s=s+Math.imul(U,$)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,V)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(m,se)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(g,ue)|0,s=s+Math.imul(g,ce)|0;var Ae=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,F))+Math.imul(H,z)|0,s=Math.imul(H,F),n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(U,Z)|0,s=s+Math.imul(U,V)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(b,se)|0,i=(i=i+Math.imul(b,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(v,ue)|0,s=s+Math.imul(v,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,de)|0;var Te=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ge)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,$))+Math.imul(H,K)|0,s=Math.imul(H,$),n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,V)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(U,J)|0,s=s+Math.imul(U,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(k,re)|0,s=s+Math.imul(k,ne)|0,n=n+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(m,he)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(v,he)|0,s=s+Math.imul(v,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,V))+Math.imul(H,Z)|0,s=Math.imul(H,V),n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(U,Q)|0,s=s+Math.imul(U,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(b,he)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(_,he)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(v,pe)|0))<<13)|0;c=((s=s+Math.imul(v,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,X))+Math.imul(H,J)|0,s=Math.imul(H,X),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(U,re)|0,s=s+Math.imul(U,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(k,ue)|0,s=s+Math.imul(k,ce)|0,n=n+Math.imul(S,he)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(A,he)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ge)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(H,Q)|0,s=Math.imul(H,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(U,se)|0,s=s+Math.imul(U,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,ce)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(k,he)|0,s=s+Math.imul(k,de)|0;var Pe=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ge)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(H,re)|0,s=Math.imul(H,ne),n=n+Math.imul(O,se)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(U,ue)|0,s=s+Math.imul(U,ce)|0,n=n+Math.imul(P,he)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,de)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ge)|0)+Math.imul(k,pe)|0))<<13)|0;c=((s=s+Math.imul(k,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,se),i=(i=Math.imul(D,oe))+Math.imul(H,se)|0,s=Math.imul(H,oe),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(I,he)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(U,he)|0,s=s+Math.imul(U,de)|0;var Ce=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ge)|0)+Math.imul(M,pe)|0))<<13)|0;c=((s=s+Math.imul(M,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,ce))+Math.imul(H,ue)|0,s=Math.imul(H,ce),n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,de)|0;var Ie=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,ge)|0)+Math.imul(U,pe)|0))<<13)|0;c=((s=s+Math.imul(U,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul(H,he)|0,s=Math.imul(H,de);var Ue=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,ge)|0)+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863;var Be=(c+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(H,pe)|0))<<13)|0;return c=((s=Math.imul(H,ge))+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,u[0]=ye,u[1]=me,u[2]=ve,u[3]=we,u[4]=be,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=Ae,u[9]=Te,u[10]=xe,u[11]=ke,u[12]=Re,u[13]=Pe,u[14]=Me,u[15]=Ce,u[16]=Ie,u[17]=Ue,u[18]=Be,0!==c&&(u[19]=c,r.length++),r};function g(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,h=(0|e.words[l])*(0|t.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):g(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},y.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],g=n[l+f],y=r[l+f+o],m=n[l+f+o],v=h*y-d*m;m=h*m+d*y,y=v,r[l+f]=p+y,n[l+f]=g+m,r[l+f+o]=p-y,n[l+f+o]=g-m,f!==a&&(v=u*h-c*d,d=u*d+c*h,h=v)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0===(-8192&s))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(w,v),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(b,v),i(_,v),i(E,v),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new b;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(h,new s(1).iushln(p-y-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=y}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new A(e)},i(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},8669:(e,t,r)=>{var n=r(93301);e.exports=function(e,t){return new Promise((function(r,i){var s,o=t||{};function a(e){i(e||new Error("Aborted"))}function u(e,t){e.bail?a(e):s.retry(e)?o.onRetry&&o.onRetry(e,t):i(s.mainError())}"randomize"in o||(o.randomize=!0),(s=n.operation(o)).attempt((function(t){var n;try{n=e(a,t)}catch(i){return void u(i,t)}Promise.resolve(n).then(r).catch((function(e){u(e,t)}))}))}))}},83695:(module,exports,__webpack_require__)=>{var process=__webpack_require__(54501),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"===typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var s,o=[],a=e.length,u=0;for(n=0;n<a;++n)(s=e.charCodeAt(n))<128?o[u++]=s:s<2048?(o[u++]=192|s>>6,o[u++]=128|63&s):s<55296||s>=57344?(o[u++]=224|s>>12,o[u++]=128|s>>6&63,o[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++n)),o[u++]=240|s>>18,o[u++]=128|s>>12&63,o[u++]=128|s>>6&63,o[u++]=128|63&s);e=o}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],l=[];for(n=0;n<64;++n){var h=e[n]||0;c[n]=92^h,l[n]=54^h}Sha256.call(this,t,r),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,s=0,o=e.length,a=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;s<o&&i<64;++s)a[i>>2]|=e[s]<<SHIFT[3&i++];else for(i=this.start;s<o&&i<64;++s)(n=e.charCodeAt(s))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++s)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,s,o,a,u,c=this.h0,l=this.h1,h=this.h2,d=this.h3,f=this.h4,p=this.h5,g=this.h6,y=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((i=m[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[e]=m[e-16]+t+m[e-7]+r<<0;for(u=l&h,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,y=(i=m[0]-1413257819)-150054599<<0,d=i+24177077<<0):(s=704751109,y=(i=m[0]-210244248)-1521486534<<0,d=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(s=c&l)^c&h^u,y=d+(i=y+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&g)+K[e]+m[e])<<0,d=i+(t+n)<<0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(o=d&c)^d&l^s,g=h+(i=g+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&f^~y&p)+K[e+1]+m[e+1])<<0,t=((h=i+(t+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&d)^h&c^o,p=l+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&f)+K[e+2]+m[e+2])<<0,t=((l=i+(t+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(u=l&h)^l&d^a,f=c+(i=f+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&y)+K[e+3]+m[e+3])<<0,c=i+(t+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+d<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+y<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},21396:(e,t,r)=>{e.exports=r(59069)(r(78845))},59069:(e,t,r)=>{const n=r(53686),i=r(82631);e.exports=function(e){const t=n(e),r=i(e);return function(e,n){switch("string"===typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},53686:(e,t,r)=>{var n=r(30261).Buffer;const{Transform:i}=r(87488);e.exports=e=>class t extends i{constructor(t,r,n,i,s){super(s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(r){t=r}e(t)}update(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},82631:(e,t,r)=>{var n=r(30261).Buffer;const{Transform:i}=r(87488);e.exports=e=>class t extends i{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},2757:(e,t)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49];let f=h^(s<<1|o>>>31),p=d^(o<<1|s>>>31);const g=e[0]^f,y=e[1]^p,m=e[10]^f,v=e[11]^p,w=e[20]^f,b=e[21]^p,_=e[30]^f,E=e[31]^p,S=e[40]^f,A=e[41]^p;f=n^(a<<1|u>>>31),p=i^(u<<1|a>>>31);const T=e[2]^f,x=e[3]^p,k=e[12]^f,R=e[13]^p,P=e[22]^f,M=e[23]^p,C=e[32]^f,I=e[33]^p,U=e[42]^f,B=e[43]^p;f=s^(c<<1|l>>>31),p=o^(l<<1|c>>>31);const O=e[4]^f,N=e[5]^p,L=e[14]^f,D=e[15]^p,H=e[24]^f,q=e[25]^p,z=e[34]^f,F=e[35]^p,j=e[44]^f,K=e[45]^p;f=a^(h<<1|d>>>31),p=u^(d<<1|h>>>31);const $=e[6]^f,G=e[7]^p,Z=e[16]^f,V=e[17]^p,W=e[26]^f,J=e[27]^p,X=e[36]^f,Y=e[37]^p,Q=e[46]^f,ee=e[47]^p;f=c^(n<<1|i>>>31),p=l^(i<<1|n>>>31);const te=e[8]^f,re=e[9]^p,ne=e[18]^f,ie=e[19]^p,se=e[28]^f,oe=e[29]^p,ae=e[38]^f,ue=e[39]^p,ce=e[48]^f,le=e[49]^p,he=g,de=y,fe=v<<4|m>>>28,pe=m<<4|v>>>28,ge=w<<3|b>>>29,ye=b<<3|w>>>29,me=E<<9|_>>>23,ve=_<<9|E>>>23,we=S<<18|A>>>14,be=A<<18|S>>>14,_e=T<<1|x>>>31,Ee=x<<1|T>>>31,Se=R<<12|k>>>20,Ae=k<<12|R>>>20,Te=P<<10|M>>>22,xe=M<<10|P>>>22,ke=I<<13|C>>>19,Re=C<<13|I>>>19,Pe=U<<2|B>>>30,Me=B<<2|U>>>30,Ce=N<<30|O>>>2,Ie=O<<30|N>>>2,Ue=L<<6|D>>>26,Be=D<<6|L>>>26,Oe=q<<11|H>>>21,Ne=H<<11|q>>>21,Le=z<<15|F>>>17,De=F<<15|z>>>17,He=K<<29|j>>>3,qe=j<<29|K>>>3,ze=$<<28|G>>>4,Fe=G<<28|$>>>4,je=V<<23|Z>>>9,Ke=Z<<23|V>>>9,$e=W<<25|J>>>7,Ge=J<<25|W>>>7,Ze=X<<21|Y>>>11,Ve=Y<<21|X>>>11,We=ee<<24|Q>>>8,Je=Q<<24|ee>>>8,Xe=te<<27|re>>>5,Ye=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=oe<<7|se>>>25,rt=se<<7|oe>>>25,nt=ae<<8|ue>>>24,it=ue<<8|ae>>>24,st=ce<<14|le>>>18,ot=le<<14|ce>>>18;e[0]=he^~Se&Oe,e[1]=de^~Ae&Ne,e[10]=ze^~Qe&ge,e[11]=Fe^~et&ye,e[20]=_e^~Ue&$e,e[21]=Ee^~Be&Ge,e[30]=Xe^~fe&Te,e[31]=Ye^~pe&xe,e[40]=Ce^~je&tt,e[41]=Ie^~Ke&rt,e[2]=Se^~Oe&Ze,e[3]=Ae^~Ne&Ve,e[12]=Qe^~ge&ke,e[13]=et^~ye&Re,e[22]=Ue^~$e&nt,e[23]=Be^~Ge&it,e[32]=fe^~Te&Le,e[33]=pe^~xe&De,e[42]=je^~tt&me,e[43]=Ke^~rt&ve,e[4]=Oe^~Ze&st,e[5]=Ne^~Ve&ot,e[14]=ge^~ke&He,e[15]=ye^~Re&qe,e[24]=$e^~nt&we,e[25]=Ge^~it&be,e[34]=Te^~Le&We,e[35]=xe^~De&Je,e[44]=tt^~me&Pe,e[45]=rt^~ve&Me,e[6]=Ze^~st&he,e[7]=Ve^~ot&de,e[16]=ke^~He&ze,e[17]=Re^~qe&Fe,e[26]=nt^~we&_e,e[27]=it^~be&Ee,e[36]=Le^~We&Xe,e[37]=De^~Je&Ye,e[46]=me^~Pe&Ce,e[47]=ve^~Me&Ie,e[8]=st^~he&Se,e[9]=ot^~de&Ae,e[18]=He^~ze&Qe,e[19]=qe^~Fe&et,e[28]=we^~_e&Ue,e[29]=be^~Ee&Be,e[38]=We^~Xe&fe,e[39]=Je^~Ye&pe,e[48]=Pe^~Ce&je,e[49]=Me^~Ie&Ke,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},78845:(e,t,r)=>{var n=r(30261).Buffer;const i=r(2757);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!==(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=n.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},s.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=s},78478:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"===typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,s,o,a;if("string"===typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},97760:(e,t,r)=>{"use strict";var n=r(54501),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var s=r(16348),o=r(19068);r(47110)(l,s);for(var a=i(o.prototype),u=0;u<a.length;u++){var c=a[u];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},88679:(e,t,r)=>{"use strict";e.exports=i;var n=r(28669);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(47110)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},16348:(e,t,r)=>{"use strict";var n,i=r(54501);e.exports=T,T.ReadableState=A;r(75121).EventEmitter;var s=function(e,t){return e.listeners(t).length},o=r(10733),a=r(30261).Buffer,u=("undefined"!==typeof r.g?r.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var c,l=r(94616);c=l&&l.debuglog?l.debuglog("stream"):function(){};var h,d,f,p=r(81204),g=r(4016),y=r(26492).getHighWaterMark,m=r(78478).q,v=m.ERR_INVALID_ARG_TYPE,w=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(47110)(T,o);var E=g.errorOrDestroy,S=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(97760),e=e||{},"boolean"!==typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(71778).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function T(e){if(n=n||r(97760),!(this instanceof T))return new T(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,r,n,i){c("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?M(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof u||"string"===typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)E(e,s);else if(o.objectMode||t&&t.length>0)if("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?E(e,new _):k(e,o,t,!0);else if(o.ended)E(e,new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?k(e,o,t,!1):I(e,o)):k(e,o,t,!1)}else n||(o.reading=!1,I(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&M(e)),I(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=g.destroy,T.prototype._undestroy=g.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},T.prototype.unshift=function(e){return x(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){h||(h=r(71778).StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function M(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(C,e))}function C(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(U,e,t))}function U(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){c("readable nexttick read 0"),e.read(0)}function N(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function H(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?H(this):M(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&H(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&H(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){E(this,new b("_read()"))},T.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:y;function a(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",d),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",l);var h=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==z(n.pipes,e))&&!h&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){c("onerror",t),y(),e.removeListener("error",f),0===s(e,"error")&&E(e,t)}function p(){e.removeListener("finish",g),y()}function g(){c("onfinish"),e.removeListener("close",p),y()}function y(){c("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?M(this):n.reading||i.nextTick(O,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(B,this),r},T.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(B,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(38223)),d(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=D,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(T.from=function(e,t){return void 0===f&&(f=r(32916)),f(T,e,t)})},28669:(e,t,r)=>{"use strict";e.exports=l;var n=r(78478).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(97760);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(47110)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},19068:(e,t,r)=>{"use strict";var n,i=r(54501);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=T,T.WritableState=A;var o={deprecate:r(67723)},a=r(10733),u=r(30261).Buffer,c=("undefined"!==typeof r.g?r.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l,h=r(4016),d=r(26492).getHighWaterMark,f=r(78478).q,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,w=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,E=h.errorOrDestroy;function S(){}function A(e,t,o){n=n||r(97760),e=e||{},"boolean"!==typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if("function"!==typeof s)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,s){--t.pendingcb,r?(i.nextTick(s,n),i.nextTick(C,e,t),e._writableState.errorEmitted=!0,E(e,n)):(s(n),e._writableState.errorEmitted=!0,E(e,n),C(e,t))}(e,r,n,t,s);else{var o=P(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),n?i.nextTick(k,e,r,o,s):k(e,r,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function T(e){var t=this instanceof(n=n||r(97760));if(!t&&!l.call(T,this))return new T(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function x(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,x(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(47110)(T,a),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===T&&(e&&e._writableState instanceof A)}})):l=function(e){return e instanceof this},T.prototype.pipe=function(){E(this,new m)},T.prototype.write=function(e,t,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=e,u.isBuffer(n)||n instanceof c);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"===typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!==typeof r&&(r=S),s.ending?function(e,t){var r=new b;E(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var s;return null===r?s=new w:"string"===typeof r||t.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(E(e,s),i.nextTick(n,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,i,s);return c}(this,s,a,e,t,r)),o},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new g("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var n=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=h.destroy,T.prototype._undestroy=h.undestroy,T.prototype._destroy=function(e,t){t(e)}},38223:(e,t,r)=>{"use strict";var n,i=r(54501);function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(98323),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[h]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((s(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[d])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(v,(s(t={},f,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,u,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:e._readableState.endEmitted,writable:!0}),s(t,d,{value:function(e,t){var n=r[f].read();n?(r[h]=null,r[a]=null,r[u]=null,e(p(n,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[h]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[h]=null,r[a]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},81204:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var u=r(30261).Buffer,c=r(52361).inspect,l=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t,r,n,i=u.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,u.prototype.copy.call(t,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4016:(e,t,r)=>{"use strict";var n=r(54501);function i(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,e)):n.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(s,r),t(e)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},98323:(e,t,r)=>{"use strict";var n=r(78478).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"===typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},32916:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},32130:(e,t,r)=>{"use strict";var n;var i=r(78478).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!==typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var d=t.map((function(e,i){var s=i<t.length-1;return function(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(98323)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}(e,s,i>0,(function(e){l||(l=e),e&&d.forEach(u),s||(d.forEach(u),h(l))}))}));return t.reduce(c)}},26492:(e,t,r)=>{"use strict";var n=r(78478).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},10733:(e,t,r)=>{e.exports=r(75121).EventEmitter},87488:(e,t,r)=>{(t=e.exports=r(16348)).Stream=t,t.Readable=t,t.Writable=r(19068),t.Duplex=r(97760),t.Transform=r(28669),t.PassThrough=r(88679),t.finished=r(98323),t.pipeline=r(32130)},93301:(e,t,r)=>{e.exports=r(73263)},73263:(e,t,r)=>{var n=r(74664);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"===typeof e[i]&&n.push(i);for(var s=0;s<n.length;s++){var o=n[s],a=e[o];e[o]=function(n){var i=t.operation(r),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(e,s)}))}.bind(e,a),e[o].options=r}}},74664:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}},74054:(e,t,r)=>{"use strict";var n,i=r(54501),s=r(30261),o=s.Buffer,a={};for(n in s)s.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=s[n]);var u=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(u[n]=o[n]);if(a.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,r){if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&"undefined"===typeof e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),u.alloc||(u.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(c){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a},14703:function(e){"use strict";!function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,s=2773480762,o=1359893119,a=2600822924,u=528734635,c=1541459225;const l=new Uint32Array(64);function h(e){let h=0,d=e.length;for(;d>=64;){let f,p,g,y,m,v=r,w=n,b=i,_=s,E=o,S=a,A=u,T=c;for(p=0;p<16;p++)g=h+4*p,l[p]=(255&e[g])<<24|(255&e[g+1])<<16|(255&e[g+2])<<8|255&e[g+3];for(p=16;p<64;p++)f=l[p-2],y=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,f=l[p-15],m=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,l[p]=(y+l[p-7]|0)+(m+l[p-16]|0)|0;for(p=0;p<64;p++)y=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&S^~E&A)|0)+(T+(t[p]+l[p]|0)|0)|0,m=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&w^v&b^w&b)|0,T=A,A=S,S=E,E=_+y|0,_=b,b=w,w=v,v=y+m|0;r=r+v|0,n=n+w|0,i=i+b|0,s=s+_|0,o=o+E|0,a=a+S|0,u=u+A|0,c=c+T|0,h+=64,d-=64}}h(e);let d,f=e.length%64,p=e.length/536870912|0,g=e.length<<3,y=f<56?56:120,m=e.slice(e.length-f,e.length);for(m.push(128),d=f+1;d<y;d++)m.push(0);return m.push(p>>>24&255),m.push(p>>>16&255),m.push(p>>>8&255),m.push(p>>>0&255),m.push(g>>>24&255),m.push(g>>>16&255),m.push(g>>>8&255),m.push(g>>>0&255),h(m),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4,s=new Array(i),o=new Array(64);let a,u=[];for(a=0;a<64;a++)s[a]=54;for(a=0;a<e.length;a++)s[a]^=e[a];for(a=0;a<t.length;a++)s[64+a]=t[a];for(a=i-4;a<i;a++)s[a]=0;for(a=0;a<64;a++)o[a]=92;for(a=0;a<e.length;a++)o[a]^=e[a];function c(){for(let e=i-1;e>=i-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;r>=32;)c(),u=u.concat(n(o.concat(n(s)))),r-=32;return r>0&&(c(),u=u.concat(n(o.concat(n(s))).slice(0,r))),u}function s(e,t,r,n,i){let s;for(c(e,16*(2*r-1),i,0,16),s=0;s<2*r;s++)u(e,16*s,i,16),a(i,n),c(i,0,e,t+16*s,16);for(s=0;s<r;s++)c(e,t+2*s*16,e,16*s,16);for(s=0;s<r;s++)c(e,t+16*(2*s+1),e,16*(s+r),16)}function o(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let r=8;r>0;r-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function u(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function l(e){if(!e||"number"!==typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function h(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function d(e,t,n,o,a,d,f){if(n=h(n,"N"),o=h(o,"r"),a=h(a,"p"),d=h(d,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>r/128/o)throw new Error("N too large");if(o>r/128/a)throw new Error("r too large");if(!l(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!l(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=i(e,t,128*a*o);const g=new Uint32Array(32*a*o);for(let r=0;r<g.length;r++){const e=4*r;g[r]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|(255&p[e+0])<<0}const y=new Uint32Array(64*o),m=new Uint32Array(32*o*n),v=32*o,w=new Uint32Array(16),b=new Uint32Array(16),_=a*n*2;let E,S,A=0,T=null,x=!1,k=0,R=0;const P=f?parseInt(1e3/o):4294967295,M="undefined"!==typeof setImmediate?setImmediate:setTimeout,C=function(){if(x)return f(new Error("cancelled"),A/_);let t;switch(k){case 0:S=32*R*o,c(g,S,y,0,v),k=1,E=0;case 1:t=n-E,t>P&&(t=P);for(let e=0;e<t;e++)c(y,0,m,(E+e)*v,v),s(y,v,o,w,b);if(E+=t,A+=t,f){const e=parseInt(1e3*A/_);if(e!==T){if(x=f(null,A/_),x)break;T=e}}if(E<n)break;E=0,k=2;case 2:t=n-E,t>P&&(t=P);for(let e=0;e<t;e++){const e=y[16*(2*o-1)]&n-1;u(m,e*v,y,v),s(y,v,o,w,b)}if(E+=t,A+=t,f){const e=parseInt(1e3*A/_);if(e!==T){if(x=f(null,A/_),x)break;T=e}}if(E<n)break;if(c(y,0,g,S,v),R++,R<a){k=0;break}p=[];for(let e=0;e<g.length;e++)p.push(g[e]>>0&255),p.push(g[e]>>8&255),p.push(g[e]>>16&255),p.push(g[e]>>24&255);const r=i(e,p,d);return f&&f(null,1,r),r}f&&M(C)};if(!f)for(;;){const e=C();if(void 0!=e)return e}C()}const f={scrypt:function(e,t,r,n,i,s,o){return new Promise((function(a,u){let c=0;o&&o(0),d(e,t,r,n,i,s,(function(e,t,r){if(e)u(e);else if(r)o&&1!==c&&o(1),a(new Uint8Array(r));else if(o&&t!==c)return c=t,o(t)}))}))},syncScrypt:function(e,t,r,n,i,s){return new Uint8Array(d(e,t,r,n,i,s))}};e.exports=f}()},31883:(e,t,r)=>{e.exports=r(93480)(r(7804))},7804:(e,t,r)=>{const n=new(0,r(40632).ec)("secp256k1"),i=n.curve,s=i.n.constructor;function o(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new s(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let o=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==o.isOdd()&&(o=o.redNeg()),n.keyPair({pub:{x:r,y:o}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let o=new s(t),a=new s(r);if(o.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(o=o.toRed(i.red),a=a.toRed(i.red),(6===e||7===e)&&a.isOdd()!==(7===e))return null;const u=o.redSqr().redIMul(o);return a.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:o,y:a}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function a(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new s(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new s(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new s(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new s(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new s(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new s(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===o(e)?1:0,publicKeyCreate(e,t){const r=new s(t);if(r.cmp(i.n)>=0||r.isZero())return 1;return a(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=o(t);if(null===r)return 1;return a(e,r.getPublic()),0},publicKeyNegate(e,t){const r=o(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),a(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=o(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(a(e,n),0)},publicKeyTweakAdd(e,t,r){const n=o(t);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0)return 2;const u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(a(e,u),0)},publicKeyTweakMul(e,t,r){const n=o(t);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0||r.isZero())return 2;return a(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new s(e.subarray(0,32)),r=new s(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new s(r).cmp(i.n)>=0)return 1;if(new s(n).cmp(i.n)>=0)return 1;const{output:o}=e;let a=o.subarray(4,37);a[0]=0,a.set(r,1);let u=33,c=0;for(;u>1&&0===a[c]&&!(128&a[c+1]);--u,++c);if(a=a.subarray(c),128&a[0])return 1;if(u>1&&0===a[0]&&!(128&a[1]))return 1;let l=o.subarray(39,72);l[0]=0,l.set(n,1);let h=33,d=0;for(;h>1&&0===l[d]&&!(128&l[d+1]);--h,++d);return l=l.subarray(d),128&l[0]||h>1&&0===l[0]&&!(128&l[1])?1:(e.outputlen=6+u+h,o[0]=48,o[1]=e.outputlen-2,o[2]=2,o[3]=a.length,o.set(a,4),o[4+u]=2,o[5+u]=l.length,o.set(l,6+u),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let o=t.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let a=t.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let u=new s(o);u.cmp(i.n)>=0&&(u=new s(0));let c=new s(t.subarray(6+r));return c.cmp(i.n)>=0&&(c=new s(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,o,a){if(a){const e=a;a=n=>{const i=e(t,r,null,o,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new s(i)}}const u=new s(r);if(u.cmp(i.n)>=0||u.isZero())return 1;let c;try{c=n.sign(t,r,{canonical:!0,k:a,pers:o})}catch(l){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify(e,t,r){const a={r:e.subarray(0,32),s:e.subarray(32,64)},u=new s(a.r),c=new s(a.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(n.nh)||u.isZero()||c.isZero())return 3;const l=o(r);if(null===l)return 2;const h=l.getPublic();return n.verify(t,a,h)?0:3},ecdsaRecover(e,t,r,o){const u={r:t.slice(0,32),s:t.slice(32,64)},c=new s(u.r),l=new s(u.s);if(c.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(c.isZero()||l.isZero())return 2;let h;try{h=n.recoverPubKey(o,u,r)}catch(d){return 2}return a(e,h),0},ecdh(e,t,r,a,u,c,l){const h=o(t);if(null===h)return 1;const d=new s(r);if(d.cmp(i.n)>=0||d.isZero())return 2;const f=h.getPublic().mul(d);if(void 0===u){const t=f.encode(null,!0),r=n.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{c||(c=new Uint8Array(32));const t=f.getX().toArray("be",32);for(let e=0;e<32;++e)c[e]=t[e];l||(l=new Uint8Array(32));const r=f.getY().toArray("be",32);for(let e=0;e<32;++e)l[e]=r[e];const n=u(c,l,a);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},93480:e=>{const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Unknow error on context randomization",s="Private Key is invalid",o="Public Key could not be parsed",a="Public Key serialization error",u="The sum of the public keys is not valid",c="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",h="Public key could not be recover",d="Scalar was invalid (zero or overflow)";function f(e,t){if(!e)throw new Error(t)}function p(e,t,r){if(f(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;f(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;f(t.length===r,n)}}function g(e){f("Boolean"===m(e),"Expected compressed to be a Boolean")}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>new Uint8Array(e),t=arguments.length>1?arguments[1]:void 0;return"function"===typeof e&&(e=e(t)),p("output",e,t),e}function m(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(f(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify:t=>(p("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(p("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(p("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(p("private key",t,32),g(r),n=y(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(a)}},publicKeyConvert(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(p("public key",t,[33,65]),g(r),n=y(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(a)}},publicKeyNegate(r){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;switch(p("public key",r,[33,65]),g(n),i=y(i,n?33:65),e.publicKeyNegate(i,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(t);case 3:throw new Error(a)}},publicKeyCombine(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;f(Array.isArray(t),"Expected public keys to be an Array"),f(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(g(r),n=y(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(u);case 3:throw new Error(a)}},publicKeyTweakAdd(t,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0;switch(p("public key",t,[33,65]),p("tweak",n,32),g(i),s=y(s,i?33:65),e.publicKeyTweakAdd(s,t,n)){case 0:return s;case 1:throw new Error(o);case 2:throw new Error(r)}},publicKeyTweakMul(t,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0;switch(p("public key",t,[33,65]),p("tweak",r,32),g(i),s=y(s,i?33:65),e.publicKeyTweakMul(s,t,r)){case 0:return s;case 1:throw new Error(o);case 2:throw new Error(n)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(c)}},signatureExport(r,n){p("signature",r,64);const i={output:n=y(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(c);case 2:throw new Error(t)}},signatureImport(r,n){switch(p("signature",r),n=y(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(t)}},ecdsaSign(r,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;p("message",r,32),p("private key",n,32),f("Object"===m(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&f("Function"===m(i.noncefn),"Expected options.noncefn to be a Function"),s=y(s,64);const o={signature:s,recid:null};switch(e.ecdsaSign(o,r,n,i.data,i.noncefn)){case 0:return o;case 1:throw new Error(l);case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(p("signature",t,64),p("message",r,32),p("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(c);case 2:throw new Error(o)}},ecdsaRecover(r,n,i){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;switch(p("signature",r,64),f("Number"===m(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),g(s),o=y(o,s?33:65),e.ecdsaRecover(o,r,n,i)){case 0:return o;case 1:throw new Error(c);case 2:throw new Error(h);case 3:throw new Error(t)}},ecdh(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;switch(p("public key",t,[33,65]),p("private key",r,32),f("Object"===m(n),"Expected options to be an Object"),void 0!==n.data&&p("options.data",n.data),void 0!==n.hashfn?(f("Function"===m(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&p("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&p("options.ybuf",n.ybuf,32),p("output",i)):i=y(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(d)}}})},67723:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(n){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},68683:(e,t,r)=>{"use strict";r.r(t),r.d(t,{WebIrys:()=>Bp,default:()=>Bp});var n={};r.r(n),r.d(n,{arToWinston:()=>Ke,b64UrlDecode:()=>Fe,b64UrlEncode:()=>ze,b64UrlToBuffer:()=>De,b64UrlToString:()=>Be,bufferToString:()=>Oe,bufferTob64:()=>He,bufferTob64Url:()=>qe,concatBuffers:()=>Ue,stringToB64Url:()=>Le,stringToBuffer:()=>Ne,winstonToAr:()=>je});var i={};r.r(i),r.d(i,{AVSCTap:()=>oo,AlgorandSigner:()=>Us,AptosSigner:()=>Hs,ArconnectSigner:()=>Js,Arweave:()=>St,ArweaveSigner:()=>zt,Bundle:()=>yo,BundleItem:()=>To,CryptoDriver:()=>Tt,Curve25519:()=>Ce,DataItem:()=>ho,EthereumSigner:()=>Ps,HexInjectedSolanaSigner:()=>Os,HexSolanaSigner:()=>Ls,InjectedAptosSigner:()=>zs,InjectedEthereumSigner:()=>ls,InjectedSolanaSigner:()=>jt,InjectedTypedEthereumSigner:()=>Ws,MAX_TAG_BYTES:()=>lo,MIN_BINARY_SIZE:()=>co,MultiSignatureAptosSigner:()=>js,NearSigner:()=>Cs,PolygonSigner:()=>Ms,Rsa4096:()=>Mt,SIG_CONFIG:()=>Re,SignatureConfig:()=>ke,Signer:()=>xe,SolanaSigner:()=>ds,TypedEthereumSigner:()=>$s,bundleAndSignData:()=>bo,byteArrayToLong:()=>io,concatBuffers:()=>Ue,createData:()=>Ao,deepHash:()=>Ze,deserializeTags:()=>uo,exportForTesting:()=>Ts,getCryptoDriver:()=>kt,getSignatureAndId:()=>_o,indexToType:()=>Xs,keccak256:()=>ys,longTo16ByteArray:()=>ro,longTo32ByteArray:()=>no,longTo8ByteArray:()=>eo,longToNByteArray:()=>Qs,secp256k1:()=>ks,serializeTags:()=>ao,shortTo2ByteArray:()=>to,sign:()=>Eo,stringToBuffer:()=>Ne,unbundleData:()=>wo});var s={};r.r(s),r.d(s,{default:()=>Bo,processStream:()=>Mo,streamExportForTesting:()=>Oo,streamSigner:()=>Co});var o={};r.r(o),r.d(o,{DataItem:()=>ho,bundleAndSignData:()=>bo,createData:()=>Ao,deepHash:()=>Ze,getCryptoDriver:()=>kt,stringToBuffer:()=>Ne});var a,u,c,l,h,d,f,p,g,y,m,v,w,b=r(20240);const _=()=>{throw new Error("Unimplemented")};null!==(a=globalThis.crypto)&&void 0!==a||(globalThis.crypto={}),null!==(c=(u=globalThis.crypto).subtle)&&void 0!==c||(u.subtle={}),null!==(h=(l=globalThis.crypto.subtle).generateKey)&&void 0!==h||(l.generateKey=_),null!==(f=(d=globalThis.crypto.subtle).importKey)&&void 0!==f||(d.importKey=_),null!==(g=(p=globalThis.crypto.subtle).exportKey)&&void 0!==g||(p.exportKey=_),null!==(m=(y=globalThis.crypto.subtle).digest)&&void 0!==m||(y.digest=_),null!==(w=(v=globalThis.crypto.subtle).sign)&&void 0!==w||(v.sign=_);var E=r(14542),S=r(8669),A=r(15509),T=r(30261).Buffer;var x=r(65150),k=r(8278);k.Z.set({DECIMAL_PLACES:50});const R=e=>new Promise((t=>setTimeout(t,e)));class P{constructor(e,t,r){(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"token",void 0),(0,b.Z)(this,"tokenConfig",void 0),(0,b.Z)(this,"arbundles",void 0),this.api=e,this.token=t,this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,t,r){if(null!==e&&void 0!==e&&e.status&&!(null!==r&&void 0!==r?r:[]).includes(e.status)&&200!=e.status)throw new Error(`HTTP Error: ${t}: ${e.status} ${"string"!==typeof e.data?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return P.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const t=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return P.checkAndThrow(t,"Getting balance"),new k.Z(t.data.balance)}async getBundlerAddress(e){const t=await this.api.get("/info");P.checkAndThrow(t,"Getting Bundler address");const r=t.data.addresses[e];if(!r)throw new Error(`Specified bundler does not support token ${e}`);return r}async getPrice(e,t){const r=await this.api.get(`/price/${e}/${t}`);return P.checkAndThrow(r,"Getting storage cost"),new k.Z(r.data)}async estimateFolderPrice(e){var t;Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce(((e,t)=>e+t),0)});const r=null!==(t=e.headerSizeAvg)&&void 0!==t?t:this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,n=(await this.getPrice(this.tokenConfig.name,r)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(n).decimalPlaces(0)}toAtomic(e){return new k.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new k.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e){let t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(this.tokenConfig.isSlow)return;n<0&&(n=0);const i=await Promise.race([(async()=>(await R(1e3*n),r=!0,"RACE"))(),(async()=>{for(;!r;){if(await this.tokenConfig.getTx(e).then((e=>null===e||void 0===e?void 0:e.confirmed)).catch((e=>(t=e,!1))))return!0;await R(1e3)}return!1})()]);return"RACE"===i?(console.warn(`Tx ${e} didn't finalize after ${n} seconds ${t?` - ${t}`:""}`),t):i}unitConverter(e){return new k.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return P.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,t){const{id:r,deadlineHeight:n,timestamp:i,public:s,signature:o,version:a}=t,u=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(a),e.stringToBuffer(r),e.stringToBuffer(n.toString()),e.stringToBuffer(i.toString())]);return await e.getCryptoDriver().verify(s,u,x.toBuffer(o))}async getReceipt(e){var t,r,n,i,s,o;const a=`query {\n      transactions(ids: ["${e}"]) {\n        edges {\n          node {\n            receipt {\n              signature\n              timestamp\n              version\n              deadlineHeight\n            }\n          }\n        }\n      }\n    }`,u=await S((async()=>await this.api.post("/graphql",{query:a},{headers:{"content-type":"application/json"},validateStatus:e=>200===e}))),c=null===u||void 0===u||null===(t=u.data)||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.transactions)||void 0===n||null===(i=n.edges)||void 0===i||null===(s=i.at(0))||void 0===s||null===(o=s.node)||void 0===o?void 0:o.receipt;if(!c)throw new Error(`Missing required receipt data from node for tx: ${e}`);const l={public:(await this.api.get("/public")).data,version:c.version,id:e,timestamp:c.timestamp,validatorSignatures:[],signature:c.signature,deadlineHeight:c.deadlineHeight,verify:async()=>!1};return l.verify=async()=>this.verifyReceipt(l),l}}var M=r(30261).Buffer;var C=r(6440);class I{constructor(e){let{url:t,retryConfig:r,query:n,queryName:i,opts:s}=e;if((0,b.Z)(this,"queryVars",{}),(0,b.Z)(this,"queryFields",void 0),(0,b.Z)(this,"queryInfo",void 0),(0,b.Z)(this,"_query",void 0),(0,b.Z)(this,"url",void 0),(0,b.Z)(this,"config",void 0),(0,b.Z)(this,"resultTracker",{numPages:0,numResults:0,done:!1}),!t)throw new Error("URL is required");if(this.url=new URL(t),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...r}},!1===n)return this;if(!n)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...n},this.queryFields=n.query,i.includes("arweave")&&"node1.bundlr.network"===this.url.host&&(this.url=new URL("https://arweave.net/graphql")),null===s||void 0===s||!s.skipVariableSetters)for(const o of Object.keys(n.vars)){if(this[o])throw new Error(`Field setter ${o} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[o]=e=>(this.queryVars[o]=e,this)}return this}buildQuery(){var e,t,r;if(this.config.userProvided)return this;const n=e=>JSON.stringify(e,((e,t)=>t instanceof Array?t[0]:"object"===typeof t?t:!1!==t?"":void 0)).replaceAll(":","").replaceAll('"',"").replaceAll(",","\n          "),i=n(this.queryFields),s=n({pageInfo:{[null!==(e=null===(t=this.queryInfo.paging)||void 0===t?void 0:t.hasNextPage)&&void 0!==e?e:"hasNextPage"]:void 0}}).slice(1,-1),o=this.queryInfo.enumValues,a={...this.queryInfo.vars,...this.queryVars};for(const[h,d]of Object.entries(null!==(u=this.queryInfo.remapVars)&&void 0!==u?u:{})){var u;if(void 0!==(null===a||void 0===a?void 0:a[h])){if("function"===typeof d){const e=d(h,a[h],a);if(!e)continue;const[t,r]=e;if(a[t]=r,t===h)continue}else a[d]=a[h];a[h]=void 0}}const c=JSON.stringify(a,(function(e,t){return void 0===t||t instanceof Array||"object"===typeof t||"number"===typeof t||null!==o&&void 0!==o&&o.includes(e)?t:`'${t}'`})).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(null===this||void 0===this||null===(r=this.queryInfo)||void 0===r||!r.name)throw new Error("Query name is undefined!");const l=this.queryInfo.paging?`query {\n      ${this.queryInfo.name}(\n        ${c}\n      ) {\n        edges {\n          cursor\n          node ${i}\n        }\n        ${s}\n      }\n    }`:`query {\n    ${this.queryInfo.name}(\n      ${c}\n    ) \n    ${i}\n  }`;return this._query=l,this}async getPage(){if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await S((async e=>{const t=await(0,E.Z)(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(t.data.errors)throw t;return t}),this.config.retryOpts)}catch(s){var t,r,n;throw new Error(`Error running query\n ${this._query} - ${s.message?s.message+" -":""} (${JSON.stringify(null!==(t=null!==(r=null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.errors.map((e=>e.message)))&&void 0!==r?r:null===s||void 0===s?void 0:s.errors)&&void 0!==t?t:s)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const i=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const e=i.pageInfo[this.queryInfo.paging.hasNextPage]?i.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=e,this.trimmer(i.edges.map((e=>e.node)))}return this.trimmer([i].flat(20))}trimmer(e){var t,r;const n=++this.resultTracker.numPages,i=this.resultTracker.numResults+=e.length;if(0===e.length)return this.resultTracker.done=!0,e;if(n>=(null===this||void 0===this||null===(t=this.config)||void 0===t?void 0:t.numPages)&&(this.resultTracker.done=!0),i>=(null===this||void 0===this||null===(r=this.config)||void 0===r?void 0:r.numResults)){this.resultTracker.done=!0;const t=this.config.numResults-(i-e.length);return e.slice(0,t)}return e}async first(){var e;const t=await this.getPage();return null!==(e=null===t||void 0===t?void 0:t.at(0))&&void 0!==e?e:void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const t=await this.getPage();if(!t)break;e.push(...t)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const t of e)yield t}while(this.queryVars.after)}stream(){return C.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e){const t=(e,r,n)=>{for(const i of Object.keys(n)){let s=r[i];Array.isArray(s)&&(s=s[0]);const o=n[i];if(void 0===s)throw new Error(`Illegal field ${e}${i}`);"object"===typeof o&&t(e+i+".",s,o)}};return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,t){return this.all().then(e,t)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const U={id:"",timestamp:0,height:"",previous:""},B={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},O={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(e,t,r)=>{r.timestamp={...r.timestamp,from:new Date(t).getTime()},r.fromTimestamp=void 0},toTimestamp:(e,t,r)=>{r.timestamp={...r.timestamp,to:new Date(t).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:B,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(e,t)=>[e,"ASC"===t?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(e,t,r)=>{r.block={...r.block,min:t},r.minHeight=void 0},maxHeight:(e,t,r)=>{r.block={...r.block,max:t},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":{name:"blocks",query:U,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(e,t)=>[e,"ASC"===t?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(e,t,r)=>{r.height={...r.height,min:t},r.minHeight=void 0},maxHeight:(e,t,r)=>{r.height={...r.height,max:t},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}}};class N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:new URL("https://node1.bundlr.network/graphql")};if((0,b.Z)(this,"opts",void 0),!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,t){var r;const n=null!==(r=null===t||void 0===t?void 0:t.query)&&void 0!==r?r:O[e];return new I({...this.opts,query:n,queryName:e})}}class L{constructor(e){let{url:t,arbundles:r}=e;(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"utils",void 0),(0,b.Z)(this,"uploader",void 0),(0,b.Z)(this,"funder",void 0),(0,b.Z)(this,"address",void 0),(0,b.Z)(this,"token",void 0),(0,b.Z)(this,"tokenConfig",void 0),(0,b.Z)(this,"provenance",void 0),(0,b.Z)(this,"transactions",void 0),(0,b.Z)(this,"_readyPromise",void 0),(0,b.Z)(this,"url",void 0),(0,b.Z)(this,"arbundles",void 0),(0,b.Z)(this,"IrysTransaction",void 0),this.url=t,this.arbundles=r,this.IrysTransaction=function(e){class t extends e.arbundles.DataItem{constructor(e,t,r){var n;super(!0===(null===r||void 0===r?void 0:r.dataIsRawTransaction)?T.from(e):t.arbundles.createData(e,t.tokenConfig.getSigner(),{...r,anchor:null!==(n=null===r||void 0===r?void 0:r.anchor)&&void 0!==n?n:A.randomBytes(32).toString("base64").slice(0,32)}).getRaw()),(0,b.Z)(this,"Irys",void 0),(0,b.Z)(this,"signer",void 0),this.Irys=t,this.signer=t.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(e){return(await this.Irys.uploader.uploadTransaction(this,{...e,getReceiptSignature:!0})).data}async upload(e){return(await this.Irys.uploader.uploadTransaction(this,e)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return e.arbundles.DataItem.verify(this.getRaw())}}return t}(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new N({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new N(null!==e&&void 0!==e?e:{url:this.url})}async withdrawBalance(e){return async function(e,t,r){const n=e.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:e.token,amount:new k.Z(r).toString(),nonce:await e.getNonce(),signature:"",sigType:n.getSigner().signatureType},a=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);M.isBuffer(o.publicKey)||(o.publicKey=M.from(o.publicKey));const u=await n.sign(a),c=await n.verify(o.publicKey,a,u);o.publicKey=x.encode(o.publicKey),o.signature=x.encode(M.from(u));const l=x.toBuffer(o.publicKey),h=x.toBuffer(o.signature),d=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),f=await n.verify(l,d,h),p=n.ownerToAddress("arweave"==n.name?x.decode(o.publicKey):x.toBuffer(o.publicKey))===n.address;if(!(c||f||p))throw new Error(`Internal withdrawal validation failed - please report this!\nDebug Info:${JSON.stringify(o)}`);const g=await t.post("/account/withdraw",o);if(202===g.status){const t=g.data.tx_id,r=await e.confirmationPoll(t);if(!0!==r)throw new Error(`Unable to confirm withdrawal tx ${t} ${r?null===r||void 0===r?void 0:r.toString():""}`)}else P.checkAndThrow(g,"Withdrawing balance");return g.data}(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,t){return this.funder.fund(e,t)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return P.verifyReceipt(this.arbundles,e)}createTransaction(e,t){return new this.IrysTransaction(e,this,t)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,t){return this.uploader.uploadData(e,t)}async uploadWithReceipt(e,t){return this.uploader.uploadData(e,{...t,upload:{getReceiptSignature:!0}})}async ready(){return!this.tokenConfig.ready||await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw:t=>new e.IrysTransaction(t,e,{dataIsRawTransaction:!0})}}}(0,b.Z)(L,"VERSION","0.0.2");class D{constructor(e){(0,b.Z)(this,"_instance",void 0),(0,b.Z)(this,"cookieMap",new Map),(0,b.Z)(this,"config",void 0),e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){var t;const r=this.cookieMap.get(new URL(null!==(t=e.baseURL)&&void 0!==t?t:"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var t;const r=null===(t=e.headers)||void 0===t?void 0:t["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){var t,r,n,i;return{url:e.url,timeout:null!==(t=e.timeout)&&void 0!==t?t:2e4,logging:null!==(r=e.logging)&&void 0!==r&&r,logger:null!==(n=e.logger)&&void 0!==n?n:console.log,headers:{...e.headers,"x-irys-js-sdk-version":L.VERSION},withCredentials:null!==(i=e.withCredentials)&&void 0!==i&&i,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){try{return await this.request(e,{...t,method:"GET"})}catch(n){var r;if(null!==(r=n.response)&&void 0!==r&&r.status)return n.response;throw n}}async post(e,t,r){try{return await this.request(e,{data:t,...r,method:"POST"})}catch(i){var n;if(null!==(n=i.response)&&void 0!==n&&n.status)return i.response;throw i}}get instance(){if(this._instance)return this._instance;const e=E.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use((e=>(this.config.logger(`Requesting: ${e.baseURL}/${e.url}`),e))),e.interceptors.response.use((e=>(this.config.logger(`Response: ${e.config.url} - ${e.status}`),e)))),this._instance=e}async request(e,t){var r;const n=this.instance,i=null!==(r=null===t||void 0===t?void 0:t.url)&&void 0!==r?r:new URL(e,this.config.url).toString();return S((e=>n({...t,url:i})),{...this.config.retry,...null===t||void 0===t?void 0:t.retry})}}class H{constructor(e){(0,b.Z)(this,"utils",void 0),this.utils=e}async fund(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new k.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,s=await this.utils.getBundlerAddress(this.utils.token);let o;if(i.needsFee){const e=await i.getFee("winston"===i.base[0]?0:n,s);o=k.Z.isBigNumber(e)?e.multipliedBy(r).integerValue(k.Z.ROUND_CEIL):e}const a=await i.createTx(n,s,o);let u;try{u=await i.sendTx(a.tx)}catch(d){throw d}if(null!==(t=a.txId)&&void 0!==t||(a.txId=u),!a.txId)throw new Error("Undefined transaction ID");P.checkAndThrow(u,`Sending transaction to the ${this.utils.token} network`);let c=await this.utils.confirmationPoll(a.txId);var l,h;if(!await this.submitTransaction(a.txId).catch((e=>{c=e})))throw new Error(`failed to post funding tx - ${a.txId} - keep this id! \n ${c?` - ${null!==(l=null===(h=c)||void 0===h?void 0:h.message)&&void 0!==l?l:c}`:""}`);return{reward:k.Z.isBigNumber(o)?o.toString():JSON.stringify(o),target:s,quantity:n.toString(),id:a.txId}}async submitTransaction(e){return await S((async()=>{const t=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return P.checkAndThrow(t,`Posting transaction ${e} information to the bundler`,[202]),t}),{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var q=r(45081),z=r.n(q);let F=!1,j=!1;const K={debug:1,default:2,info:2,warning:3,error:4,off:5};let $=K.default,G=null;const Z=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var V,W;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(V||(V={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(W||(W={}));const J="0123456789abcdef";class X{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==K[r]&&this.throwArgumentError("invalid log level name","logLevel",e),$>K[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(X.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(X.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(X.levels.WARNING,t)}makeError(e,t,r){if(j)return this.makeError("censored error",t,{});t||(t=X.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=J[t[e]>>4],r+=J[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let s="";switch(t){case W.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case W.CALL_EXCEPTION:case W.INSUFFICIENT_FUNDS:case W.MISSING_NEW:case W.NONCE_EXPIRED:case W.REPLACEMENT_UNDERPRICED:case W.TRANSACTION_REPLACED:case W.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,X.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Z&&this.throwError("platform missing String.prototype.normalize",X.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Z})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,X.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,X.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,X.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,X.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",X.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",X.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",X.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return G||(G=new X("logger/5.7.0")),G}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",X.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),F){if(!e)return;this.globalLogger().throwError("error censorship permanent",X.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}j=!!e,F=!!t}static setLogLevel(e){const t=K[e.toLowerCase()];null!=t?$=t:X.globalLogger().warn("invalid log level - "+e)}static from(e){return new X(e)}}X.errors=W,X.levels=V;const Y=new X("bytes/5.7.0");function Q(e){return!!e.toHexString}function ee(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return ee(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function te(e){return ae(e)&&!(e.length%2)||ne(e)}function re(e){return"number"===typeof e&&e==e&&e%1===0}function ne(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!re(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!re(r)||r<0||r>=256)return!1}return!0}function ie(e,t){if(t||(t={}),"number"===typeof e){Y.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),ee(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Q(e)&&(e=e.toHexString()),ae(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":Y.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return ee(new Uint8Array(n))}return ne(e)?ee(new Uint8Array(e)):Y.throwArgumentError("invalid arrayify value","value",e)}function se(e){const t=e.map((e=>ie(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),ee(n)}function oe(e){let t=ie(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function ae(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const ue="0123456789abcdef";function ce(e,t){if(t||(t={}),"number"===typeof e){Y.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=ue[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Q(e))return e.toHexString();if(ae(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Y.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ne(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=ue[(240&n)>>4]+ue[15&n]}return t}return Y.throwArgumentError("invalid hexlify value","value",e)}function le(e){if("string"!==typeof e)e=ce(e);else if(!ae(e)||e.length%2)return null;return(e.length-2)/2}function he(e,t,r){return"string"!==typeof e?e=ce(e):(!ae(e)||e.length%2)&&Y.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function de(e){let t="0x";return e.forEach((e=>{t+=ce(e).substring(2)})),t}function fe(e,t){for("string"!==typeof e?e=ce(e):ae(e)||Y.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Y.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function pe(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(te(e)){let r=ie(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=ce(r.slice(0,32)),t.s=ce(r.slice(32,64))):65===r.length?(t.r=ce(r.slice(0,32)),t.s=ce(r.slice(32,64)),t.v=r[64]):Y.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Y.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=ce(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=ie(e)).length>t&&Y.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),ee(r)}(ie(t._vs),32);t._vs=ce(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&Y.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=ce(r);null==t.s?t.s=i:t.s!==i&&Y.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Y.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&Y.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&ae(t.r)?t.r=fe(t.r,32):Y.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&ae(t.s)?t.s=fe(t.s,32):Y.throwArgumentError("signature missing or invalid s","signature",e);const r=ie(t.s);r[0]>=128&&Y.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=ce(r);t._vs&&(ae(t._vs)||Y.throwArgumentError("signature invalid _vs","signature",e),t._vs=fe(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&Y.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function ge(e){return ce(se([(e=pe(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var ye=z().BN;const me=new X("bignumber/5.7.0"),ve={},we=9007199254740991;let be=!1;class _e{constructor(e,t){e!==ve&&me.throwError("cannot call constructor directly; use BigNumber.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Se(Ae(this).fromTwos(e))}toTwos(e){return Se(Ae(this).toTwos(e))}abs(){return"-"===this._hex[0]?_e.from(this._hex.substring(1)):this}add(e){return Se(Ae(this).add(Ae(e)))}sub(e){return Se(Ae(this).sub(Ae(e)))}div(e){return _e.from(e).isZero()&&Te("division-by-zero","div"),Se(Ae(this).div(Ae(e)))}mul(e){return Se(Ae(this).mul(Ae(e)))}mod(e){const t=Ae(e);return t.isNeg()&&Te("division-by-zero","mod"),Se(Ae(this).umod(t))}pow(e){const t=Ae(e);return t.isNeg()&&Te("negative-power","pow"),Se(Ae(this).pow(t))}and(e){const t=Ae(e);return(this.isNegative()||t.isNeg())&&Te("unbound-bitwise-result","and"),Se(Ae(this).and(t))}or(e){const t=Ae(e);return(this.isNegative()||t.isNeg())&&Te("unbound-bitwise-result","or"),Se(Ae(this).or(t))}xor(e){const t=Ae(e);return(this.isNegative()||t.isNeg())&&Te("unbound-bitwise-result","xor"),Se(Ae(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Te("negative-width","mask"),Se(Ae(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Te("negative-width","shl"),Se(Ae(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Te("negative-width","shr"),Se(Ae(this).shrn(e))}eq(e){return Ae(this).eq(Ae(e))}lt(e){return Ae(this).lt(Ae(e))}lte(e){return Ae(this).lte(Ae(e))}gt(e){return Ae(this).gt(Ae(e))}gte(e){return Ae(this).gte(Ae(e))}isNegative(){return"-"===this._hex[0]}isZero(){return Ae(this).isZero()}toNumber(){try{return Ae(this).toNumber()}catch(e){Te("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return me.throwError("this platform does not support BigInt",X.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?be||(be=!0,me.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?me.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",X.errors.UNEXPECTED_ARGUMENT,{}):me.throwError("BigNumber.toString does not accept parameters",X.errors.UNEXPECTED_ARGUMENT,{})),Ae(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof _e)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new _e(ve,Ee(e)):e.match(/^-?[0-9]+$/)?new _e(ve,Ee(new ye(e))):me.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&Te("underflow","BigNumber.from",e),(e>=we||e<=-we)&&Te("overflow","BigNumber.from",e),_e.from(String(e));const t=e;if("bigint"===typeof t)return _e.from(t.toString());if(ne(t))return _e.from(ce(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"===typeof e)return _e.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"===typeof e&&(ae(e)||"-"===e[0]&&ae(e.substring(1))))return _e.from(e)}return me.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function Ee(e){if("string"!==typeof e)return Ee(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&me.throwArgumentError("invalid hex","value",e),"0x00"===(e=Ee(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Se(e){return _e.from(Ee(e))}function Ae(e){const t=_e.from(e).toHexString();return"-"===t[0]?new ye("-"+t.substring(3),16):new ye(t.substring(2),16)}function Te(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),me.throwError(e,X.errors.NUMERIC_FAULT,n)}class xe{constructor(){(0,b.Z)(this,"publicKey",void 0),(0,b.Z)(this,"signatureType",void 0),(0,b.Z)(this,"signatureLength",void 0),(0,b.Z)(this,"ownerLength",void 0),(0,b.Z)(this,"pem",void 0)}static verify(e,t,r,n){throw new Error("You must implement verify method on child")}}var ke;!function(e){e[e.ARWEAVE=1]="ARWEAVE",e[e.ED25519=2]="ED25519",e[e.ETHEREUM=3]="ETHEREUM",e[e.SOLANA=4]="SOLANA",e[e.INJECTEDAPTOS=5]="INJECTEDAPTOS",e[e.MULTIAPTOS=6]="MULTIAPTOS",e[e.TYPEDETHEREUM=7]="TYPEDETHEREUM"}(ke||(ke={}));const Re={[ke.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[ke.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[ke.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[ke.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[ke.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[ke.MULTIAPTOS]:{sigLength:2052,pubLength:1025,sigName:"multiAptos"},[ke.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var Pe=r(58888),Me=r(30261).Buffer;class Ce{get publicKey(){return this._publicKey}constructor(e,t){(0,b.Z)(this,"_key",void 0),(0,b.Z)(this,"pk",void 0),(0,b.Z)(this,"ownerLength",Re[2].pubLength),(0,b.Z)(this,"signatureLength",Re[2].sigLength),(0,b.Z)(this,"_publicKey",void 0),(0,b.Z)(this,"signatureType",2),this._key=e,this.pk=t}get key(){throw new Error("You must implement `key`")}sign(e){return(0,Pe.Xx)(Me.from(e),Me.from(this.key))}static async verify(e,t,r){let n=e;return"string"===typeof e&&(n=x.toBuffer(e)),(0,Pe.T)(Me.from(r),Me.from(t),Me.from(n))}}var Ie=r(84505);function Ue(e){let t=0;for(const i of e)t+=i.byteLength;const r=new Uint8Array(t);let n=0;r.set(new Uint8Array(e[0]),n),n+=e[0].byteLength;for(let i=1;i<e.length;i++)r.set(new Uint8Array(e[i]),n),n+=e[i].byteLength;return r}function Be(e){return Oe(De(e))}function Oe(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function Ne(e){return(new TextEncoder).encode(e)}function Le(e){return qe(Ne(e))}function De(e){return new Uint8Array((0,Ie.toByteArray)(Fe(e)))}function He(e){return(0,Ie.fromByteArray)(new Uint8Array(e))}function qe(e){return ze(He(e))}function ze(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function Fe(e){let t;return t=(e=e.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-e.length%4,e.concat("=".repeat(t))}function je(e){return new k.Z(e).shiftedBy(-12)}function Ke(e){return new k.Z(e).shiftedBy(12)}class $e{constructor(){var e;(0,b.Z)(this,"keyLength",4096),(0,b.Z)(this,"publicExponent",65537),(0,b.Z)(this,"hashAlgorithm","sha256"),(0,b.Z)(this,"driver",void 0),this.driver=null===(e=crypto)||void 0===e?void 0:e.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),t=await this.driver.exportKey("jwk",e.privateKey);return{kty:t.kty,e:t.e,n:t.n,d:t.d,p:t.p,q:t.q,dp:t.dp,dq:t.dq,qi:t.qi}}async sign(e,t){let{saltLength:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{saltLength:32};const n=await this.driver.sign({name:"RSA-PSS",saltLength:r},await this.jwkToCryptoKey(e),t);return new Uint8Array(n)}async hash(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-256";const r=await this.driver.digest(t,e);return new Uint8Array(r)}async verify(e,t,r){const n={kty:"RSA",e:"AQAB",n:e},i=await this.jwkToPublicCryptoKey(n),s=await this.driver.digest("SHA-256",t),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},i,r,t),a=await this.driver.verify({name:"RSA-PSS",saltLength:32},i,r,t),u=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((i.algorithm.modulusLength-1)/8)-s.byteLength-2},i,r,t);return o||a||u}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,t,r){const n=await this.driver.importKey("raw","string"===typeof t?Ne(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Ne(r||"salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);return Ue([s,await this.driver.encrypt({name:"AES-CBC",iv:s},i,e)])}async decrypt(e,t,r){const n=await this.driver.importKey("raw","string"===typeof t?Ne(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Ne(r||"salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16);return Ue([await this.driver.decrypt({name:"AES-CBC",iv:s},i,e.slice(16))])}}var Ge=r(8463);async function Ze(e){if("function"===typeof e[Symbol.asyncIterator]){const t=e,r=(0,Ge.createHash)("sha384");let n=0;for await(const e of t)n+=e.byteLength,r.update(e);const i=Ue([Ne("blob"),Ne(n.toString())]),s=Ue([await kt().hash(i,"SHA-384"),r.digest()]);return await kt().hash(s,"SHA-384")}if(Array.isArray(e)){const t=Ue([Ne("list"),Ne(e.length.toString())]);return await Ve(e,await kt().hash(t,"SHA-384"))}const t=e,r=Ue([Ne("blob"),Ne(t.byteLength.toString())]),n=Ue([await kt().hash(r,"SHA-384"),await kt().hash(t,"SHA-384")]);return await kt().hash(n,"SHA-384")}async function Ve(e,t){if(e.length<1)return t;const r=Ue([t,await Ze(e[0])]),n=await kt().hash(r,"SHA-384");return await Ve(e.slice(1),n)}class We extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.message?(super(t.message),(0,b.Z)(this,"type",void 0),(0,b.Z)(this,"response",void 0)):(super(),(0,b.Z)(this,"type",void 0),(0,b.Z)(this,"response",void 0)),this.type=e,this.response=t.response}getType(){return this.type}}function Je(e){let t=e.data;if("string"===typeof e.data)try{t=JSON.parse(e.data)}catch(r){}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch(r){}return t?t.error||t:e.statusText||"unknown"}class Xe{constructor(e,t){(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"network",void 0),this.api=e,this.network=t}async getByHash(e){const t=await this.api.get(`block/hash/${e}`);if(200===t.status)return t.data;throw 404===t.status?new We("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getByHeight(e){const t=await this.api.get(`block/height/${e}`);if(200===t.status)return t.data;throw 404===t.status?new We("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var Ye=r(30261).Buffer;const Qe=262144,et=32,tt=32;function rt(e){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...rt(e)):t.push(e)})),t}function nt(e){const t=new Uint8Array(et);for(let r=t.length-1;r>=0;r--){const n=e%256;t[r]=n,e=(e-n)/256}return t}function it(e){let t=0;for(let r=0;r<e.length;r++)t*=256,t+=e[r];return t}const st=(e,t)=>e.every(((e,r)=>t[r]===e)),ot=class{constructor(e){(0,b.Z)(this,"crypto",void 0),this.crypto=e.deps.crypto}async chunkData(e){const t=[];let r=e,n=0;for(;r.byteLength>=Qe;){let e=Qe;const i=r.byteLength-Qe;i>0&&i<32768&&(e=Math.ceil(r.byteLength/2));const s=r.slice(0,e),o=await this.crypto.hash(s);n+=s.byteLength,t.push({dataHash:o,minByteRange:n-s.byteLength,maxByteRange:n}),r=r.slice(e)}return t.push({dataHash:await this.crypto.hash(r),minByteRange:n,maxByteRange:n+r.byteLength}),t}async generateLeaves(e){return Promise.all(e.map((async e=>{let{dataHash:t,minByteRange:r,maxByteRange:n}=e;return{type:"leaf",id:await this.hash(await Promise.all([this.hash(t),this.hash(nt(n))])),dataHash:t,minByteRange:r,maxByteRange:n}})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const t=await this.chunkData(e),r=await this.generateLeaves(t),n=await this.buildLayers(r),i=await this.generateProofs(n),s=t.slice(-1)[0];return s.maxByteRange-s.minByteRange===0&&(t.splice(t.length-1,1),i.splice(i.length-1,1)),{data_root:n.id,chunks:t,proofs:i}}async buildLayers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.length<2){return e[0]}const r=[];for(let n=0;n<e.length;n+=2)r.push(await this.hashBranch(e[n],e[n+1]));return this.buildLayers(r,t+1)}generateProofs(e){const t=this.resolveBranchProofs(e);return Array.isArray(t)?rt(t):[t]}resolveBranchProofs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("leaf"==e.type)return{offset:e.maxByteRange-1,proof:Ue([t,e.dataHash,nt(e.maxByteRange)])};if("branch"==e.type){const n=Ue([t,e.leftChild.id,e.rightChild.id,nt(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,n,r+1),this.resolveBranchProofs(e.rightChild,n,r+1)]}throw new Error("Unexpected node type")}async validatePath(e,t,r,n,i){if(n<=0)return!1;if(t>=n)return this.validatePath(e,0,n-1,n,i);if(t<0)return this.validatePath(e,0,0,n,i);if(i.length==tt+et){const t=i.slice(0,tt),s=i.slice(t.length,t.length+et),o=await this.hash([await this.hash(t),await this.hash(s)]);return!!st(e,o)&&{offset:n-1,leftBound:r,rightBound:n,chunkSize:n-r}}const s=i.slice(0,tt),o=i.slice(s.length,s.length+tt),a=i.slice(s.length+o.length,s.length+o.length+et),u=it(a),c=i.slice(s.length+o.length+a.length),l=await this.hash([await this.hash(s),await this.hash(o),await this.hash(a)]);return!!st(e,l)&&(t<u?await this.validatePath(s,t,r,Math.min(n,u),c):await this.validatePath(o,t,Math.max(r,u),n,c))}async hashBranch(e,t){if(!t)return e;return{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(t.id),await this.hash(nt(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}}async hash(e){return Array.isArray(e)&&(e=Et.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.byteLength<1)return t;const r=e.slice(0,tt),n=e.slice(r.length,r.length+tt),i=e.slice(r.length+n.length,r.length+n.length+et),s=it(i),o=e.slice(r.length+n.length+i.length),a=await this.hash([await this.hash(r),await this.hash(n),await this.hash(i)]),u=`${t}\n${JSON.stringify(Ye.from(r))},${JSON.stringify(Ye.from(n))},${s} => ${JSON.stringify(a)}`;return this.debug(o,u)}};class at{constructor(e){(0,b.Z)(this,"api",void 0),this.api=e}async getTransactionMetadata(e){const t=await this.api.get(`tx/${e}/offset`);if(200===t.status)return t.data;throw new Error(`Unable to get transaction offset: ${Je(t)}`)}async getChunk(e){const t=await this.api.get(`chunk/${e}`);if(200===t.status)return t.data;throw new Error(`Unable to get chunk: ${Je(t)}`)}async getChunkData(e){return De((await this.getChunk(e)).chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,t){const r=await this.getTransactionMetadata(e),n=parseInt(r.size),i=new Uint8Array(n);let s=0;for await(const o of this.concurrentChunkDownloader(e,t))i.set(o,s),s+=o.length;return i}async*concurrentChunkDownloader(e,t){const r={concurrency:10,...t},n=await this.getTransactionMetadata(e),i=new k.Z(n.offset),s=new k.Z(n.size),o=i.minus(s).plus(1);let a=0;const u=e=>this.getChunkData(e.toString()).then((e=>(a+=e.length,e))),c=[],l=Math.ceil(s.dividedBy(Qe).toNumber())-2,h=Math.min(l,r.concurrency);let d=0;for(let f=0;f<h;f++)c.push(u(o.plus(Qe*d++)));for(;d<l;)c.push(u(o.plus(Qe*d++))),yield c.shift();for(;c.length>0;)yield c.shift();if(yield u(o.plus(Qe*d++)),s.isGreaterThan(a)&&(yield u(o.plus(Qe*d++))),!s.isEqualTo(a))throw new Error(`got ${a}B, expected ${s.toString()}B`)}}class ut{constructor(e){let{deps:t}=e;(0,b.Z)(this,"crypto",void 0),(0,b.Z)(this,"utils",void 0),this.crypto=t.crypto,this.utils=t.utils}async deepHash(e){if(Array.isArray(e)){const t=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(t,"SHA-384"))}const t=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),r=this.utils.concatBuffers([await this.crypto.hash(t,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(r,"SHA-384")}async deepHashChunks(e,t){if(e.length<1)return t;const r=this.utils.concatBuffers([t,await this.deepHash(e[0])]),n=await this.crypto.hash(r,"SHA-384");return await this.deepHashChunks(e.slice(1),n)}}class ct{constructor(e){(0,b.Z)(this,"_instance",void 0),(0,b.Z)(this,"cookieMap",new Map),(0,b.Z)(this,"config",void 0),e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){var t;const r=this.cookieMap.get(new URL(null!==(t=e.baseURL)&&void 0!==t?t:"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var t;const r=null===(t=e.headers)||void 0===t?void 0:t["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){var t,r,n,i,s;return null!==(t=e.headers)&&void 0!==t||(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:null!==(r=e.timeout)&&void 0!==r?r:2e4,logging:null!==(n=e.logging)&&void 0!==n&&n,logger:null!==(i=e.logger)&&void 0!==i?i:console.log,headers:{...e.headers,"x-irys-arweave-version":Et.VERSION},withCredentials:null!==(s=e.withCredentials)&&void 0!==s&&s,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){try{return await this.request(e,{...t,method:"GET"})}catch(n){var r;if(null!==(r=n.response)&&void 0!==r&&r.status)return n.response;throw n}}async post(e,t,r){try{return await this.request(e,{data:t,...r,method:"POST"})}catch(i){var n;if(null!==(n=i.response)&&void 0!==n&&n.status)return i.response;throw i}}get instance(){if(this._instance)return this._instance;const e=E.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use((e=>(this.config.logger(`Requesting: ${e.baseURL}/${e.url}`),e))),e.interceptors.response.use((e=>(this.config.logger(`Response: ${e.config.url} - ${e.status}`),e)))),this._instance=e}async request(e,t){var r;const n=this.instance,i=null!==(r=null===t||void 0===t?void 0:t.url)&&void 0!==r?r:new URL(e,this.config.url).toString();return S((e=>n({...t,url:i})),{...this.config.retry,...null===t||void 0===t?void 0:t.retry})}}const lt=e=>"string"!==typeof e&&"url"in e,ht={maxAttempts:15,randomlySelect:!0};const dt=class{constructor(e){var t;let{gateways:r,miners:n,opts:i}=e;(0,b.Z)(this,"minerInstances",[]),(0,b.Z)(this,"globalConfig",void 0),(0,b.Z)(this,"gatewayInstances",[]),this.globalConfig=null!==(t=null===i||void 0===i?void 0:i.globalConfig)&&void 0!==t?t:{},n&&this.addMiners(n),r&&this.addGateways(r)}async addPeersFrom(e,t){const r=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(r.slice(0,null===t||void 0===t?void 0:t.limit).map((e=>`http://${e}`)))}addMiners(e){e.forEach((e=>this.minerInstances.push(new ct(lt(e)?e:{url:new URL(e),...this.globalConfig}))))}addGateways(e){e.forEach((e=>this.gatewayInstances.push(new ct(lt(e)?e:{url:new URL(e),...this.globalConfig}))))}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,r){return this.request(e,{data:t,...r,method:"POST"})}async request(e,t){const r={...ht,...null===t||void 0===t?void 0:t.fallback};let n=0;const i=[],s=null!==t&&void 0!==t&&t.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(null===r||void 0===r?void 0:r.maxAttempts,1),s.length),a=null===r||void 0===r?void 0:r.onFallback;if(0===s.length)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;n++<o;){const c=s.at(null!==r&&void 0!==r&&r.randomlySelect?Math.floor(Math.random()*s.length):n-1);if(c)try{return await c.request(e,{...t})}catch(u){if(null===a||void 0===a||a(u,c),i.push(u),n>=o)throw u}}throw new Error("unreachable")}};class ft{get(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return t&&t.decode&&t.string?Oe(this[e]):t&&t.decode&&!t.string?this[e]:qe(this[e]);if(this[e]instanceof Array){if(void 0!==(null===t||void 0===t?void 0:t.decode)||void 0!==(null===t||void 0===t?void 0:t.string))throw"tags"===e&&console.warn("Did you mean to use 'transaction[\"tags\"]' ?"),new Error("Cannot decode or stringify an array.");return this[e]}return t&&1==t.decode?t&&t.string?Be(this[e]):De(this[e]):this[e]}}class pt extends ft{constructor(e,t){super(),(0,b.Z)(this,"name",void 0),(0,b.Z)(this,"value",void 0),this.name=e,this.value=t}}class gt extends ft{constructor(e){let{attributes:t,deps:r}=e;super(),(0,b.Z)(this,"format",2),(0,b.Z)(this,"id",""),(0,b.Z)(this,"last_tx",""),(0,b.Z)(this,"owner",""),(0,b.Z)(this,"tags",[]),(0,b.Z)(this,"target",""),(0,b.Z)(this,"quantity","0"),(0,b.Z)(this,"data_size","0"),(0,b.Z)(this,"data",new Uint8Array),(0,b.Z)(this,"data_root",""),(0,b.Z)(this,"reward","0"),(0,b.Z)(this,"signature",""),(0,b.Z)(this,"merkle",void 0),(0,b.Z)(this,"deepHash",void 0),(0,b.Z)(this,"chunks",void 0),this.merkle=r.merkle,this.deepHash=r.deepHash,Object.assign(this,t),"string"===typeof this.data&&(this.data=De(this.data)),t.tags&&(this.tags=t.tags)}addTag(e,t){this.tags.push({name:Le(e),value:Le(t)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:qe(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature(e){let{id:t,owner:r,reward:n,tags:i,signature:s}=e;this.id=t,this.owner=r,n&&(this.reward=n),i&&(this.tags=i),this.signature=s}async prepareChunks(e){!this.chunks&&e.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(e),this.data_root=qe(this.chunks.data_root)),this.chunks||0!==e.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(e,t){if(!this.chunks)throw new Error("Chunks have not been prepared");const r=this.chunks.proofs[e],n=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:qe(r.proof),offset:r.offset.toString(),chunk:qe(t.slice(n.minByteRange,n.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const e=this.tags.reduce(((e,t)=>Ue([e,De(t.name),De(t.value)])),new Uint8Array);return Ue([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Ne(this.quantity),Ne(this.reward),this.get("last_tx",{decode:!0,string:!1}),e]);case 2:this.data_root||await this.prepareChunks(this.data);const t=this.tags.map((e=>[De(e.name),De(e.value)]));return await this.deepHash.deepHash([Ne(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Ne(this.quantity),Ne(this.reward),this.get("last_tx",{decode:!0,string:!1}),t,Ne(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class yt{constructor(e){(0,b.Z)(this,"api",void 0),this.api=e}getInfo(){return this.api.get("info").then((e=>e.data))}getPeers(){return this.api.get("peers").then((e=>e.data))}}const mt=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class vt{get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}constructor(e){let{deps:t,transaction:r}=e;if((0,b.Z)(this,"chunkIndex",0),(0,b.Z)(this,"txPosted",!1),(0,b.Z)(this,"transaction",void 0),(0,b.Z)(this,"lastRequestTimeEnd",0),(0,b.Z)(this,"totalErrors",0),(0,b.Z)(this,"data",void 0),(0,b.Z)(this,"lastResponseStatus",0),(0,b.Z)(this,"lastResponseError",""),(0,b.Z)(this,"crypto",void 0),(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"merkle",void 0),(0,b.Z)(this,"deepHash",void 0),!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.api=t.api,this.crypto=t.crypto,this.merkle=t.merkle,this.deepHash=t.deepHash,this.data=r.data,this.transaction=new gt({attributes:Object.assign({},r,{data:new Uint8Array(0)}),deps:{merkle:t.merkle,deepHash:t.deepHash}})}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(t>0&&(t-=t*Math.random()*.3,await new Promise((e=>setTimeout(e,t)))),this.lastResponseError="",!this.txPosted)return void await this.postTransaction();e&&(this.chunkIndex=e);const r=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(r.offset),0,parseInt(r.data_size),De(r.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const n=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch((e=>(console.error(e.message),{status:-1,data:{error:e.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=Je(n),mt.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(e){let{serialized:t,data:r,deps:n}=e;if(!t||"number"!==typeof t.chunkIndex||"object"!==typeof t.transaction)throw new Error("Serialized object does not match expected format.");const i=new gt(t.transaction);i.chunks||await i.prepareChunks(r);const s=new vt({deps:n,transaction:i});if(s.chunkIndex=t.chunkIndex,s.lastRequestTimeEnd=t.lastRequestTimeEnd,s.lastResponseError=t.lastResponseError,s.lastResponseStatus=t.lastResponseStatus,s.txPosted=t.txPosted,s.data=r,s.transaction.data_root!==t.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,t){const r=await e.get(`tx/${t}`);if(200!==r.status)throw new Error(`Tx ${t} not found: ${r.status}`);const n=r.data;n.data=new Uint8Array(0);return{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:n}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;const e=await this.api.post("tx",this.transaction).catch((e=>(console.error(e),{status:-1,data:{error:e.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=e.status,this.transaction.data=new Uint8Array(0),e.status>=200&&e.status<300)return this.txPosted=!0,void(this.chunkIndex=1);throw this.lastResponseError=Je(e),new Error(`Unable to upload transaction: ${e.status}, ${this.lastResponseError}`)}const e=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=e.status,!(e.status>=200&&e.status<300))throw this.lastResponseError=Je(e),new Error(`Unable to upload transaction: ${e.status}, ${this.lastResponseError}`);this.txPosted=!0}}class wt{constructor(e){let{deps:t}=e;(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"crypto",void 0),(0,b.Z)(this,"chunks",void 0),(0,b.Z)(this,"merkle",void 0),(0,b.Z)(this,"deepHash",void 0),this.api=t.api,this.crypto=t.crypto,this.chunks=t.chunks,this.merkle=t.merkle,this.deepHash=t.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then((e=>e.data))}getPrice(e,t){const r=t?`price/${e}/${t}`:`price/${e}`;return this.api.get(r,{transformResponse:[function(e){return e}]}).then((e=>e.data))}async get(e){const t=await this.api.get(`tx/${e}`);if(200==t.status){const r=parseInt(t.data.data_size);if(t.data.format>=2&&r>0&&r<=12582912){const r=await this.getData(e);return new gt({attributes:{...t.data,data:r},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new gt({attributes:{...t.data,format:t.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}if(404===t.status)throw new We("TX_NOT_FOUND");if(410===t.status)throw new We("TX_FAILED");throw new We("TX_INVALID")}fromRaw(e){return new gt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then((e=>200===e.status?{status:200,confirmed:e.data}:{status:e.status,confirmed:null}))}async getData(e){let t;try{t=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(r){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(r)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=await this.chunks.downloadChunkedData(e)}catch(r){console.error(`Error while trying to download chunked data for ${e}`),console.error(r)}}if(!t)throw new Error(`${e} data was not found!`);return t}async getDataStream(e){let t;try{const r=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;t=async function*(){yield r}()}catch(r){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(r)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=this.chunks.concurrentChunkDownloader(e)}catch(r){console.error(`Error while trying to download chunked data for ${e}`),console.error(r)}}if(!t)throw new Error(`${e} data was not found!`);return t}async sign(e,t,r){const n="object"===typeof t&&(e=>{let t=!0;return["n","e","d","p","q","dp","dq","qi"].map((r=>!(r in e)&&(t=!1))),t})(t),i="object"===typeof arweaveWallet;if(!n&&!i)throw new Error("No valid JWK or external wallet found to sign transaction.");if(i){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map((e=>new pt(e.name,e.value)));const t=await arweaveWallet.sign(e,r);e.setSignature({id:t.id,owner:t.owner,reward:t.reward,tags:t.tags,signature:t.signature})}else{if(!n)throw new Error("An error occurred while signing. Check wallet is valid");{e.setOwner(t.n);const n=await e.getSignatureData(),i=await this.crypto.sign(t,n,r),s=await this.crypto.hash(i);e.setSignature({id:qe(s),owner:t.n,signature:qe(i)})}}}async verify(e){const t=await e.getSignatureData(),r=e.get("signature",{decode:!0,string:!1}),n=qe(await this.crypto.hash(r));if(e.id!==n)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,t,r)}async post(e){if("string"===typeof e?e=new gt({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"function"===typeof e.readInt32BE?e=new gt({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"object"!==typeof e||e instanceof gt||(e=new gt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof gt))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const t=await this.getUploader(e,e.data);try{for(;!t.isComplete;)await t.uploadChunk()}catch(r){if(t.lastResponseStatus>0)return{status:t.lastResponseStatus,statusText:t.lastResponseError,data:{error:t.lastResponseError}};throw r}return{status:200,statusText:"OK",data:{}}}async getUploader(e,t){let r;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e instanceof gt){if(t||(t=e.data),!(t instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(t),r=new vt({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),r.data&&0!==r.data.length||(r.data=t)}else{if("string"===typeof e&&(e=await vt.fromTransactionId(this.api,e)),!t||!(t instanceof Uint8Array))throw new Error("Must provide data when resuming upload");r=await vt.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:t})}return r}async*upload(e,t){const r=await this.getUploader(e,t);for(;!r.isComplete;)await r.uploadChunk(),yield r;return r}}class bt{constructor(e,t){(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"crypto",void 0),this.api=e,this.crypto=t}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(e){return e}]}).then((e=>e.data))}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then((e=>e.data))}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return e&&"use_wallet"!==e?this.getAddress(e):this.getAddress()}async getAddress(e){if(e&&"use_wallet"!==e)return this.ownerToAddress(e.n);try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}async ownerToAddress(e){return qe(await this.crypto.hash(De(e)))}}class _t{constructor(e){if((0,b.Z)(this,"config",void 0),(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"wallets",void 0),(0,b.Z)(this,"transactions",void 0),(0,b.Z)(this,"network",void 0),(0,b.Z)(this,"blocks",void 0),(0,b.Z)(this,"chunks",void 0),(0,b.Z)(this,"crypto",void 0),(0,b.Z)(this,"deepHash",void 0),(0,b.Z)(this,"merkle",void 0),this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=function(e,t){const r=e;return r.deepHash=new t.deepHash({deps:{utils:{stringToBuffer:Ne,concatBuffers:Ue},crypto:e}}),r}(e.crypto,{deepHash:ut}),this.deepHash=this.crypto.deepHash;const t=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new dt({gateways:t,miners:e.miners}),this.wallets=new bt(this.api,this.crypto),this.chunks=new at(this.api),this.network=new yt(this.api),this.blocks=new Xe(this.api,this.network),this.merkle=new ot({deps:{crypto:this.crypto}}),this.transactions=new wt({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return _t.utils}getConfig(){return this.config}async createTransaction(e,t){const r={};if(Object.assign(r,e),!e.data&&(!e.target||!e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(void 0==e.owner&&t&&"use_wallet"!==t&&(r.owner=t.n),void 0==e.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor()),"string"===typeof e.data&&(e.data=Ne(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(void 0==e.reward){const t=e.data?e.data.byteLength:0;r.reward=await this.transactions.getPrice(t,r.target)}r.data_root="",r.data_size=e.data?e.data.byteLength.toString():"0",r.data=e.data||new Uint8Array(0);const n=new gt({attributes:r,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await n.getSignatureData(),n}}(0,b.Z)(_t,"init",void 0),(0,b.Z)(_t,"utils",n),(0,b.Z)(_t,"VERSION","0.0.1");const Et=_t;class St extends _t{constructor(e,t){var r;super({crypto:null!==(r=null===t||void 0===t?void 0:t.crypto)&&void 0!==r?r:new $e,...t,gateways:null!==e&&void 0!==e?e:"https://arweave.net"})}static init(e){return new St(e)}}const At=$e.default?$e.default:$e;class Tt extends At{getPublicKey(e){throw new Error("Unimplemented")}}let xt;function kt(){var e;return null!==(e=xt)&&void 0!==e?e:xt=new Tt}var Rt=r(59734),Pt=r(30261).Buffer;class Mt{get publicKey(){return this._publicKey}constructor(e,t){(0,b.Z)(this,"_key",void 0),(0,b.Z)(this,"pk",void 0),(0,b.Z)(this,"signatureType",1),(0,b.Z)(this,"ownerLength",Re[1].pubLength),(0,b.Z)(this,"signatureLength",Re[1].sigLength),(0,b.Z)(this,"_publicKey",void 0),this._key=e,this.pk=t,t||(this.pk=kt().getPublicKey(JSON.parse(e)))}sign(e){return(0,Rt.createSign)("sha256").update(e).sign({key:this._key,padding:Rt.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,t,r){return await kt().verify(Pt.isBuffer(e)?x.encode(e):e,t,r)}}var Ct=r(20937),It=r(30261).Buffer;const Ut=Ct.define;const Bt=Ut("RSAPublicKey",(function(){this.seq().obj(this.key("n").int(),this.key("e").int())})),Ot=Ut("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),Nt=(Ut("PublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(Ot),this.key("publicKey").bitstr())})),Ut("Version",(function(){this.int({0:"two-prime",1:"multi"})}))),Lt=Ut("OtherPrimeInfos",(function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())})),Dt=Ut("RSAPrivateKey",(function(){this.seq().obj(this.key("version").use(Nt),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(Lt))}));Ut("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").use(Nt),this.key("algorithm").use(Ot),this.key("privateKey").bitstr())}));function Ht(e){return/^[0-9]+$/.test(e)?new q(e,10):function(e){return new q(It.from(e,"base64"))}(e)}function qt(e){const t=function(e){return{n:Ht(e.n),e:Ht(e.e),d:e.d&&Ht(e.d),p:e.p&&Ht(e.p),q:e.q&&Ht(e.q),dp:e.dp&&Ht(e.dp),dq:e.dq&&Ht(e.dq),qi:e.qi&&Ht(e.qi)}}(e),r=!!t.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+" KEY-----\n",s="\n-----END RSA "+n+" KEY-----\n";let o=It.alloc(0);r?(t.version="two-prime",o=Dt.encode(t,"der")):o=Bt.encode(t,"der");return i+o.toString("base64").match(/.{1,64}/g).join("\n")+s}class zt extends Mt{constructor(e){super(qt(e),e.n),(0,b.Z)(this,"jwk",void 0),this.jwk=e}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return x.toBuffer(this.pk)}sign(e){return kt().sign(this.jwk,e)}static async verify(e,t,r){return await kt().verify(e,t,r)}}var Ft=r(30261).Buffer;class jt{constructor(e){if((0,b.Z)(this,"_publicKey",void 0),(0,b.Z)(this,"ownerLength",Re[2].pubLength),(0,b.Z)(this,"signatureLength",Re[2].sigLength),(0,b.Z)(this,"signatureType",2),(0,b.Z)(this,"pem",void 0),(0,b.Z)(this,"provider",void 0),this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,t,r){let n=e;return"string"===typeof e&&(n=x.toBuffer(e)),(0,Pe.T)(Ft.from(r),Ft.from(t),Ft.from(n))}}var Kt=r(75502),$t=r.n(Kt);function Gt(e){return"0x"+$t().keccak_256(ie(e))}const Zt=new X("strings/5.7.0");var Vt,Wt;function Jt(e,t,r,n,i){if(e===Wt.BAD_PREFIX||e===Wt.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6===2;n++)e++;return e}return e===Wt.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Vt||(Vt={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Wt||(Wt={}));const Xt=Object.freeze({error:function(e,t,r,n,i){return Zt.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Jt,replace:function(e,t,r,n,i){return e===Wt.OVERLONG?(n.push(i),0):(n.push(65533),Jt(e,t,r))}});function Yt(e,t){null==t&&(t=Xt.error),e=ie(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if(192===(224&i))s=1,o=127;else if(224===(240&i))s=2,o=2047;else{if(240!==(248&i)){n+=t(128===(192&i)?Wt.UNEXPECTED_CONTINUE:Wt.BAD_PREFIX,n-1,e,r);continue}s=3,o=65535}if(n-1+s>=e.length){n+=t(Wt.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let i=e[n];if(128!=(192&i)){n+=t(Wt.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(Wt.OUT_OF_RANGE,n-1-s,e,r,a):a>=55296&&a<=57343?n+=t(Wt.UTF16_SURROGATE,n-1-s,e,r,a):a<=o?n+=t(Wt.OVERLONG,n-1-s,e,r,a):r.push(a))}return r}function Qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt.current;t!=Vt.current&&(Zt.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&t)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return ie(r)}function er(e,t){return Yt(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}const tr="\x19Ethereum Signed Message:\n";function rr(e){return"string"===typeof e&&(e=Qt(e)),Gt(se([Qt(tr),Qt(String(e.length)),e]))}var nr=r(99950),ir=r.n(nr);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function sr(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var or=ar;function ar(e,t){if(!e)throw new Error(t||"Assertion failed")}ar.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ur=sr((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),cr=sr((function(e,t){var r=t;r.assert=or,r.toArray=ur.toArray,r.zero2=ur.zero2,r.toHex=ur.toHex,r.encode=ur.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,u=e.andln(3)+i&3,c=t.andln(3)+s&3;3===u&&(u=-1),3===c&&(c=-1),o=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),a=0===(1&c)?0:3!==(n=t.andln(7)+s&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(z())(e,"hex","le")}})),lr=cr.getNAF,hr=cr.getJSF,dr=cr.assert;function fr(e,t){this.type=e,this.p=new(z())(t.p,16),this.red=t.prime?z().red(t.prime):z().mont(this.p),this.zero=new(z())(0).toRed(this.red),this.one=new(z())(1).toRed(this.red),this.two=new(z())(2).toRed(this.red),this.n=t.n&&new(z())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pr=fr;function gr(e,t){this.curve=e,this.type=t,this.precomputed=null}fr.prototype.point=function(){throw new Error("Not implemented")},fr.prototype.validate=function(){throw new Error("Not implemented")},fr.prototype._fixedNafMul=function(e,t){dr(e.precomputed);var r=e._getDoubles(),n=lr(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var u=s+r.step-1;u>=s;u--)o=(o<<1)+n[u];a.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?l=l.mixedAdd(r.points[s]):o===-h&&(l=l.mixedAdd(r.points[s].neg()));c=c.add(l)}return c.toP()},fr.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=lr(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var u=0;a>=0&&0===s[a];a--)u++;if(a>=0&&u++,o=o.dblp(u),a<0)break;var c=s[a];dr(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},fr.prototype._wnafMulAdd=function(e,t,r,n,i){var s,o,a,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var d=(a=t[s])._getNAFPoints(e);u[s]=d.wnd,c[s]=d.points}for(s=n-1;s>=1;s-=2){var f=s-1,p=s;if(1===u[f]&&1===u[p]){var g=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(g[1]=t[f].add(t[p]),g[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(g[1]=t[f].toJ().mixedAdd(t[p]),g[2]=t[f].add(t[p].neg())):(g[1]=t[f].toJ().mixedAdd(t[p]),g[2]=t[f].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=hr(r[f],r[p]);for(h=Math.max(m[0].length,h),l[f]=new Array(h),l[p]=new Array(h),o=0;o<h;o++){var v=0|m[0][o],w=0|m[1][o];l[f][o]=y[3*(v+1)+(w+1)],l[p][o]=0,c[f]=g}}else l[f]=lr(r[f],u[f],this._bitLength),l[p]=lr(r[p],u[p],this._bitLength),h=Math.max(l[f].length,h),h=Math.max(l[p].length,h)}var b=this.jpoint(null,null,null),_=this._wnafT4;for(s=h;s>=0;s--){for(var E=0;s>=0;){var S=!0;for(o=0;o<n;o++)_[o]=0|l[o][s],0!==_[o]&&(S=!1);if(!S)break;E++,s--}if(s>=0&&E++,b=b.dblp(E),s<0)break;for(o=0;o<n;o++){var A=_[o];0!==A&&(A>0?a=c[o][A-1>>1]:A<0&&(a=c[o][-A-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(s=0;s<n;s++)c[s]=null;return i?b:b.toP()},fr.BasePoint=gr,gr.prototype.eq=function(){throw new Error("Not implemented")},gr.prototype.validate=function(){return this.curve.validate(this)},fr.prototype.decodePoint=function(e,t){e=cr.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?dr(e[e.length-1]%2===0):7===e[0]&&dr(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},gr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},gr.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},gr.prototype.encode=function(e,t){return cr.encode(this._encode(t),e)},gr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},gr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},gr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},gr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},gr.prototype._getBeta=function(){return null},gr.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var yr=sr((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),mr=cr.assert;function vr(e){pr.call(this,"short",e),this.a=new(z())(e.a,16).toRed(this.red),this.b=new(z())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}yr(vr,pr);var wr=vr;function br(e,t,r,n){pr.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(z())(t,16),this.y=new(z())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function _r(e,t,r,n){pr.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(z())(0)):(this.x=new(z())(t,16),this.y=new(z())(r,16),this.z=new(z())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(z())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(z())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],mr(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(z())(e.a,16),b:new(z())(e.b,16)}})):this._getEndoBasis(r)}}},vr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:z().mont(e),r=new(z())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(z())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},vr.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,a,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),f=new(z())(1),p=new(z())(0),g=new(z())(0),y=new(z())(1),m=0;0!==h.cmpn(0);){var v=d.div(h);u=d.sub(v.mul(h)),c=g.sub(v.mul(f));var w=y.sub(v.mul(p));if(!n&&u.cmp(l)<0)t=a.neg(),r=f,n=u.neg(),i=c;else if(n&&2===++m)break;a=u,d=h,h=u,g=f,f=c,y=p,p=w}s=u.neg(),o=c;var b=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(b)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},vr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:u.add(c).neg()}},vr.prototype.pointFromX=function(e,t){(e=new(z())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},vr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},vr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return c},yr(br,pr.BasePoint),vr.prototype.point=function(e,t,r){return new br(this,e,t,r)},vr.prototype.pointFromJSON=function(e,t){return br.fromJSON(this,e,t)},br.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},br.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},br.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},br.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},br.prototype.isInfinity=function(){return this.inf},br.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},br.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},br.prototype.getX=function(){return this.x.fromRed()},br.prototype.getY=function(){return this.y.fromRed()},br.prototype.mul=function(e){return e=new(z())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},br.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},br.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},br.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},br.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},br.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},yr(_r,pr.BasePoint),vr.prototype.jpoint=function(e,t,r){return new _r(this,e,t,r)},_r.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},_r.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},_r.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=n.redMul(c),d=u.redSqr().redIAdd(l).redISub(h).redISub(h),f=u.redMul(h.redISub(d)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},_r.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(l).redISub(l),d=a.redMul(l.redISub(h)).redISub(i.redMul(c)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},_r.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=s.redSqr(),h=c.redSqr(),d=h.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),m=f.redMul(y);m=m.redIAdd(m).redISub(d);var v=c.redMul(a);t+1<e&&(u=u.redMul(d)),s=g,a=v,c=m}return this.curve.jpoint(s,c.redMul(i),a)},_r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},_r.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(l).redISub(d);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},_r.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=f.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},_r.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,p)},_r.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},_r.prototype.mul=function(e,t){return e=new(z())(e,t),this.curve._wnafMul(this,e)},_r.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},_r.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},_r.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},_r.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Er=sr((function(e,t){var r=t;r.base=pr,r.short=wr,r.mont=null,r.edwards=null})),Sr=sr((function(e,t){var r,n=t,i=cr.assert;function s(e){"short"===e.type?this.curve=new Er.short(e):"edwards"===e.type?this.curve=new Er.edwards(e):this.curve=new Er.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ir().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ir().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ir().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ir().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ir().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ir().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ir().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ir().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Ar(e){if(!(this instanceof Ar))return new Ar(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ur.toArray(e.entropy,e.entropyEnc||"hex"),r=ur.toArray(e.nonce,e.nonceEnc||"hex"),n=ur.toArray(e.pers,e.persEnc||"hex");or(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Tr=Ar;Ar.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Ar.prototype._hmac=function(){return new(ir().hmac)(this.hash,this.K)},Ar.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ar.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=ur.toArray(e,t),r=ur.toArray(r,n),or(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Ar.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=ur.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,ur.encode(s,t)};var xr=cr.assert;function kr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Rr=kr;kr.fromPublic=function(e,t,r){return t instanceof kr?t:new kr(e,{pub:t,pubEnc:r})},kr.fromPrivate=function(e,t,r){return t instanceof kr?t:new kr(e,{priv:t,privEnc:r})},kr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},kr.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},kr.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},kr.prototype._importPrivate=function(e,t){this.priv=new(z())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},kr.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?xr(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||xr(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},kr.prototype.derive=function(e){return e.validate()||xr(e.validate(),"public point not validated"),e.mul(this.priv).getX()},kr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},kr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},kr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Pr=cr.assert;function Mr(e,t){if(e instanceof Mr)return e;this._importDER(e,t)||(Pr(e.r&&e.s,"Signature without r or s"),this.r=new(z())(e.r,16),this.s=new(z())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Cr=Mr;function Ir(){this.place=0}function Ur(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function Br(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Or(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Mr.prototype._importDER=function(e,t){e=cr.toArray(e,t);var r=new Ir;if(48!==e[r.place++])return!1;var n=Ur(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Ur(e,r);if(!1===i)return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=Ur(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var a=e.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(z())(s),this.s=new(z())(a),this.recoveryParam=null,!0},Mr.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Br(t),r=Br(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Or(n,t.length),(n=n.concat(t)).push(2),Or(n,r.length);var i=n.concat(r),s=[48];return Or(s,i.length),s=s.concat(i),cr.encode(s,e)};var Nr=function(){throw new Error("unsupported")},Lr=cr.assert;function Dr(e){if(!(this instanceof Dr))return new Dr(e);"string"===typeof e&&(Lr(Object.prototype.hasOwnProperty.call(Sr,e),"Unknown curve "+e),e=Sr[e]),e instanceof Sr.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Hr=Dr;Dr.prototype.keyPair=function(e){return new Rr(this,e)},Dr.prototype.keyFromPrivate=function(e,t){return Rr.fromPrivate(this,e,t)},Dr.prototype.keyFromPublic=function(e,t){return Rr.fromPublic(this,e,t)},Dr.prototype.genKeyPair=function(e){e||(e={});for(var t=new Tr({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Nr(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(z())(2));;){var i=new(z())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Dr.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Dr.prototype.sign=function(e,t,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(z())(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new Tr({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(z())(1)),c=0;;c++){var l=n.k?n.k(c):new(z())(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var d=h.getX(),f=d.umod(this.n);if(0!==f.cmpn(0)){var p=l.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==d.cmp(f)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new Cr({r:f,s:p,recoveryParam:g})}}}}}},Dr.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(z())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Cr(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},Dr.prototype.recoverPubKey=function(e,t,r,n){Lr((3&r)===r,"The recovery param is more than two bits"),t=new Cr(t,n);var i=this.n,s=new(z())(e),o=t.r,a=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),h=i.sub(s).mul(l).umod(i),d=a.mul(l).umod(i);return this.g.mulAdd(h,o,d)},Dr.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Cr(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var qr=sr((function(e,t){var r=t;r.version="6.5.4",r.utils=cr,r.rand=function(){throw new Error("unsupported")},r.curve=Er,r.curves=Sr,r.ec=Hr,r.eddsa=null})),zr=qr.ec;var Fr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const jr=new X("properties/5.7.0");function Kr(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function $r(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Gr(e){return Fr(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function Zr(e){const t={};for(const r in e)t[r]=e[r];return t}const Vr={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Wr(e){if(void 0===e||null===e||Vr[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let n=0;n<r.length;n++){let i=null;try{i=e[r[n]]}catch(t){continue}if(!Wr(i))return!1}return!0}return jr.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Jr(e){if(Wr(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>Xr(e))));if("object"===typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&Kr(t,r,Xr(n))}return t}return jr.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Xr(e){return Jr(e)}class Yr{constructor(e){for(const t in e)this[t]=Xr(e[t])}}const Qr=new X("signing-key/5.7.0");let en=null;function tn(){return en||(en=new zr("secp256k1")),en}class rn{constructor(e){Kr(this,"curve","secp256k1"),Kr(this,"privateKey",ce(e)),32!==le(this.privateKey)&&Qr.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=tn().keyFromPrivate(ie(this.privateKey));Kr(this,"publicKey","0x"+t.getPublic(!1,"hex")),Kr(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Kr(this,"_isSigningKey",!0)}_addPoint(e){const t=tn().keyFromPublic(ie(this.publicKey)),r=tn().keyFromPublic(ie(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=tn().keyFromPrivate(ie(this.privateKey)),r=ie(e);32!==r.length&&Qr.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return pe({recoveryParam:n.recoveryParam,r:fe("0x"+n.r.toString(16),32),s:fe("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=tn().keyFromPrivate(ie(this.privateKey)),r=tn().keyFromPublic(ie(sn(e)));return fe("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function nn(e,t){const r=pe(t),n={r:ie(r.r),s:ie(r.s)};return"0x"+tn().recoverPubKey(ie(e),n,r.recoveryParam).encode("hex",!1)}function sn(e,t){const r=ie(e);if(32===r.length){const e=new rn(r);return t?"0x"+tn().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?ce(r):"0x"+tn().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+tn().keyFromPublic(r).getPublic(!0,"hex"):ce(r):Qr.throwArgumentError("invalid public or private key","key","[REDACTED]")}const on=new X("rlp/5.7.0");function an(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function un(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(un(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=an(t.length);return r.unshift(247+r.length),r.concat(t)}te(e)||on.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(ie(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=an(t.length);return r.unshift(183+r.length),r.concat(t)}function cn(e){return ce(un(e))}const ln=new X("address/5.7.0");function hn(e){ae(e,20)||ln.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=ie(Gt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const dn={};for(let Op=0;Op<10;Op++)dn[String(Op)]=String(Op);for(let Op=0;Op<26;Op++)dn[String.fromCharCode(65+Op)]=String(10+Op);const fn=Math.floor((pn=9007199254740991,Math.log10?Math.log10(pn):Math.log(pn)/Math.LN10));var pn;function gn(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>dn[e])).join("");for(;t.length>=fn;){let e=t.substring(0,fn);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function yn(e){let t=null;if("string"!==typeof e&&ln.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=hn(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ln.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==gn(e)&&ln.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new ye(r,36).toString(16);t.length<40;)t="0"+t;t=hn("0x"+t)}else ln.throwArgumentError("invalid address","address",e);var r;return t}const mn=new X("transactions/5.7.0");var vn;!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(vn||(vn={}));const wn=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],bn={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function _n(e){return yn(he(Gt(he(sn(e),1)),12))}function En(e,t){return _n(nn(ie(e),t))}function Sn(e,t){const r=oe(_e.from(e).toHexString());return r.length>32&&mn.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function An(e,t){return{address:yn(e),storageKeys:(t||[]).map(((t,r)=>(32!==le(t)&&mn.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function Tn(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&mn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),An(e[0],e[1])):An(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return An(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function xn(e){return Tn(e).map((e=>[e.address,e.storageKeys]))}function kn(e,t){if(null!=e.gasPrice){const t=_e.from(e.gasPrice),r=_e.from(e.maxFeePerGas||0);t.eq(r)||mn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[Sn(e.chainId||0,"chainId"),Sn(e.nonce||0,"nonce"),Sn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Sn(e.maxFeePerGas||0,"maxFeePerGas"),Sn(e.gasLimit||0,"gasLimit"),null!=e.to?yn(e.to):"0x",Sn(e.value||0,"value"),e.data||"0x",xn(e.accessList||[])];if(t){const e=pe(t);r.push(Sn(e.recoveryParam,"recoveryParam")),r.push(oe(e.r)),r.push(oe(e.s))}return de(["0x02",cn(r)])}function Rn(e,t){const r=[Sn(e.chainId||0,"chainId"),Sn(e.nonce||0,"nonce"),Sn(e.gasPrice||0,"gasPrice"),Sn(e.gasLimit||0,"gasLimit"),null!=e.to?yn(e.to):"0x",Sn(e.value||0,"value"),e.data||"0x",xn(e.accessList||[])];if(t){const e=pe(t);r.push(Sn(e.recoveryParam,"recoveryParam")),r.push(oe(e.r)),r.push(oe(e.s))}return de(["0x01",cn(r)])}function Pn(e,t){var r,n;n=bn,(r=e)&&"object"===typeof r||jr.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((e=>{n[e]||jr.throwArgumentError("invalid object key - "+e,"transaction:"+e,r)}));const i=[];wn.forEach((function(t){let r=e[t.name]||[];const n={};t.numeric&&(n.hexPad="left"),r=ie(ce(r,n)),t.length&&r.length!==t.length&&r.length>0&&mn.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r),t.maxLength&&(r=oe(r),r.length>t.maxLength&&mn.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r)),i.push(ce(r))}));let s=0;if(null!=e.chainId?(s=e.chainId,"number"!==typeof s&&mn.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!te(t)&&t.v>28&&(s=Math.floor((t.v-35)/2)),0!==s&&(i.push(ce(s)),i.push("0x"),i.push("0x")),!t)return cn(i);const o=pe(t);let a=27+o.recoveryParam;return 0!==s?(i.pop(),i.pop(),i.pop(),a+=2*s+8,o.v>28&&o.v!==a&&mn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==a&&mn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),i.push(ce(a)),i.push(oe(ie(o.r))),i.push(oe(ie(o.s))),cn(i)}function Mn(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&mn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),Pn(e,t);switch(e.type){case 1:return Rn(e,t);case 2:return kn(e,t)}return mn.throwError(`unsupported transaction type: ${e.type}`,X.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}var Cn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const In=new X("abstract-provider/5.7.0");class Un{constructor(){In.checkAbstract(new.target,Un),Kr(this,"_isProvider",!0)}getFeeData(){return Cn(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield Gr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=_e.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var Bn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const On=new X("abstract-signer/5.7.0"),Nn=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ln=[X.errors.INSUFFICIENT_FUNDS,X.errors.NONCE_EXPIRED,X.errors.REPLACEMENT_UNDERPRICED];class Dn{constructor(){On.checkAbstract(new.target,Dn),Kr(this,"_isSigner",!0)}getBalance(e){return Bn(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return Bn(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return Bn(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield Gr(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return Bn(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield Gr(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return Bn(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return Bn(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Bn(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Bn(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return Bn(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const r in e)-1===Nn.indexOf(r)&&On.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=Zr(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&On.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return Bn(this,void 0,void 0,(function*(){const t=yield Gr(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>Bn(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&On.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||On.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):On.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&On.throwError("network does not support EIP-1559",X.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):On.throwError("failed to get consistent fee data",X.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(Ln.indexOf(e.code)>=0)throw e;return On.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&On.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield Gr(t)}))}_checkProvider(e){this.provider||On.throwError("missing provider",X.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class Hn extends Dn{constructor(e,t){super(),Kr(this,"address",e),Kr(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{On.throwError(e,X.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Hn(this.address,e)}}function qn(e){return Gt(Qt(e))}var zn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const Fn=new X("hash/5.7.0"),jn=new Uint8Array(32);jn.fill(0);const Kn=_e.from(-1),$n=_e.from(0),Gn=_e.from(1),Zn=_e.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Vn=fe(Gn.toHexString(),32),Wn=fe($n.toHexString(),32),Jn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Xn=["name","version","chainId","verifyingContract","salt"];function Yn(e){return function(t){return"string"!==typeof t&&Fn.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Qn={name:Yn("name"),version:Yn("version"),chainId:function(e){try{return _e.from(e).toString()}catch(t){}return Fn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return yn(e).toLowerCase()}catch(t){}return Fn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=ie(e);if(32!==t.length)throw new Error("bad length");return ce(t)}catch(t){}return Fn.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function ei(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&Fn.throwArgumentError("invalid numeric width","type",e);const i=Zn.mask(r?n-1:n),s=r?i.add(Gn).mul(Kn):$n;return function(t){const r=_e.from(t);return(r.lt(s)||r.gt(i))&&Fn.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),fe(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&Fn.throwArgumentError("invalid bytes width","type",e),function(t){return ie(t).length!==r&&Fn.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=ie(e),r=t.length%32;return r?de([t,jn.slice(r)]):ce(t)}(t)}}}switch(e){case"address":return function(e){return fe(yn(e),32)};case"bool":return function(e){return e?Vn:Wn};case"bytes":return function(e){return Gt(e)};case"string":return function(e){return qn(e)}}return null}function ti(e,t){return`${e}(${t.map((e=>{let{name:t,type:r}=e;return r+" "+t})).join(",")})`}class ri{constructor(e){Kr(this,"types",Object.freeze(Xr(e))),Kr(this,"_encoderCache",{}),Kr(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const s in e){const n={};e[s].forEach((i=>{n[i.name]&&Fn.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(s)}`,"types",e),n[i.name]=!0;const o=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===s&&Fn.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e);ei(o)||(r[o]||Fn.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(s),t[s][o]=!0)}))}const i=Object.keys(r).filter((e=>0===r[e].length));0===i.length?Fn.throwArgumentError("missing primary type","types",e):i.length>1&&Fn.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),Kr(this,"primaryType",i[0]),function i(s,o){o[s]&&Fn.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),o[s]=!0,Object.keys(t[s]).forEach((e=>{r[e]&&(i(e,o),Object.keys(o).forEach((t=>{n[t][e]=!0})))})),delete o[s]}(this.primaryType,{});for(const s in n){const t=Object.keys(n[s]);t.sort(),this._types[s]=ti(s,e[s])+t.map((t=>ti(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=ei(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&Fn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(Gt)),Gt(de(i))}}const r=this.types[e];if(r){const t=qn(this._types[e]);return e=>{const n=r.map((t=>{let{name:r,type:n}=t;const i=this.getEncoder(n)(e[r]);return this._types[n]?Gt(i):i}));return n.unshift(t),de(n)}}return Fn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Fn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Gt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(ei(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&Fn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const i=this.types[e];return i?i.reduce(((e,n)=>{let{name:i,type:s}=n;return e[i]=this._visit(s,t[i],r),e}),{}):Fn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ri(e)}static getPrimaryType(e){return ri.from(e).primaryType}static hashStruct(e,t,r){return ri.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=Jn[r];n||Fn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>Xn.indexOf(e.name)-Xn.indexOf(t.name))),ri.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return de(["0x1901",ri.hashDomain(e),ri.from(t).hash(r)])}static hash(e,t,r){return Gt(ri.encode(e,t,r))}static resolveNames(e,t,r,n){return zn(this,void 0,void 0,(function*(){e=Zr(e);const i={};e.verifyingContract&&!ae(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=ri.from(t);s.visit(r,((e,t)=>("address"!==e||ae(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:r}}))}static getPayload(e,t,r){ri.hashDomain(e);const n={},i=[];Xn.forEach((t=>{const r=e[t];null!=r&&(n[t]=Qn[t](r),i.push({name:t,type:Jn[t]}))}));const s=ri.from(t),o=Zr(t);return o.EIP712Domain?Fn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return ce(ie(t));if(e.match(/^u?int/))return _e.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&Fn.throwArgumentError("invalid string","value",t),t}return Fn.throwArgumentError("unsupported type","type",e)}))}}}class ni{constructor(e){Kr(this,"alphabet",e),Kr(this,"base",e.length),Kr(this,"_alphabetMap",{}),Kr(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ie(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let i=0;0===t[i]&&i<t.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(e){if("string"!==typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return ie(new Uint8Array(t.reverse()))}}new ni("abcdefghijklmnopqrstuvwxyz234567");const ii=new ni("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var si;!function(e){e.sha256="sha256",e.sha512="sha512"}(si||(si={}));const oi=new X("sha2/5.7.0");function ai(e){return"0x"+ir().sha256().update(ie(e)).digest("hex")}function ui(e,t,r){return si[e]||oi.throwError("unsupported algorithm "+e,X.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+ir().hmac(ir()[e],ie(t)).update(ie(r)).digest("hex")}function ci(e,t,r,n,i){let s;e=ie(e),t=ie(t);let o=1;const a=new Uint8Array(n),u=new Uint8Array(t.length+4);let c,l;u.set(t);for(let h=1;h<=o;h++){u[t.length]=h>>24&255,u[t.length+1]=h>>16&255,u[t.length+2]=h>>8&255,u[t.length+3]=255&h;let d=ie(ui(i,e,u));s||(s=d.length,l=new Uint8Array(s),o=Math.ceil(n/s),c=n-(o-1)*s),l.set(d);for(let t=1;t<r;t++){d=ie(ui(i,e,d));for(let e=0;e<s;e++)l[e]^=d[e]}const f=(h-1)*s,p=h===o?c:s;a.set(ie(l).slice(0,p),f)}return ce(a)}const li=new X("wordlists/5.7.0");class hi{constructor(e){li.checkAbstract(new.target,hi),Kr(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return qn(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}const di="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let fi=null;function pi(e){if(null==fi&&(fi=di.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==hi.check(e)))throw fi=null,new Error("BIP39 Wordlist for en (English) FAILED")}const gi=new class extends hi{constructor(){super("en")}getWord(e){return pi(this),fi[e]}getWordIndex(e){return pi(this),fi.indexOf(e)}};hi.register(gi);const yi={en:gi},mi=new X("hdnode/5.7.0"),vi=_e.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wi=Qt("Bitcoin seed"),bi=2147483648;function _i(e){return(1<<e)-1<<8-e}function Ei(e){return fe(ce(e),32)}function Si(e){return ii.encode(se([e,he(ai(ai(e)),0,4)]))}function Ai(e){if(null==e)return yi.en;if("string"===typeof e){const t=yi[e];return null==t&&mi.throwArgumentError("unknown locale","wordlist",e),t}return e}const Ti={},xi="m/44'/60'/0'/0/0";class ki{constructor(e,t,r,n,i,s,o,a){if(e!==Ti)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new rn(t);Kr(this,"privateKey",e.privateKey),Kr(this,"publicKey",e.compressedPublicKey)}else Kr(this,"privateKey",null),Kr(this,"publicKey",ce(r));var u;Kr(this,"parentFingerprint",n),Kr(this,"fingerprint",he((u=ai(this.publicKey),"0x"+ir().ripemd160().update(ie(u)).digest("hex")),0,4)),Kr(this,"address",_n(this.publicKey)),Kr(this,"chainCode",i),Kr(this,"index",s),Kr(this,"depth",o),null==a?(Kr(this,"mnemonic",null),Kr(this,"path",null)):"string"===typeof a?(Kr(this,"mnemonic",null),Kr(this,"path",a)):(Kr(this,"mnemonic",a),Kr(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Si(se([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",ce(this.depth),this.parentFingerprint,fe(ce(this.index),4),this.chainCode,null!=this.privateKey?se(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new ki(Ti,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~bi));const r=new Uint8Array(37);if(e&bi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(ie(this.privateKey),1),t&&(t+="'")}else r.set(ie(this.publicKey));for(let l=24;l>=0;l-=8)r[33+(l>>3)]=e>>24-l&255;const n=ie(ui(si.sha512,this.chainCode,r)),i=n.slice(0,32),s=n.slice(32);let o=null,a=null;if(this.privateKey)o=Ei(_e.from(i).add(this.privateKey).mod(vi));else{a=new rn(ce(i))._addPoint(this.publicKey)}let u=t;const c=this.mnemonic;return c&&(u=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new ki(Ti,o,a,this.fingerprint,Ei(s),e,this.depth+1,u)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let n=0;n<t.length;n++){const e=t[n];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));if(t>=bi)throw new Error("invalid path index - "+e);r=r._derive(bi+t)}else{if(!e.match(/^[0-9]+$/))throw new Error("invalid path component - "+e);{const t=parseInt(e);if(t>=bi)throw new Error("invalid path index - "+e);r=r._derive(t)}}}return r}static _fromSeed(e,t){const r=ie(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=ie(ui(si.sha512,wi,r));return new ki(Ti,Ei(n.slice(0,32)),null,"0x00000000",Ei(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=Pi(Ri(e,r=Ai(r)),r),ki._fromSeed(function(e,t){t||(t="");const r=Qt("mnemonic"+t,Vt.NFKD);return ci(Qt(e,Vt.NFKD),r,2048,64,"sha512")}(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return ki._fromSeed(e,null)}static fromExtendedKey(e){const t=ii.decode(e);82===t.length&&Si(t.slice(0,78))===e||mi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=ce(t.slice(5,9)),i=parseInt(ce(t.slice(9,13)).substring(2),16),s=ce(t.slice(13,45)),o=t.slice(45,78);switch(ce(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new ki(Ti,null,ce(o),n,s,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new ki(Ti,ce(o.slice(1)),null,n,s,i,r,null)}return mi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Ri(e,t){t=Ai(t),mi.checkNormalize();const r=t.split(e);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=ie(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let a=0;a<r.length;a++){let e=t.getWordIndex(r[a].normalize("NFKD"));if(-1===e)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)e&1<<10-t&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=_i(r.length/3);if((ie(ai(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return ce(n.slice(0,s/8))}function Pi(e,t){if(t=Ai(t),(e=ie(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<e.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[o]>>8-n,r.push(e[o]&(1<<8-n)-1),n+=3);const i=e.length/4,s=ie(ai(e))[0]&_i(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,t.join(r.map((e=>t.getWord(e))))}const Mi=new X("random/5.7.0");const Ci=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();let Ii=Ci.crypto||Ci.msCrypto;function Ui(e){(e<=0||e>1024||e%1||e!=e)&&Mi.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return Ii.getRandomValues(t),ie(t)}Ii&&Ii.getRandomValues||(Mi.warn("WARNING: Missing strong random number source"),Ii={getRandomValues:function(e){return Mi.throwError("no secure random source avaialble",X.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Bi=r(30084),Oi=r.n(Bi),Ni=r(14703),Li=r.n(Ni);function Di(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ie(e)}function Hi(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function qi(e){return"string"===typeof e?Qt(e,Vt.NFKC):ie(e)}function zi(e,t){let r=e;const n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let e=null;for(const t in r)if(t.toLowerCase()===n[i]){e=r[t];break}if(null===e)return null;r=e}return r}function Fi(e){const t=ie(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=ce(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const ji="json-wallets/5.7.0";var Ki=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const $i=new X(ji);function Gi(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class Zi extends Yr{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Vi(e,t){const r=Di(zi(e,"crypto/ciphertext"));if(ce(Gt(se([t.slice(16,32),r]))).substring(2)!==zi(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(e,t,r){if("aes-128-ctr"===zi(e,"crypto/cipher")){const n=Di(zi(e,"crypto/cipherparams/iv")),i=new(Oi().Counter)(n);return ie(new(Oi().ModeOfOperation.ctr)(t,i).decrypt(r))}return null}(e,t.slice(0,16),r);n||$i.throwError("unsupported cipher",X.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),s=_n(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),yn(t)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:ce(n)};if("0.1"===zi(e,"x-ethers/version")){const t=Di(zi(e,"x-ethers/mnemonicCiphertext")),r=Di(zi(e,"x-ethers/mnemonicCounter")),n=new(Oi().Counter)(r),s=new(Oi().ModeOfOperation.ctr)(i,n),u=zi(e,"x-ethers/path")||xi,c=zi(e,"x-ethers/locale")||"en",l=ie(s.decrypt(t));try{const e=Pi(l,c),t=ki.fromMnemonic(e,null,c).derivePath(u);if(t.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=t.mnemonic}catch(a){if(a.code!==X.errors.INVALID_ARGUMENT||"wordlist"!==a.argument)throw a}}return new Zi(o)}function Wi(e,t,r,n,i){return ie(ci(e,t,r,n,i))}function Ji(e,t,r,n,i){return Promise.resolve(Wi(e,t,r,n,i))}function Xi(e,t,r,n,i){const s=qi(t),o=zi(e,"crypto/kdf");if(o&&"string"===typeof o){const t=function(e,t){return $i.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){const r=Di(zi(e,"crypto/kdfparams/salt")),a=parseInt(zi(e,"crypto/kdfparams/n")),u=parseInt(zi(e,"crypto/kdfparams/r")),c=parseInt(zi(e,"crypto/kdfparams/p"));a&&u&&c||t("kdf",o),0!==(a&a-1)&&t("N",a);const l=parseInt(zi(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(s,r,a,u,c,64,i)}if("pbkdf2"===o.toLowerCase()){const n=Di(zi(e,"crypto/kdfparams/salt"));let i=null;const o=zi(e,"crypto/kdfparams/prf");"hmac-sha256"===o?i="sha256":"hmac-sha512"===o?i="sha512":t("prf",o);const a=parseInt(zi(e,"crypto/kdfparams/c")),u=parseInt(zi(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(s,n,a,u,i)}}return $i.throwArgumentError("unsupported key-derivation function","kdf",o)}const Yi=new X(ji);class Qi extends Yr{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function es(e,t){const r=JSON.parse(e);t=qi(t);const n=yn(zi(r,"ethaddr")),i=Di(zi(r,"encseed"));i&&i.length%16===0||Yi.throwArgumentError("invalid encseed","json",e);const s=ie(ci(t,t,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),u=new(Oi().ModeOfOperation.cbc)(s,o),c=Oi().padding.pkcs7.strip(ie(u.decrypt(a)));let l="";for(let d=0;d<c.length;d++)l+=String.fromCharCode(c[d]);const h=Gt(Qt(l));return new Qi({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function ts(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function rs(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function ns(e,t,r){if(ts(e)){r&&r(0);const n=es(e,t);return r&&r(1),Promise.resolve(n)}return rs(e)?function(e,t,r){return Ki(this,void 0,void 0,(function*(){const n=JSON.parse(e);return Vi(n,yield Xi(n,t,Ji,Li().scrypt,r))}))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function is(e,t){if(ts(e))return es(e,t);if(rs(e))return function(e,t){const r=JSON.parse(e);return Vi(r,Xi(r,t,Wi,Li().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var ss=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const os=new X("wallet/5.7.0");class as extends Dn{constructor(e,t){if(super(),null!=(r=e)&&ae(r.privateKey,32)&&null!=r.address){const t=new rn(e.privateKey);if(Kr(this,"_signingKey",(()=>t)),Kr(this,"address",_n(this.publicKey)),this.address!==yn(e.address)&&os.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;Kr(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||xi,locale:t.locale||"en"})));const r=this.mnemonic;_n(ki.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&os.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Kr(this,"_mnemonic",(()=>null))}else{if(rn.isSigningKey(e))"secp256k1"!==e.curve&&os.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Kr(this,"_signingKey",(()=>e));else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new rn(e);Kr(this,"_signingKey",(()=>t))}Kr(this,"_mnemonic",(()=>null)),Kr(this,"address",_n(this.publicKey))}var r;t&&!Un.isProvider(t)&&os.throwArgumentError("invalid provider","provider",t),Kr(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new as(this,e)}signTransaction(e){return Gr(e).then((t=>{null!=t.from&&(yn(t.from)!==this.address&&os.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(Gt(Mn(t)));return Mn(t,r)}))}signMessage(e){return ss(this,void 0,void 0,(function*(){return ge(this._signingKey().signDigest(rr(e)))}))}_signTypedData(e,t,r){return ss(this,void 0,void 0,(function*(){const n=yield ri.resolveNames(e,t,r,(e=>(null==this.provider&&os.throwError("cannot resolve ENS names without a provider",X.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return ge(this._signingKey().signDigest(ri.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!==typeof t||r||(r=t,t={}),r&&"function"!==typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(yn(e.address)!==_n(e.privateKey))throw new Error("address/privateKey mismatch");if(Gi(e)){const t=e.mnemonic;if(ki.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||xi).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}"function"!==typeof r||n||(n=r,r={}),r||(r={});const i=ie(e.privateKey),s=qi(t);let o=null,a=null,u=null;if(Gi(e)){const t=e.mnemonic;o=ie(Ri(t.phrase,t.locale||"en")),a=t.path||xi,u=t.locale||"en"}let c=r.client;c||(c="ethers.js");let l=null;l=r.salt?ie(r.salt):Ui(32);let h=null;if(r.iv){if(h=ie(r.iv),16!==h.length)throw new Error("invalid iv")}else h=Ui(16);let d=null;if(r.uuid){if(d=ie(r.uuid),16!==d.length)throw new Error("invalid uuid")}else d=Ui(16);let f=1<<17,p=8,g=1;return r.scrypt&&(r.scrypt.N&&(f=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Li().scrypt(s,l,f,p,g,64,n).then((t=>{const r=(t=ie(t)).slice(0,16),n=t.slice(16,32),s=t.slice(32,64),y=new(Oi().Counter)(h),m=ie(new(Oi().ModeOfOperation.ctr)(r,y).encrypt(i)),v=Gt(se([n,m])),w={address:e.address.substring(2).toLowerCase(),id:Fi(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ce(h).substring(2)},ciphertext:ce(m).substring(2),kdf:"scrypt",kdfparams:{salt:ce(l).substring(2),n:f,dklen:32,p:g,r:p},mac:v.substring(2)}};if(o){const e=Ui(16),t=new(Oi().Counter)(e),r=ie(new(Oi().ModeOfOperation.ctr)(s,t).encrypt(o)),n=new Date,i=n.getUTCFullYear()+"-"+Hi(n.getUTCMonth()+1,2)+"-"+Hi(n.getUTCDate(),2)+"T"+Hi(n.getUTCHours(),2)+"-"+Hi(n.getUTCMinutes(),2)+"-"+Hi(n.getUTCSeconds(),2)+".0Z";w["x-ethers"]={client:c,gethFilename:"UTC--"+i+"--"+w.address,mnemonicCounter:ce(e).substring(2),mnemonicCiphertext:ce(r).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(w)}))}(this,e,t,r)}static createRandom(e){let t=Ui(16);e||(e={}),e.extraEntropy&&(t=ie(he(Gt(se([t,e.extraEntropy])),0,16)));const r=Pi(t,e.locale);return as.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return ns(e,t,r).then((e=>new as(e)))}static fromEncryptedJsonSync(e,t){return new as(is(e,t))}static fromMnemonic(e,t,r){return t||(t=xi),new as(ki.fromMnemonic(e,null,r).derivePath(t))}}function us(e,t,r,n){return En(ri.hash(e,t,r),n)}var cs=r(30261).Buffer;class ls{constructor(e){(0,b.Z)(this,"signer",void 0),(0,b.Z)(this,"publicKey",void 0),(0,b.Z)(this,"ownerLength",Re[ke.ETHEREUM].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.ETHEREUM].sigLength),(0,b.Z)(this,"signatureType",ke.ETHEREUM),this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",t=await this.signer.signMessage(e),r=nn(ie(await rr(e)),t);this.publicKey=cs.from(ie(r))}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signMessage(e);return cs.from(t.slice(2),"hex")}static verify(e,t,r){const n=_n(e);return function(e,t){return En(rr(e),t)}(t,r)===n}}var hs=r(27994);class ds extends Ce{get publicKey(){return hs.decode(this.pk)}get key(){return hs.decode(this._key)}constructor(e){const t=hs.decode(e);super(hs.encode(t.subarray(0,32)),hs.encode(t.subarray(32,64)))}}var fs=r(31883),ps=r(30261),gs=r(21396);function ys(e){return e=ms(e),gs("keccak256").update(e).digest()}function ms(e){if(!ps.Buffer.isBuffer(e))if(Array.isArray(e))e=ps.Buffer.from(e);else if("string"===typeof e)e=vs(e)?ps.Buffer.from(ws(bs(e)),"hex"):ps.Buffer.from(e);else if("number"===typeof e)e=Es(e);else if(null===e||void 0===e)e=ps.Buffer.allocUnsafe(0);else if(q.isBN(e))e=e.toArrayLike(ps.Buffer);else{if(!e.toArray)throw new Error("invalid type");e=ps.Buffer.from(e.toArray())}return e}function vs(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function ws(e){if("string"!==typeof e)throw new Error(`while padding to even, value must be string, is currently ${typeof e}, while padToEven.`);return e.length%2&&(e=`0${e}`),e}function bs(e){return"string"!==typeof e?e:_s(e)?e.slice(2):e}function _s(e){if("string"!==typeof e)throw new Error("value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.startsWith("0x")}function Es(e){const t=Ss(e);return ps.Buffer.from(ws(t.slice(2)),"hex")}function Ss(e){return`0x${e.toString(16)}`}"undefined"!==typeof window&&(window.keccak256=ys);const As=ys,Ts={intToBuffer:Es,intToHex:Ss,isHexPrefixed:_s,stripHexPrefix:bs,padToEven:ws,isHexString:vs,toBuffer:ms};var xs=r(30261).Buffer;class ks{constructor(e,t){(0,b.Z)(this,"_key",void 0),(0,b.Z)(this,"ownerLength",Re[ke.ETHEREUM].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.ETHEREUM].sigLength),(0,b.Z)(this,"signatureType",ke.ETHEREUM),(0,b.Z)(this,"pk",void 0),this._key=e,this.pk=t.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return xs.from(this._key,"hex")}static async verify(e,t,r){let n=e;"string"===typeof e&&(n=x.toBuffer(e));let i=!1;try{i=fs.ecdsaVerify(r,As(xs.from(t)),n)}catch(s){}return i}async sign(e){return fs.ecdsaSign(As(xs.from(e)),xs.from(this.key)).signature}}var Rs=r(30261).Buffer;class Ps extends ks{get publicKey(){return Rs.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const t=Rs.from(e,"hex"),r=fs.publicKeyCreate(t,!1);super(e,Rs.from(r))}async sign(e){return new as(this._key).signMessage(e).then((e=>Rs.from(e.slice(2),"hex")))}static async verify(e,t,r){return fs.ecdsaVerify(65===r.length?r.slice(0,-1):r,ie(rr(t)),"string"===typeof e?x.toBuffer(e):e)}}class Ms extends Ps{}class Cs extends ds{constructor(e){super(e.replace("ed25519:",""))}}var Is=r(30261).Buffer;class Us extends Ce{get publicKey(){return Is.from(this.pk)}get key(){return Is.from(this._key)}constructor(e,t){super(e.subarray(0,32),t)}}var Bs=r(30261).Buffer;class Os extends jt{constructor(e){super(e),(0,b.Z)(this,"signatureType",4)}async sign(e){return super.sign(Bs.from(Bs.from(e).toString("hex")))}static async verify(e,t,r){return super.verify(e,Bs.from(Bs.from(t).toString("hex")),r)}}var Ns=r(30261).Buffer;class Ls extends ds{constructor(e){super(e),(0,b.Z)(this,"signatureType",4)}async sign(e){return super.sign(Ns.from(Ns.from(e).toString("hex")))}static async verify(e,t,r){return super.verify(e,Ns.from(Ns.from(t).toString("hex")),r)}}var Ds=r(30261).Buffer;class Hs extends Ce{constructor(e,t){super(e,t)}get publicKey(){return Ds.from(this.pk.slice(2),"hex")}get key(){return Ds.from(this._key.slice(2),"hex")}}var qs=r(30261).Buffer;class zs{constructor(e,t){(0,b.Z)(this,"_publicKey",void 0),(0,b.Z)(this,"ownerLength",Re[ke.INJECTEDAPTOS].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.INJECTEDAPTOS].sigLength),(0,b.Z)(this,"signatureType",ke.INJECTEDAPTOS),(0,b.Z)(this,"pem",void 0),(0,b.Z)(this,"provider",void 0),this.provider=e,this._publicKey=t}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const t=await this.provider.signMessage({message:qs.from(e).toString("hex"),nonce:"bundlr"});return qs.from(t.signature,"hex")}static async verify(e,t,r){const n=e;return(0,Pe.T)(qs.from(r),qs.from(`APTOS\nmessage: ${qs.from(t).toString("hex")}\nnonce: bundlr`),qs.from(n))}}var Fs=r(30261).Buffer;class js{constructor(e,t){(0,b.Z)(this,"_publicKey",void 0),(0,b.Z)(this,"ownerLength",Re[ke.MULTIAPTOS].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.MULTIAPTOS].sigLength),(0,b.Z)(this,"signatureType",ke.MULTIAPTOS),(0,b.Z)(this,"collectSignatures",void 0),(0,b.Z)(this,"provider",void 0),this._publicKey=e,this.collectSignatures=t}get publicKey(){return this._publicKey}async sign(e){const{signatures:t,bitmap:r}=await this.collectSignatures(e),n=new Uint8Array([0,0,0,0]),i=new Set;r.forEach((e=>{if(e>=32)throw new Error(`Invalid bit value ${e}.`);if(i.has(e))throw new Error("Duplicated bits detected.");i.add(e);const t=Math.floor(e/8);let r=n[t];r|=128>>e%8,n[t]=r}));const s=Fs.alloc(this.signatureLength);let o=0;for(let a=0;a<32;a++)n.includes(a)&&s.set(t[o++],64*a);return s.set(n,this.signatureLength-4),s}static async verify(e,t,r){const n=Re[ke.MULTIAPTOS].sigLength-4,i=r.slice(0,n),s=r.slice(n);let o=!1;for(let a=0;a<32;a++){const r=Math.floor(a/8),n=a-8*r;if(0!==(s[r]&128>>n)){const r=i.slice(64*a,64*(a+1)),n=e.slice(32*a,32*(a+1));await(0,Pe.T)(Fs.from(r),Fs.from(t),Fs.from(n))||(o=!0)}}return!o}}var Ks=r(30261).Buffer;class $s extends Ps{constructor(e){super(e),(0,b.Z)(this,"ownerLength",Re[ke.TYPEDETHEREUM].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.TYPEDETHEREUM].sigLength),(0,b.Z)(this,"signatureType",ke.TYPEDETHEREUM),(0,b.Z)(this,"address",void 0),(0,b.Z)(this,"signer",void 0),this.address="0x"+As(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new as(e)}get publicKey(){return Ks.from(this.address)}async sign(e){const t=await this.signer._signTypedData(Gs,Zs,{address:this.address,"Transaction hash":e});return Ks.from(t.slice(2),"hex")}static async verify(e,t,r){const n=e.toString(),i=us(Gs,Zs,{address:n,"Transaction hash":t},r);return n.toLowerCase()===i.toLowerCase()}}const Gs={name:"Bundlr",version:"1"},Zs={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]};var Vs=r(30261).Buffer;class Ws{constructor(e){(0,b.Z)(this,"ownerLength",Re[ke.TYPEDETHEREUM].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.TYPEDETHEREUM].sigLength),(0,b.Z)(this,"signatureType",ke.TYPEDETHEREUM),(0,b.Z)(this,"address",void 0),(0,b.Z)(this,"signer",void 0),(0,b.Z)(this,"publicKey",void 0),this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=Vs.from(this.address)}async sign(e){const t=await this.signer._signTypedData(Gs,Zs,{address:this.address,"Transaction hash":e});return Vs.from(t.slice(2),"hex")}static verify(e,t,r){const n=e.toString(),i=us(Gs,Zs,{address:n,"Transaction hash":t},r);return n.toLowerCase()===i.toLowerCase()}}class Js{constructor(e,t){(0,b.Z)(this,"signer",void 0),(0,b.Z)(this,"publicKey",void 0),(0,b.Z)(this,"ownerLength",Re[ke.ARWEAVE].pubLength),(0,b.Z)(this,"signatureLength",Re[ke.ARWEAVE].sigLength),(0,b.Z)(this,"signatureType",ke.ARWEAVE),(0,b.Z)(this,"arweave",void 0),this.signer=e,this.arweave=t}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=x.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signature(e,{name:"RSA-PSS",saltLength:32});return new Uint8Array(Object.values(t).map((e=>+e)))}static async verify(e,t,r){return await kt().verify(e,t,r)}}const Xs={1:zt,2:Ce,3:Ps,4:Os,5:zs,6:js,7:$s};const Ys=async function(e){return Ze([Ne("dataitem"),Ne("1"),Ne(e.signatureType.toString()),e.rawOwner,e.rawTarget,e.rawAnchor,e.rawTags,e.rawData])};function Qs(e,t){const r=new Uint8Array(e);if(t<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(t>2**(8*e)-1)throw new Error(`Number ${t} is too large for an array of ${e} bytes`);for(let n=0;n<r.length;n++){const e=255&t;r[n]=e,t=(t-e)/256}return r}function eo(e){return Qs(8,e)}function to(e){return Qs(2,e)}function ro(e){return Qs(16,e)}function no(e){return Qs(32,e)}function io(e){let t=0;for(let r=e.length-1;r>=0;r--)t=256*t+e[r];return t}var so=r(30261).Buffer;class oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so.alloc(lo),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,b.Z)(this,"buf",void 0),(0,b.Z)(this,"pos",void 0),this.buf=e,this.pos=t}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const t=e.length;let r;if(t)for(this.writeLong(t),r=0;r<t;r++){const t=e[r];if("string"!==typeof(null===t||void 0===t?void 0:t.name)||"string"!==typeof(null===t||void 0===t?void 0:t.value))throw new Error(`Invalid tag format for ${t}, expected {name:string, value: string}`);this.writeString(t.name),this.writeString(t.value)}this.writeLong(0)}toBuffer(){const e=so.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const t=this.buf;let r,n;if(e>=-1073741824&&e<1073741824){n=e>=0?e<<1:~e<<1|1;do{t[this.pos]=127&n,n>>=7}while(n&&(t[this.pos++]|=128))}else{r=e>=0?2*e:2*-e-1;do{t[this.pos]=127&r,r/=128}while(r>=1&&(t[this.pos++]|=128))}this.pos++,this.buf=t}writeString(e){const t=so.byteLength(e),r=this.buf;this.writeLong(t);let n=this.pos;if(this.pos+=t,!(this.pos>r.length)){if(t>64)this.buf.write(e,this.pos-t,t,"utf8");else{let i,s,o,a;for(i=0,s=t;i<s;i++)o=e.charCodeAt(i),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):55296===(64512&o)&&56320===(64512&(a=e.charCodeAt(i+1)))?(o=65536+((1023&o)<<10)+(1023&a),i++,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}this.buf=r}}readLong(){let e=0,t=0;const r=this.buf;let n,i,s,o;do{n=r[this.pos++],i=128&n,e|=(127&n)<<t,t+=7}while(i&&t<28);if(i){s=e,o=268435456;do{n=r[this.pos++],s+=(127&n)*o,o*=128}while(128&n);return(s%2?-(s+1):s)/2}return e>>1^-(1&e)}skipLong(){const e=this.buf;for(;128&e[this.pos++];);}readTags(){const e=[];let t;for(;t=this.readLong();)for(t<0&&(t=-t,this.skipLong());t--;){const t=this.readString(),r=this.readString();e.push({name:t,value:r})}return e}readString(){const e=this.readLong(),t=this.pos,r=this.buf;if(this.pos+=e,this.pos>r.length)throw new Error("TAP Position out of range");return this.buf.slice(t,t+e).toString()}}function ao(e){if(0===(null===e||void 0===e?void 0:e.length))return so.allocUnsafe(0);const t=new oo;return t.writeTags(e),t.toBuffer()}function uo(e){return new oo(e).readTags()}const co=80,lo=4096;class ho{constructor(e){(0,b.Z)(this,"binary",void 0),(0,b.Z)(this,"_id",void 0),this.binary=e}static isDataItem(e){return void 0!==e.binary}get signatureType(){const e=io(this.binary.subarray(0,2));if(void 0!==(null===ke||void 0===ke?void 0:ke[e]))return e;throw new Error("Unknown signature type: "+e)}async isValid(){return ho.verify(this.binary)}get id(){return x.encode(this.rawId)}set id(e){this._id=x.toBuffer(e)}get rawId(){return(0,Ge.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return x.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Re[this.signatureType].sigLength}get owner(){return x.encode(this.rawOwner)}get ownerLength(){return Re[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):ps.Buffer.alloc(0)}get target(){return x.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):ps.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),t=io(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}get tags(){const e=this.getTagsStart();if(0==io(this.binary.subarray(e,e+8)))return[];const t=io(this.binary.subarray(e+8,e+16));return uo(ps.Buffer.from(this.binary.subarray(e+16,e+16+t)))}get tagsB64Url(){return this.tags.map((e=>({name:x.encode(e.name),value:x.encode(e.value)})))}getStartOfData(){const e=this.getTagsStart();return e+16+io(this.binary.subarray(e+8,e+16))}get rawData(){const e=this.getTagsStart(),t=e+16+io(this.binary.subarray(e+8,e+16));return this.binary.subarray(t,this.binary.length)}get data(){return x.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Eo(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=ps.Buffer.from(await kt().hash(e))}isSigned(){var e,t;return(null!==(e=null===(t=this._id)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map((e=>({name:x.encode(e.name),value:x.encode(e.value)}))),data:this.data}}static async verify(e){if(e.byteLength<co)return!1;const t=new ho(e),r=t.signatureType,n=t.getTagsStart(),i=io(e.subarray(n,n+8)),s=io(e.subarray(n+8,n+16));if(s>lo)return!1;if(i>0)try{if(uo(ps.Buffer.from(e.subarray(n+16,n+16+s))).length!==i)return!1}catch(u){return!1}const o=Xs[r],a=await Ys(t);return await o.verify(t.rawOwner,a,t.rawSignature)}async getSignatureData(){return Ys(this)}getTagsStart(){const e=this.getTargetStart();let t=e+(1==this.binary[e]?33:1);return t+=1==this.binary[t]?33:1,t}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;return e+=1==this.binary[this.getTargetStart()]?32:0,e}}const fo=ho;var po=r(30261).Buffer;const go=32;class yo{constructor(e){(0,b.Z)(this,"length",void 0),(0,b.Z)(this,"items",void 0),(0,b.Z)(this,"binary",void 0),this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if("number"===typeof e){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}return this.getById(e)}getSizes(){const e=[];for(let t=go;t<go+64*this.length;t+=64)e.push(io(this.binary.subarray(t,t+32)));return e}getIds(){const e=[];for(let t=go;t<go+64*this.length;t+=64){const r=this.binary.subarray(t+32,t+64);if(0===r.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(x.encode(r))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const t=64+64*e;return x.encode(this.binary.subarray(t,t+32))}async toTransaction(e,t,r){const n=await t.createTransaction({data:this.binary,...e},r);return n.addTag("Bundle-Format","binary"),n.addTag("Bundle-Version","2.0.0"),n}async verify(){for(const e of this.items){const t=await e.isValid(),r=x((0,Ge.createHash)("sha256").update(e.rawSignature).digest());if(!t||e.id!==r)return!1}return!0}getOffset(e){let t=0;for(let r=go;r<go+64*this.length;r+=64){const n=io(this.binary.subarray(r,r+32));t+=n;const i=this.binary.subarray(r+32,r+64);if(0===po.compare(i,e))return{startOffset:t,size:n}}return{startOffset:-1,size:-1}}getByIndex(e){let t=0;const r=this.getBundleStart();let n,i,s=0;for(let c=go;c<go+64*this.length;c+=64){if(n=io(this.binary.subarray(c,c+32)),s++===e){i=this.binary.subarray(c+32,c+64);break}t+=n}const o=r+t,a=this.binary.subarray(o,o+n),u=new fo(a);return u.rawId=i,u}getById(e){const t=x.toBuffer(e),r=this.getOffset(t);if(-1===r.startOffset)throw new Error("Transaction not found");const n=this.getBundleStart()+r.startOffset;return new fo(this.binary.subarray(n,n+r.size))}getDataItemCount(){return io(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let t=0;const r=this.getBundleStart();let n=0;for(let i=go;i<go+64*this.length;i+=64){const s=io(this.binary.subarray(i,i+32)),o=this.binary.subarray(i+32,i+64);if(0===o.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");const a=r+t,u=this.binary.subarray(a,a+s);t+=s;const c=new fo(u);c.rawId=o,e[n]=c,n++}return e}}const mo=yo;var vo=r(30261).Buffer;function wo(e){return new mo(e)}async function bo(e,t){const r=new Uint8Array(64*e.length),n=await Promise.all(e.map((async(e,n)=>{const i=e.isSigned()?e.rawId:await Eo(e,t),s=new Uint8Array(64);return s.set(no(e.getRaw().byteLength),0),s.set(i,32),r.set(s,64*n),e.getRaw()}))).then((e=>vo.concat(e))),i=vo.concat([vo.from(no(e.length)),vo.from(r),n]);return new mo(i)}async function _o(e,t){const r=await Ys(e),n=await t.sign(r),i=await kt().hash(n);return{signature:vo.from(n),id:vo.from(i)}}async function Eo(e,t){const{signature:r,id:n}=await _o(e,t);return e.getRaw().set(r,2),n}var So=r(30261).Buffer;function Ao(e,t,r){var n,i,s,o,a,u,c;const l=t.publicKey,h=null!==r&&void 0!==r&&r.target?x.toBuffer(r.target):null,d=1+(null!==(n=null===h||void 0===h?void 0:h.byteLength)&&void 0!==n?n:0),f=null!==r&&void 0!==r&&r.anchor?So.from(r.anchor):null,p=1+(null!==(i=null===f||void 0===f?void 0:f.byteLength)&&void 0!==i?i:0),g=(null!==(s=null===r||void 0===r||null===(o=r.tags)||void 0===o?void 0:o.length)&&void 0!==s?s:0)>0?ao(null===r||void 0===r?void 0:r.tags):null,y=16+(g?g.byteLength:0),m=So.from(e),v=m.byteLength,w=2+t.signatureLength+t.ownerLength+d+p+y+v,b=So.alloc(w);if(b.set(to(t.signatureType),0),b.set(new Uint8Array(t.signatureLength).fill(0),2),l.byteLength!==t.ownerLength)throw new Error(`Owner must be ${t.ownerLength} bytes, but was incorrectly ${l.byteLength}`);b.set(l,2+t.signatureLength);const _=2+t.signatureLength+t.ownerLength;if(b[_]=h?1:0,h){if(32!==h.byteLength)throw new Error(`Target must be 32 bytes but was incorrectly ${h.byteLength}`);b.set(h,_+1)}const E=_+d;let S=E+1;if(b[E]=f?1:0,f){if(S+=f.byteLength,32!==f.byteLength)throw new Error("Anchor must be 32 bytes");b.set(f,E+1)}b.set(eo(null!==(a=null===r||void 0===r||null===(u=r.tags)||void 0===u?void 0:u.length)&&void 0!==a?a:0),S);const A=eo(null!==(c=null===g||void 0===g?void 0:g.byteLength)&&void 0!==c?c:0);b.set(A,S+8),g&&b.set(g,S+16);const T=S+y;return b.set(m,T),new fo(b)}class To{constructor(){(0,b.Z)(this,"signatureType",void 0),(0,b.Z)(this,"rawSignature",void 0),(0,b.Z)(this,"signature",void 0),(0,b.Z)(this,"signatureLength",void 0),(0,b.Z)(this,"rawOwner",void 0),(0,b.Z)(this,"owner",void 0),(0,b.Z)(this,"ownerLength",void 0),(0,b.Z)(this,"rawTarget",void 0),(0,b.Z)(this,"target",void 0),(0,b.Z)(this,"rawAnchor",void 0),(0,b.Z)(this,"anchor",void 0),(0,b.Z)(this,"rawTags",void 0),(0,b.Z)(this,"tags",void 0),(0,b.Z)(this,"rawData",void 0),(0,b.Z)(this,"data",void 0)}static async verify(){throw new Error("You must implement `verify`")}}class xo extends Error{constructor(e){super(e),this.name="BundleError"}}var ko=r(72131),Ro=r(413),Po=r(30261).Buffer;async function Mo(e){const t=Uo(e);let r=(await t.next()).value;r=await Io(t,r,32);const n=io(r.subarray(0,32));r=r.subarray(32);const i=64*n;r=await Io(t,r,i);const s=new Array(n);for(let u=0;u<i;u+=64)s[u/64]=[io(r.subarray(u,u+32)),x(Po.from(r.subarray(u+32,u+64)))];r=r.subarray(i);let o=32+i;const a=[];for(const[u,c]of s){r=await Io(t,r,co),r=await Io(t,r,2);const e=io(r.subarray(0,2));r=r.subarray(2);const{sigLength:n,pubLength:i,sigName:s}=Re[e];r=await Io(t,r,n);const l=r.subarray(0,n);r=r.subarray(n),r=await Io(t,r,i);const h=r.subarray(0,i);r=r.subarray(i),r=await Io(t,r,1);const d=1===r[0];d&&(r=await Io(t,r,33));const f=d?r.subarray(1,33):Po.allocUnsafe(0);r=r.subarray(d?33:1),r=await Io(t,r,1);const p=1===r[0];p&&(r=await Io(t,r,33));const g=p?r.subarray(1,33):Po.allocUnsafe(0);r=r.subarray(p?33:1),r=await Io(t,r,8);const y=io(r.subarray(0,8));r=r.subarray(8),r=await Io(t,r,8);const m=io(r.subarray(0,8));r=r.subarray(8),r=await Io(t,r,m);const v=r.subarray(0,m),w=0!==y&&0!==m?uo(Po.from(v)):[];if(w.length!==y)throw new Error("Tags lengths don't match");r=r.subarray(m);const b=new ko.Transform;b._transform=function(e,t,r){this.push(e),r()};const _=Ze([Ne("dataitem"),Ne("1"),Ne(e.toString()),h,f,g,v,b]),E=2+n+i+(d?33:1)+(p?33:1)+16+m,S=u-E;if(r.byteLength>S)b.write(r.subarray(0,S)),r=r.subarray(S);else{let e=r.byteLength;for(b.write(r);S>e;){if(r=(await t.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${S} received: ${e}`);e+=r.byteLength,e>S?b.write(r.subarray(0,r.byteLength-(e-S))):b.write(r)}r=r.subarray(r.byteLength-(e-S))}if(b.end(),c!==x((0,Ro.createHash)("sha256").update(l).digest()))throw new Error("ID doesn't match signature");const A=Xs[e];if(!await A.verify(h,await _,l))throw new Error("Invalid signature");a.push({id:c,sigName:s,signature:x(Po.from(l)),target:x(Po.from(f)),anchor:x(Po.from(g)),owner:x(Po.from(h)),tags:w,dataOffset:o+E,dataSize:S}),o+=E+S}return a}async function Co(e,t,r,n){const i=Ao("",r,n),s=new ko.PassThrough,o=[Ne("dataitem"),Ne("1"),Ne(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,e],a=await Ze(o),u=Po.from(await r.sign(a));return i.setSignature(u),s.write(i.getRaw()),t.pipe(s)}async function Io(e,t,r){if(t.byteLength>=r)return t;const{done:n,value:i}=await e.next();if(n&&!i)throw new Error("Invalid buffer");return Io(e,Po.concat([Po.from(t),Po.from(i)]),r)}async function*Uo(e){for await(const t of e)yield t}const Bo=Mo,Oo={readBytes:Io,getReader:Uo};var No;const Lo={...i,stream:s};null!==(No=globalThis.arbundles)&&void 0!==No||(globalThis.arbundles=Lo);var Do=r(30261).Buffer;class Ho{constructor(e){(0,b.Z)(this,"base",void 0),(0,b.Z)(this,"wallet",void 0),(0,b.Z)(this,"_address",void 0),(0,b.Z)(this,"providerUrl",void 0),(0,b.Z)(this,"providerInstance",void 0),(0,b.Z)(this,"ticker",void 0),(0,b.Z)(this,"name",void 0),(0,b.Z)(this,"irys",void 0),(0,b.Z)(this,"minConfirm",5),(0,b.Z)(this,"isSlow",!1),(0,b.Z)(this,"needsFee",!0),(0,b.Z)(this,"inheritsRPC",!1),Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return x.encode(Do.from(await kt().hash(await e.rawSignature())))}async price(){return qo(this.ticker)}}async function qo(e){const t=await E.Z.get(`https://api.redstone.finance/prices?symbol=${e}&provider=redstone&limit=1`);return await P.checkAndThrow(t,"Getting price data"),t.data[0].value}const zo=Ws;class Fo extends Ho{constructor(e){super(e),(0,b.Z)(this,"signer",void 0),(0,b.Z)(this,"w3signer",void 0),(0,b.Z)(this,"inheritsRPC",!0),this.base=["wei",1e18]}async getTx(e){const t=this.providerInstance,r=await t.getTransaction(e);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new k.Z(r.blockNumber):void 0,amount:new k.Z(r.value.toHexString(),16),pending:!r.blockNumber,confirmed:r.confirmations>=this.minConfirm}}ownerToAddress(e){return e.toString().toLowerCase()}async sign(e){return(await this.getSigner()).sign(e)}getSigner(){return this.signer||(this.signer=new Ws(this.wallet)),this.signer}async verify(e,t,r){return zo.verify(e,t,r)}async getCurrentHeight(){const e=this.providerInstance,t=await e.send("eth_blockNumber",[]);return new k.Z(t,16)}async getFee(e,t){const r=this.providerInstance,n={to:t,from:this.address,value:"0x"+new k.Z(e).toString(16)},i=await r.estimateGas(n),s=await r.getGasPrice();return new k.Z(i.mul(s).toString())}async sendTx(e){const t=this.w3signer,r=await t.sendTransaction(e);return r?r.hash:void 0}async createTx(e,t,r){const n=_e.from(new k.Z(e).toFixed()),i=this.w3signer,s=await i.estimateGas({to:t,from:this.address,value:n.toHexString()});let o=await i.getGasPrice();"matic"===this.name&&(o=_e.from(new k.Z(o.toString()).multipliedBy(10).decimalPlaces(0).toString()));return{txId:void 0,tx:await i.populateTransaction({to:t,from:this.address,value:n.toHexString(),gasPrice:o,gasLimit:s})}}async getPublicKey(){return this.address}async ready(){var e,t;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await(null===(e=this.providerInstance)||void 0===e||null===(t=e._ready)||void 0===t?void 0:t.call(e))}}var jo=r(14880),Ko=r(60224),$o=r(72918),Go=r(9151),Zo=r(99661),Vo=r(83695),Wo=r(30261).Buffer;class Jo extends Ho{constructor(e){super(e),(0,b.Z)(this,"keyPair",void 0),(0,b.Z)(this,"near",void 0),this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const e=new Ko.X,t=this.wallet.account();if(this.keyPair=await e.getKey(this.wallet._networkId,t.accountId),!this.keyPair){this.keyPair=jo.KeyPair.fromRandom("ed25519");const r=this.keyPair.getPublicKey().toString();await e.setKey(this.wallet._networkId,t.accountId,this.keyPair),await t.addKey(r)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(e){var t;const r=await this.providerInstance,[n,i]=e.split(":"),s=await r.txStatusReceipts(Go.decode(i),n),o=await r.block(s.transaction_outcome.block_hash),a=(await r.block({finality:"final"})).header.height;if(""!==s.receipts_outcome[0].outcome.status.SuccessValue)throw new Error("Transaction failed!");const u=null!==(t=s.receipts[0].receipt.Action.actions[0].Transfer.deposit)&&void 0!==t?t:0;return{from:n,to:s.transaction.receiver_id,amount:new k.Z(u),blockHeight:new k.Z(o.header.height),pending:!1,confirmed:a-o.header.height>=this.minConfirm}}ownerToAddress(e){const t="string"===typeof e?e:Go.encode(e);return Wo.from(Go.decode(t.replace("ed25519:",""))).toString("hex")}async sign(e){return this.getSigner().sign(e)}getSigner(){return new Cs(this.keyPair.secretKey)}async verify(e,t,r){return Cs.verify(e,t,r)}async getCurrentHeight(){const e=await this.providerInstance.status();return new k.Z(e.sync_info.latest_block_height)}async getFee(e,t){const r=(await this.providerInstance.block({finality:"final"})).header.height,n=await this.providerInstance.gasPrice(r);return new k.Z(n.gas_price).multipliedBy(45e10)}async sendTx(e){const t=await this.providerInstance.sendTransaction(e);return`${this.address}:${t.transaction.hash}`}async createTx(e,t,r){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const n=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),i=++n.nonce,s=Wo.from(Go.decode(n.block_hash)),o=[$o.actionCreators.transfer(new q(new k.Z(e).toString()))],a=(0,$o.createTransaction)(this.address,this.keyPair.getPublicKey(),t,i,o,s),u=(0,Zo.serialize)($o.SCHEMA,a),c=new Uint8Array(Vo.sha256.array(u)),l=this.keyPair.sign(c);return{tx:new $o.SignedTransaction({transaction:a,signature:new $o.Signature({keyType:a.publicKey.keyType,data:l.signature})}),txId:void 0}}async getPublicKey(){return Wo.from(this.keyPair.getPublicKey().data)}}var Xo=r(73034),Yo=r(30261).Buffer;class Qo extends Ho{constructor(e){super(e),(0,b.Z)(this,"signer",void 0),(0,b.Z)(this,"minConfirm",1),this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new Xo.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(e){const t=await this.getProvider(),r=await t.getTransaction(e,{commitment:"confirmed"});if(!r)throw new Error("Confirmed tx not found");const n=await t.getSlot("confirmed");if(!r.meta)throw new Error(`Unable to resolve transaction ${e}`);const i=new k.Z(r.meta.postBalances[1]).minus(new k.Z(r.meta.preBalances[1]));return{from:r.transaction.message.accountKeys[0].toBase58(),to:r.transaction.message.accountKeys[1].toBase58(),amount:i,blockHeight:new k.Z(r.slot),pending:!1,confirmed:n-r.slot>=1}}ownerToAddress(e){return"string"===typeof e&&(e=Yo.from(e)),Go.encode(e)}async sign(e){return await(await this.getSigner()).sign(e)}getSigner(){return this.signer||(this.signer=new Os(this.wallet)),this.signer}verify(e,t,r){return Os.verify(e,t,r)}async getCurrentHeight(){var e;return new k.Z(null!==(e=(await(await this.getProvider()).getEpochInfo()).blockHeight)&&void 0!==e?e:0)}async getFee(e,t){return new k.Z(5e3)}async sendTx(e){return await this.wallet.sendTransaction(e,await this.getProvider(),{skipPreflight:!0})}async createTx(e,t,r){const n=new Xo.PublicKey(await this.getPublicKey()),i=await S((async e=>{try{return await(await this.getProvider()).getRecentBlockhash()}catch(r){var t;if(null!==(t=r.message)&&void 0!==t&&t.includes("blockhash"))throw r;throw e(r),new Error("Unreachable")}}),{retries:3,minTimeout:1e3}),s=new Xo.Transaction({recentBlockhash:i.blockhash,feePayer:n});return s.add(Xo.SystemProgram.transfer({fromPubkey:n,toPubkey:new Xo.PublicKey(t),lamports:+new k.Z(e).toNumber()})),{tx:s,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const ea="abi/5.7.0",ta=new X(ea);class ra{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){ta.throwArgumentError(e,this.localName,t)}}class na{constructor(e){Kr(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return de(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(se(e._data))}writeBytes(e){let t=ie(e);const r=t.length%this.wordSize;return r&&(t=se([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=ie(_e.from(e));return t.length>this.wordSize&&ta.throwError("value out-of-bounds",X.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=se([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class ia{constructor(e,t,r,n){Kr(this,"_data",ie(e)),Kr(this,"wordSize",t||32),Kr(this,"_coerceFunc",r),Kr(this,"allowLoose",n),this._offset=0}get data(){return ce(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):ia.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:ta.throwError("data out-of-bounds",X.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new ia(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return _e.from(this.readBytes(this.wordSize))}}class sa extends ra{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=yn(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return yn(fe(e.readValue().toHexString(),20))}}class oa extends ra{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const aa=new X(ea);function ua(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||aa.throwError("cannot encode object for signature with missing names",X.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&aa.throwError("cannot encode object for signature with duplicate names",X.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else aa.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&aa.throwArgumentError("types/value length mismatch","tuple",r);let i=new na(e.wordSize),s=new na(e.wordSize),o=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();o.push((e=>{n(e+t)}))}else e.encode(i,r)})),o.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function ca(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{i=t.decode(o)}catch(s){if(s.code===X.errors.BUFFER_OVERRUN)throw s;i=s,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===X.errors.BUFFER_OVERRUN)throw s;i=s,i.baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)}));const i=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[t];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s}));for(let s=0;s<r.length;s++){const e=r[s];e instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class la extends ra{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),aa.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<t.length;i++)n.push(this.coder);return ua(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&aa.throwError("insufficient data length",X.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let n=0;n<t;n++)r.push(new oa(this.coder));return e.coerce(this.name,ca(e,r))}}class ha extends ra{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class da extends ra{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ie(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class fa extends da{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ce(super.decode(e)))}}class pa extends ra{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=ie(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,ce(e.readBytes(this.size)))}}class ga extends ra{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const ya=_e.from(-1),ma=_e.from(0),va=_e.from(1),wa=_e.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ba extends ra{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=_e.from(t),n=wa.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(va).mul(ya)))&&this._throwError("value out-of-bounds",t)}else(r.lt(ma)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class _a extends da{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Qt(t))}decode(e){return er(super.decode(e))}}class Ea extends ra{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){return ua(e,this.coders,t)}decode(e){return e.coerce(this.name,ca(e,this.coders))}}const Sa=new X(ea),Aa={};let Ta={calldata:!0,memory:!0,storage:!0},xa={calldata:!0,memory:!0};function ka(e,t){if("bytes"===e||"string"===e){if(Ta[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&xa[t])return!0;return(Ta[t]||"payable"===t)&&Sa.throwArgumentError("invalid modifier","name",t),!1}function Ra(e,t){for(let r in t)Kr(e,r,t[r])}const Pa=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Ma=new RegExp(/^(.*)\[([0-9]*)\]$/);class Ca{constructor(e,t){e!==Aa&&Sa.throwError("use fromString",X.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ra(this,t);let r=this.type.match(Ma);Ra(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Ca.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Pa.sighash),Pa[e]||Sa.throwArgumentError("invalid format type","format",e),e===Pa.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Pa.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===Pa.full?", ":",")+")"):t+=this.type,e!==Pa.sighash&&(!0===this.indexed&&(t+=" indexed"),e===Pa.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"===typeof e?Ca.fromString(e,t):Ca.fromObject(e)}static fromObject(e){return Ca.isParamType(e)?e:new Ca(Aa,{name:e.name||null,type:Fa(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(Ca.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){Sa.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<e.length;a++){let r=e[a];switch(r){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Fa(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(a),o.indexed=!0,o.name=""),ka(o.type,o.name)&&(o.name=""),o.type=Fa(o.type);let e=o;o=o.parent,o||n(a),delete e.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(a),o.indexed=!0,o.name=""),ka(o.type,o.name)&&(o.name=""),o.type=Fa(o.type);let s=i(o.parent);o.parent.components.push(s),delete o.parent,o=s;break;case" ":o.state.allowType&&""!==o.type&&(o.type=Fa(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):ka(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=r,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=r,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=r,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=r,delete o.state.allowArray):o.state.readArray?o.type+=r:n(a)}}return o.parent&&Sa.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):ka(o.type,o.name)&&(o.name=""),s.type=Fa(s.type),s}(e,!!t),Ca.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function Ia(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===n?(t.push(r),r=""):(r+=s,"("===s?n++:")"===s&&(n--,-1===n&&Sa.throwArgumentError("unbalanced parenthesis","value",e)))}r&&t.push(r);return t}(e).map((e=>Ca.fromString(e,t)))}class Ua{constructor(e,t){e!==Aa&&Sa.throwError("use a static from method",X.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ra(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Ua.isFragment(e)?e:"string"===typeof e?Ua.fromString(e):Ua.fromObject(e)}static fromObject(e){if(Ua.isFragment(e))return e;switch(e.type){case"function":return Ha.fromObject(e);case"event":return Ba.fromObject(e);case"constructor":return Da.fromObject(e);case"error":return za.fromObject(e);case"fallback":case"receive":return null}return Sa.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Ba.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Ha.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Da.fromString(e.trim()):"error"===e.split(" ")[0]?za.fromString(e.substring(5).trim()):Sa.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Ba extends Ua{format(e){if(e||(e=Pa.sighash),Pa[e]||Sa.throwArgumentError("invalid format type","format",e),e===Pa.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Pa.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Pa.full?", ":",")+") ",e!==Pa.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"===typeof e?Ba.fromString(e):Ba.fromObject(e)}static fromObject(e){if(Ba.isEventFragment(e))return e;"event"!==e.type&&Sa.throwArgumentError("invalid event object","value",e);const t={name:Ka(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ca.fromObject):[],type:"event"};return new Ba(Aa,t)}static fromString(e){let t=e.match($a);t||Sa.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:Sa.warn("unknown modifier: "+e)}})),Ba.fromObject({name:t[1].trim(),anonymous:r,inputs:Ia(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Oa(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&Sa.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||Sa.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=_e.from(r[1]),r[0]):e}function Na(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function La(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Sa.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Sa.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Sa.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Sa.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Sa.throwArgumentError("unable to determine stateMutability","value",e),t}class Da extends Ua{format(e){if(e||(e=Pa.sighash),Pa[e]||Sa.throwArgumentError("invalid format type","format",e),e===Pa.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===Pa.sighash&&Sa.throwError("cannot format a constructor for sighash",X.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===Pa.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"===typeof e?Da.fromString(e):Da.fromObject(e)}static fromObject(e){if(Da.isConstructorFragment(e))return e;"constructor"!==e.type&&Sa.throwArgumentError("invalid constructor object","value",e);let t=La(e);t.constant&&Sa.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ca.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?_e.from(e.gas):null};return new Da(Aa,r)}static fromString(e){let t={type:"constructor"},r=(e=Oa(e,t)).match($a);return r&&"constructor"===r[1].trim()||Sa.throwArgumentError("invalid constructor string","value",e),t.inputs=Ia(r[2].trim(),!1),Na(r[3].trim(),t),Da.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class Ha extends Da{format(e){if(e||(e=Pa.sighash),Pa[e]||Sa.throwArgumentError("invalid format type","format",e),e===Pa.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Pa.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Pa.full?", ":",")+") ",e!==Pa.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"===typeof e?Ha.fromString(e):Ha.fromObject(e)}static fromObject(e){if(Ha.isFunctionFragment(e))return e;"function"!==e.type&&Sa.throwArgumentError("invalid function object","value",e);let t=La(e);const r={type:e.type,name:Ka(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Ca.fromObject):[],outputs:e.outputs?e.outputs.map(Ca.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?_e.from(e.gas):null};return new Ha(Aa,r)}static fromString(e){let t={type:"function"},r=(e=Oa(e,t)).split(" returns ");r.length>2&&Sa.throwArgumentError("invalid function string","value",e);let n=r[0].match($a);if(n||Sa.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Ka(t.name),t.inputs=Ia(n[2],!1),Na(n[3].trim(),t),r.length>1){let n=r[1].match($a);""==n[1].trim()&&""==n[3].trim()||Sa.throwArgumentError("unexpected tokens","value",e),t.outputs=Ia(n[2],!1)}else t.outputs=[];return Ha.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function qa(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Sa.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class za extends Ua{format(e){if(e||(e=Pa.sighash),Pa[e]||Sa.throwArgumentError("invalid format type","format",e),e===Pa.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Pa.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Pa.full?", ":",")+") ",t.trim()}static from(e){return"string"===typeof e?za.fromString(e):za.fromObject(e)}static fromObject(e){if(za.isErrorFragment(e))return e;"error"!==e.type&&Sa.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Ka(e.name),inputs:e.inputs?e.inputs.map(Ca.fromObject):[]};return qa(new za(Aa,t))}static fromString(e){let t={type:"error"},r=e.match($a);return r||Sa.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&Ka(t.name),t.inputs=Ia(r[2],!1),qa(za.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Fa(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const ja=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ka(e){return e&&e.match(ja)||Sa.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const $a=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Ga=new X(ea),Za=new RegExp(/^bytes([0-9]*)$/),Va=new RegExp(/^(u?int)([0-9]*)$/);const Wa=new class{constructor(e){Kr(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new sa(e.name);case"bool":return new ha(e.name);case"string":return new _a(e.name);case"bytes":return new fa(e.name);case"array":return new la(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ea((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new ga(e.name)}let t=e.type.match(Va);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!==0)&&Ga.throwArgumentError("invalid "+t[1]+" bit length","param",e),new ba(r/8,"int"===t[1],e.name)}if(t=e.type.match(Za),t){let r=parseInt(t[1]);return(0===r||r>32)&&Ga.throwArgumentError("invalid bytes length","param",e),new pa(r,e.name)}return Ga.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new ia(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new na(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(Ca.from(e))));return new Ea(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Ga.throwError("types/values length mismatch",X.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(Ca.from(e)))),n=new Ea(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this._getCoder(Ca.from(e))));return new Ea(n,"_").decode(this._getReader(ie(t),r))}},Ja=new X(ea);class Xa extends Yr{}class Ya extends Yr{}class Qa extends Yr{}class eu extends Yr{static isIndexed(e){return!(!e||!e._isIndexed)}}const tu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ru(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class nu{constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,Kr(this,"fragments",t.map((e=>Ua.from(e))).filter((e=>null!=e))),Kr(this,"_abiCoder",$r(new.target,"getAbiCoder")()),Kr(this,"functions",{}),Kr(this,"errors",{}),Kr(this,"events",{}),Kr(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void Ja.warn("duplicate definition - constructor"):void Kr(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?Ja.warn("duplicate definition - "+r):t[r]=e})),this.deploy||Kr(this,"deploy",Da.from({payable:!1,type:"constructor"})),Kr(this,"_isInterface",!0)}format(e){e||(e=Pa.full),e===Pa.sighash&&Ja.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===Pa.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return Wa}static getAddress(e){return yn(e)}static getSighash(e){return he(qn(e.format()),0,4)}static getEventTopic(e){return qn(e.format())}getFunction(e){if(ae(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];Ja.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?Ja.throwArgumentError("no matching function","name",t):r.length>1&&Ja.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[Ha.fromString(e).format()];return t||Ja.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(ae(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];Ja.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?Ja.throwArgumentError("no matching event","name",t):r.length>1&&Ja.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[Ba.fromString(e).format()];return t||Ja.throwArgumentError("no matching event","signature",e),t}getError(e){if(ae(e)){const t=$r(this.constructor,"getSighash");for(const r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}Ja.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?Ja.throwArgumentError("no matching error","name",t):r.length>1&&Ja.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[Ha.fromString(e).format()];return t||Ja.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(r){throw t}}return $r(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"===typeof e&&(e=this.getEvent(e)),$r(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"===typeof e&&(e=this.getError(e));const r=ie(t);return ce(r.slice(0,4))!==this.getSighash(e)&&Ja.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ce(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"===typeof e&&(e=this.getError(e)),ce(se([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"===typeof e&&(e=this.getFunction(e));const r=ie(t);return ce(r.slice(0,4))!==this.getSighash(e)&&Ja.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ce(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"===typeof e&&(e=this.getFunction(e)),ce(se([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"===typeof e&&(e=this.getFunction(e));let r=ie(t),n=null,i="",s=null,o=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(u){}break;case 4:{const e=ce(r.slice(0,4)),t=tu[e];if(t)s=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,a=t.signature,t.reason&&(n=s[0]),"Error"===o?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===o&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const t=this.getError(e);s=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,a=t.format()}catch(u){}break}}return Ja.throwError("call revert exception"+i,X.errors.CALL_EXCEPTION,{method:e.format(),data:ce(t),errorArgs:s,errorName:o,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"===typeof e&&(e=this.getFunction(e)),ce(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&Ja.throwError("too many arguments for "+e.format(),X.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?qn(t):"bytes"===e.type?Gt(ce(t)):("bool"===e.type&&"boolean"===typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=_e.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),fe(ce(t),32));for(t.forEach(((t,i)=>{let s=e.inputs[i];s.indexed?null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?Ja.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map((e=>n(s,e)))):r.push(n(s,t)):null!=t&&Ja.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"===typeof e&&(e=this.getEvent(e));const r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Ja.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)r.push(qn(o));else if("bytes"===e.type)r.push(Gt(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[o]))}else n.push(e),i.push(o)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);ae(r[0],32)&&r[0].toLowerCase()===t||Ja.throwError("fragment/topic mismatch",X.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(Ca.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))}));let o=null!=r?this._abiCoder.decode(n,se(r)):null,a=this._abiCoder.decode(i,t,!0),u=[],c=0,l=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==o)u[t]=new eu({_isIndexed:!0,hash:null});else if(s[t])u[t]=new eu({_isIndexed:!0,hash:o[l++]});else try{u[t]=o[l++]}catch(r){u[t]=r}else try{u[t]=a[c++]}catch(r){u[t]=r}if(e.name&&null==u[e.name]){const r=u[t];r instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:()=>{throw ru(`property ${JSON.stringify(e.name)}`,r)}}):u[e.name]=r}}));for(let h=0;h<u.length;h++){const e=u[h];e instanceof Error&&Object.defineProperty(u,h,{enumerable:!0,get:()=>{throw ru(`index ${h}`,e)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Ya({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:_e.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Xa({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ce(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new Qa({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var iu=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const su=new X("contracts/5.7.0");function ou(e,t){return iu(this,void 0,void 0,(function*(){const r=yield t;"string"!==typeof r&&su.throwArgumentError("invalid address or ENS name","name",r);try{return yn(r)}catch(i){}e||su.throwError("a provider or signer is needed to resolve ENS names",X.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&su.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function au(e,t,r){return iu(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>au(e,Array.isArray(t)?t[n]:t[r.name],r)))):"address"===r.type?yield ou(e,t):"tuple"===r.type?yield au(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>au(e,t,r.arrayChildren)))):Promise.reject(su.makeError("invalid value for array",X.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function uu(e,t,r){return iu(this,void 0,void 0,(function*(){let n={};r.length===t.inputs.length+1&&"object"===typeof r[r.length-1]&&(n=Zr(r.pop())),su.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=Gr({override:ou(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>iu(this,void 0,void 0,(function*(){return yn(e.signer)!==e.override&&su.throwError("Contract with a Signer cannot override from",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):n.from=e.signer.getAddress():n.from&&(n.from=ou(e.provider,n.from));const i=yield Gr({args:au(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:Gr(n)||{}}),s=e.interface.encodeFunctionData(t,i.args),o={data:s,to:i.address},a=i.overrides;if(null!=a.nonce&&(o.nonce=_e.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=_e.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=_e.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=_e.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=_e.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=Tn(a.accessList)),null==o.gasLimit&&null!=t.gas){let e=21e3;const r=ie(s);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);o.gasLimit=_e.from(t.gas).add(e)}if(a.value){const e=_e.from(a.value);e.isZero()||t.payable||su.throwError("non-payable method cannot override value",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=e}a.customData&&(o.customData=Zr(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter((e=>null!=n[e]));return u.length&&su.throwError(`cannot override ${u.map((e=>JSON.stringify(e))).join(",")}`,X.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o}))}function cu(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>(t.events=t.logs.map((r=>{let n=Xr(r),i=null;try{i=e.interface.parseLog(r)}catch(s){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n})),t)))}function lu(e,t,r){const n=e.signer||e.provider;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return iu(this,void 0,void 0,(function*(){let i;if(s.length===t.inputs.length+1&&"object"===typeof s[s.length-1]){const e=Zr(s.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,s.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const o=yield uu(e,t,s),a=yield n.call(o,i);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(u){throw u.code===X.errors.CALL_EXCEPTION&&(u.address=e.address,u.args=s,u.transaction=o),u}}))}}function hu(e,t,r){return t.constant?lu(e,t,r):function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return iu(this,void 0,void 0,(function*(){e.signer||su.throwError("sending a transaction requires a signer",X.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield uu(e,t,n),i=yield e.signer.sendTransaction(r);return cu(e,i),i}))}}(e,t)}function du(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class fu{constructor(e,t){Kr(this,"tag",e),Kr(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((r=>!(!t&&r.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const r=e.slice();return setTimeout((()=>{t.listener.apply(this,r)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class pu extends fu{constructor(){super("error",null)}}class gu extends fu{constructor(e,t,r,n){const i={address:e};let s=t.getEventTopic(r);n?(s!==n[0]&&su.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[s],super(du(i),i),Kr(this,"address",e),Kr(this,"interface",t),Kr(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=function(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let s in n){const o=e.slice();o.push(s);try{r(o,n[s])}catch(i){t.push({path:o,error:i})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class yu extends fu{constructor(e,t){super("*",{address:e}),Kr(this,"address",e),Kr(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(t){}}}class mu{constructor(e,t,r){var n=this;Kr(this,"interface",$r(new.target,"getInterface")(t)),null==r?(Kr(this,"provider",null),Kr(this,"signer",null)):Dn.isSigner(r)?(Kr(this,"provider",r.provider||null),Kr(this,"signer",r)):Un.isProvider(r)?(Kr(this,"provider",r),Kr(this,"signer",null)):su.throwArgumentError("invalid signer or provider","signerOrProvider",r),Kr(this,"callStatic",{}),Kr(this,"estimateGas",{}),Kr(this,"functions",{}),Kr(this,"populateTransaction",{}),Kr(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];Kr(this.filters,t,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return{address:n.address,topics:n.interface.encodeFilterTopics(r,t)}})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)})),Object.keys(e).forEach((t=>{const r=e[t];1===r.length?Kr(this.filters,t,this.filters[r[0]]):su.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}))}if(Kr(this,"_runningEvents",{}),Kr(this,"_wrappedEmits",{}),null==e&&su.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Kr(this,"address",e),this.provider)Kr(this,"resolvedAddress",ou(this.provider,e));else try{Kr(this,"resolvedAddress",Promise.resolve(yn(e)))}catch(o){su.throwError("provider is required to use ENS name as contract address",X.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const i={},s={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(s[e])su.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{s[e]=!0;{const r=t.name;i[`%${r}`]||(i[`%${r}`]=[]),i[`%${r}`].push(e)}null==this[e]&&Kr(this,e,hu(this,t,!0)),null==this.functions[e]&&Kr(this.functions,e,hu(this,t,!1)),null==this.callStatic[e]&&Kr(this.callStatic,e,lu(this,t,!0)),null==this.populateTransaction[e]&&Kr(this.populateTransaction,e,function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return uu(e,t,n)}}(this,t)),null==this.estimateGas[e]&&Kr(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return iu(this,void 0,void 0,(function*(){r||su.throwError("estimate require a provider or signer",X.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield uu(e,t,i);return yield r.estimateGas(n)}))}}(this,t))}})),Object.keys(i).forEach((e=>{const t=i[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&Kr(this,e,this[r])}catch(n){}null==this.functions[e]&&Kr(this.functions,e,this.functions[r]),null==this.callStatic[e]&&Kr(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&Kr(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&Kr(this.estimateGas,e,this.estimateGas[r])}))}static getContractAddress(e){return function(e){let t=null;try{t=yn(e.from)}catch(r){ln.throwArgumentError("missing from address","transaction",e)}return yn(he(Gt(cn([t,oe(ie(_e.from(e.nonce).toHexString()))])),12))}(e)}static getInterface(e){return nu.isInterface(e)?e:new nu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&su.throwError("contract not deployed",X.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||su.throwError("sending a transactions require a signer",X.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Zr(e||{});return["from","to"].forEach((function(e){null!=t[e]&&su.throwError("cannot override "+e,X.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"===typeof e&&(e=new Hn(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Kr(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return eu.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new pu);if("event"===e)return this._normalizeRunningEvent(new fu("event",null));if("*"===e)return this._normalizeRunningEvent(new yu(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new gu(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!==typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new gu(this.address,this.interface,r,e.topics))}catch(t){}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new fu(du(r),r))}return this._normalizeRunningEvent(new yu(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=Xr(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||su.throwError("events require a provider or a signer with a provider",X.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(i){n.decodeError=i.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),i=Zr(n.filter);return"string"===typeof t&&ae(t,32)?(null!=r&&su.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e){if(!this.provider)return!1;const t=this._getRunningEvent(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=t.run(n)>0;return this._checkRunningEvents(t),s}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class vu extends mu{}class wu extends Fo{constructor(e){super(e),(0,b.Z)(this,"contractInstance",void 0),(0,b.Z)(this,"contractAddress",void 0),this.contractAddress=e.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new vu(this.contractAddress,bu,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(e){const t=await this.providerInstance.getTransaction(e);if(!t)throw new Error("Tx doesn't exist");if(138!==t.data.length||"a9059cbb"!==t.data.slice(2,10))throw new Error("Tx isn't a ERC20 transfer");const r=`0x${t.data.slice(34,74)}`,n=new k.Z(t.data.slice(74),16);return{from:t.from,to:r,blockHeight:t.blockNumber?new k.Z(t.blockNumber):void 0,amount:n,pending:!t.blockNumber,confirmed:t.confirmations>=this.minConfirm}}async getFee(e,t){const r="0x"+new k.Z(e).toString(16),n=await this.getContract(),i=await this.providerInstance.getGasPrice(),s=await n.estimateGas.transfer(t,r),o=new k.Z(i.mul(s).toString()),[a]=await this.getGas(),u=a.multipliedBy(o),c=new k.Z(await this.price());return new k.Z(u).dividedToIntegerBy(c)}async createTx(e,t,r){const n=await this.getContract(),i="0x"+new k.Z(e).toString(16),s=await n.populateTransaction.transfer(t,i);if(s.gasPrice=await this.providerInstance.getGasPrice(),s.gasLimit=await n.estimateGas.transfer(t,i),s.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return s.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:s}}async getGas(){return[new k.Z(await qo("ETH")),1e18]}}const bu=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var _u=r(53353),Eu=r(89409);"object"===typeof self&&"crypto"in self&&self.crypto;const Su=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const Au=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Tu(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Au[e[r]];return t}function xu(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function ku(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class Ru{clone(){return this._cloneInto()}}function Pu(e){const t=t=>e().update(ku(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Mu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Cu(e){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${r}, not of length=${e.length}`)}const Iu={number:Mu,bool:function(e){if("boolean"!==typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Cu,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Mu(e.outputLen),Mu(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Cu(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},Uu=BigInt(2**32-1),Bu=BigInt(32);function Ou(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Uu),l:Number(e>>Bu&Uu)}:{h:0|Number(e>>Bu&Uu),l:0|Number(e&Uu)}}const Nu={fromBig:Ou,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Ou(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<Bu|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[Lu,Du,Hu]=[[],[],[]],qu=BigInt(0),zu=BigInt(1),Fu=BigInt(2),ju=BigInt(7),Ku=BigInt(256),$u=BigInt(113);for(let Op=0,Np=zu,Lp=1,Dp=0;Op<24;Op++){[Lp,Dp]=[Dp,(2*Lp+3*Dp)%5],Lu.push(2*(5*Dp+Lp)),Du.push((Op+1)*(Op+2)/2%64);let e=qu;for(let t=0;t<7;t++)Np=(Np<<zu^(Np>>ju)*$u)%Ku,Np&Fu&&(e^=zu<<(zu<<BigInt(t))-zu);Hu.push(e)}const[Gu,Zu]=Nu.split(Hu,!0),Vu=(e,t,r)=>r>32?Nu.rotlBH(e,t,r):Nu.rotlSH(e,t,r),Wu=(e,t,r)=>r>32?Nu.rotlBL(e,t,r):Nu.rotlSL(e,t,r);class Ju extends Ru{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Iu.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=Vu(s,o,1)^r[t],u=Wu(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Du[r],s=Vu(t,i,n),o=Wu(t,i,n),a=Lu[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=Gu[n],e[1]^=Zu[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Iu.exists(this);const{blockLen:t,state:r}=this,n=(e=ku(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Iu.exists(this,!1),Iu.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Iu.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Iu.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new Ju(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Xu=(e,t,r)=>Pu((()=>new Ju(t,e,r))),Yu=(Xu(6,144,28),Xu(6,136,32)),Qu=(Xu(6,104,48),Xu(6,72,64),Xu(1,144,28),Xu(1,136,32),Xu(1,104,48),Xu(1,72,64),(e,t,r)=>function(e){const t=(t,r)=>e(r).update(ku(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ju(t,e,void 0===n.dkLen?r:n.dkLen,!0)})));Qu(31,168,16),Qu(31,136,32);class ec extends Ru{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Iu.hash(e);const r=ku(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Iu.exists(this),this.iHash.update(e),this}digestInto(e){Iu.exists(this),Iu.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tc=(e,t,r)=>new ec(e,t).update(r).digest();tc.create=(e,t)=>new ec(e,t);class rc extends Ru{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Su(this.buffer)}update(e){Iu.exists(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=ku(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Su(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Iu.exists(this),Iu.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let a=s;a<n;a++)t[a]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Su(e);this.get().forEach(((e,t)=>o.setUint32(4*t,e,i)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const[nc,ic]=Nu.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),sc=new Uint32Array(80),oc=new Uint32Array(80);class ac extends rc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g]}set(e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let v=0;v<16;v++,t+=4)sc[v]=e.getUint32(t),oc[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|sc[v-15],t=0|oc[v-15],r=Nu.rotrSH(e,t,1)^Nu.rotrSH(e,t,8)^Nu.shrSH(e,t,7),n=Nu.rotrSL(e,t,1)^Nu.rotrSL(e,t,8)^Nu.shrSL(e,t,7),i=0|sc[v-2],s=0|oc[v-2],o=Nu.rotrSH(i,s,19)^Nu.rotrBH(i,s,61)^Nu.shrSH(i,s,6),a=Nu.rotrSL(i,s,19)^Nu.rotrBL(i,s,61)^Nu.shrSL(i,s,6),u=Nu.add4L(n,a,oc[v-7],oc[v-16]),c=Nu.add4H(u,r,o,sc[v-7],sc[v-16]);sc[v]=0|c,oc[v]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:c,Eh:l,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let v=0;v<80;v++){const e=Nu.rotrSH(l,h,14)^Nu.rotrSH(l,h,18)^Nu.rotrBH(l,h,41),t=Nu.rotrSL(l,h,14)^Nu.rotrSL(l,h,18)^Nu.rotrBL(l,h,41),w=l&d^~l&p,b=h&f^~h&g,_=Nu.add5L(m,t,b,ic[v],oc[v]),E=Nu.add5H(_,y,e,w,nc[v],sc[v]),S=0|_,A=Nu.rotrSH(r,n,28)^Nu.rotrBH(r,n,34)^Nu.rotrBH(r,n,39),T=Nu.rotrSL(r,n,28)^Nu.rotrBL(r,n,34)^Nu.rotrBL(r,n,39),x=r&i^r&o^i&o,k=n&s^n&a^s&a;y=0|p,m=0|g,p=0|d,g=0|f,d=0|l,f=0|h,({h:l,l:h}=Nu.add(0|u,0|c,0|E,0|S)),u=0|o,c=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const R=Nu.add3L(S,T,k);r=Nu.add3H(R,E,A,x),n=0|R}({h:r,l:n}=Nu.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=Nu.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Nu.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:c}=Nu.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:l,l:h}=Nu.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=Nu.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=Nu.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=Nu.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(r,n,i,s,o,a,u,c,l,h,d,f,p,g,y,m)}roundClean(){sc.fill(0),oc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class uc extends ac{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class cc extends ac{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const lc=Pu((()=>new ac));Pu((()=>new uc)),Pu((()=>new cc));var hc=r(28383),dc=r(55229),fc=Object.defineProperty,pc=Object.getOwnPropertyDescriptor,gc=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},yc=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?pc(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&fc(t,r,s),s},mc=/^m(\/[0-9]+')+$/,vc=e=>e.replace("'",""),wc=2147483648,bc=e=>{const t=tc.create(lc,"ed25519 seed").update(xu(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},_c=(e,t)=>{let{key:r,chainCode:n}=e;const i=new ArrayBuffer(4);new DataView(i).setUint32(0,t);const s=new Uint8Array(i),o=new Uint8Array([0]),a=new Uint8Array([...o,...r,...s]),u=tc.create(lc,n).update(a).digest();return{key:u.slice(0,32),chainCode:u.slice(32)}},Ec=e=>!!mc.test(e)&&!e.split("/").slice(1).map(vc).some(Number.isNaN);async function Sc(e){return new Promise((t=>{setTimeout(t,e)}))}var Ac="/v1";var Tc=2e5,xc="0x1::aptos_coin::AptosCoin";function kc(e){let t,r,n;return"object"===typeof e?(t=e.hashFunction,r=e.ttlMs,n=e.tags):t=e,(e,i,s)=>{if(null!=s.value)s.value=Pc(s.value,t,r,n);else{if(null==s.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");s.get=Pc(s.get,t,r,n)}}}var Rc=new Map;function Pc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const i=Symbol("__memoized_map__");return function(){let s;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const a=o[i];if(Array.isArray(n))for(const e of n)Rc.has(e)?Rc.get(e).push(a):Rc.set(e,[a]);for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];if(t||c.length>0||r>0){let n;n=!0===t?c.map((e=>e.toString())).join("!"):t?t.apply(o,c):c[0];const i=`${n}__timestamp`;let u=!1;if(r>0)if(a.has(i)){const e=a.get(i);u=Date.now()-e>r}else u=!0;a.has(n)&&!u?s=a.get(n):(s=e.apply(o,c),a.set(n,s),r>0&&a.set(i,Date.now()))}else{const t=o;a.has(t)?s=a.get(t):(s=e.apply(o,c),a.set(t,s))}return s}}var Mc=class{static fromBuffer(e){return Mc.fromUint8Array(e)}static fromUint8Array(e){return new Mc(Tu(e))}static ensure(e){return"string"===typeof e?new Mc(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(xu(this.noPrefix()))}};async function Cc(e,t,r,n){var i;const s=[];let o;for(;;){const a=await e(Mc.ensure(t).hex(),null==(i=null==n?void 0:n.ledgerVersion)?void 0:i.toString(),o,r);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),null===o||void 0===o)break}return s}var Ic={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},Uc={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Bc={};gc(Bc,{AccountAddress:()=>rl,AccountAuthenticator:()=>pl,AccountAuthenticatorEd25519:()=>gl,AccountAuthenticatorMultiEd25519:()=>yl,ArgumentABI:()=>ph,AuthenticationKey:()=>wh,ChainId:()=>eh,ChangeSet:()=>$l,Ed25519PublicKey:()=>il,Ed25519Signature:()=>ol,EntryFunction:()=>ql,EntryFunctionABI:()=>mh,Identifier:()=>ml,Module:()=>jl,ModuleId:()=>Kl,MultiAgentRawTransaction:()=>Wl,MultiEd25519PublicKey:()=>al,MultiEd25519Signature:()=>cl,MultiSig:()=>Fl,MultiSigTransactionPayload:()=>zl,RawTransaction:()=>Dl,RawTransactionWithData:()=>Vl,RotationProofChallenge:()=>bh,Script:()=>Hl,ScriptABI:()=>gh,SignedTransaction:()=>Zl,StructTag:()=>Ml,Transaction:()=>hh,TransactionArgument:()=>th,TransactionArgumentAddress:()=>uh,TransactionArgumentBool:()=>lh,TransactionArgumentU128:()=>oh,TransactionArgumentU16:()=>nh,TransactionArgumentU256:()=>ah,TransactionArgumentU32:()=>ih,TransactionArgumentU64:()=>sh,TransactionArgumentU8:()=>rh,TransactionArgumentU8Vector:()=>ch,TransactionAuthenticator:()=>ll,TransactionAuthenticatorEd25519:()=>hl,TransactionAuthenticatorMultiAgent:()=>fl,TransactionAuthenticatorMultiEd25519:()=>dl,TransactionPayload:()=>Jl,TransactionPayloadEntryFunction:()=>Yl,TransactionPayloadMultisig:()=>Ql,TransactionPayloadScript:()=>Xl,TransactionScriptABI:()=>yh,TypeArgumentABI:()=>fh,TypeTag:()=>vl,TypeTagAddress:()=>xl,TypeTagBool:()=>wl,TypeTagParser:()=>Nl,TypeTagParserError:()=>Ll,TypeTagSigner:()=>kl,TypeTagStruct:()=>Pl,TypeTagU128:()=>Al,TypeTagU16:()=>_l,TypeTagU256:()=>Tl,TypeTagU32:()=>El,TypeTagU64:()=>Sl,TypeTagU8:()=>bl,TypeTagVector:()=>Rl,UserTransaction:()=>dh,WriteSet:()=>Gl,stringStructTag:()=>Cl});gc({},{Deserializer:()=>zc,Serializer:()=>Hc,bcsSerializeBool:()=>Xc,bcsSerializeBytes:()=>Qc,bcsSerializeFixedBytes:()=>el,bcsSerializeStr:()=>Yc,bcsSerializeU128:()=>Jc,bcsSerializeU16:()=>Vc,bcsSerializeU32:()=>Wc,bcsSerializeU8:()=>Zc,bcsSerializeUint64:()=>Gc,bcsToBytes:()=>$c,deserializeVector:()=>Kc,serializeVector:()=>Fc,serializeVectorWithFunc:()=>jc});var Oc=2**32-1,Nc=BigInt(2**64)-BigInt(1),Lc=BigInt(2**128)-BigInt(1),Dc=BigInt(2**256)-BigInt(1),Hc=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);const n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if("boolean"!==typeof e)throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(Oc),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){const t=BigInt(e.toString())&Nc,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){const t=BigInt(e.toString())&Lc,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e;const r=[];for(;t>>>7!==0;)r.push(127&t|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function qc(e,t,r){return(n,i,s)=>{const o=s.value;return s.value=function(n){const i=BigInt(n.toString());if(i>BigInt(t.toString())||i<BigInt(e.toString()))throw new Error(r||"Value is out of range");o.apply(this,[n])},s}}yc([qc(0,255)],Hc.prototype,"serializeU8",1),yc([qc(0,65535)],Hc.prototype,"serializeU16",1),yc([qc(0,Oc)],Hc.prototype,"serializeU32",1),yc([qc(BigInt(0),Nc)],Hc.prototype,"serializeU64",1),yc([qc(BigInt(0),Lc)],Hc.prototype,"serializeU128",1),yc([qc(BigInt(0),Dc)],Hc.prototype,"serializeU256",1),yc([qc(0,Oc)],Hc.prototype,"serializeU32AsUleb128",1);var zc=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return(new TextDecoder).decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(1!==e&&0!==e)throw new Error("Invalid boolean value");return 1===e}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<Oc;){const r=this.deserializeU8();if(e|=BigInt(127&r)<<BigInt(t),0===(128&r))break;t+=7}if(e>Oc)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function Fc(e,t){t.serializeU32AsUleb128(e.length),e.forEach((e=>{e.serialize(t)}))}function jc(e,t){const r=new Hc;r.serializeU32AsUleb128(e.length);const n=r[t];return e.forEach((e=>{n.call(r,e)})),r.getBytes()}function Kc(e,t){const r=e.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(t.deserialize(e));return n}function $c(e){const t=new Hc;return e.serialize(t),t.getBytes()}function Gc(e){const t=new Hc;return t.serializeU64(e),t.getBytes()}function Zc(e){const t=new Hc;return t.serializeU8(e),t.getBytes()}function Vc(e){const t=new Hc;return t.serializeU16(e),t.getBytes()}function Wc(e){const t=new Hc;return t.serializeU32(e),t.getBytes()}function Jc(e){const t=new Hc;return t.serializeU128(e),t.getBytes()}function Xc(e){const t=new Hc;return t.serializeBool(e),t.getBytes()}function Yc(e){const t=new Hc;return t.serializeStr(e),t.getBytes()}function Qc(e){const t=new Hc;return t.serializeBytes(e),t.getBytes()}function el(e){const t=new Hc;return t.serializeFixedBytes(e),t.getBytes()}var tl=class{constructor(e){if(e.length!==tl.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=Mc.ensure(e);t.noPrefix().length%2!==0&&(t=new Mc(`0${t.noPrefix()}`));const r=t.toUint8Array();if(r.length>tl.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===tl.LENGTH)return new tl(r);const n=new Uint8Array(tl.LENGTH);return n.set(r,tl.LENGTH-r.length),new tl(n)}static isValid(e){if(""===e)return!1;let t=Mc.ensure(e);t.noPrefix().length%2!==0&&(t=new Mc(`0${t.noPrefix()}`));return t.toUint8Array().length<=tl.LENGTH}toHexString(){return Mc.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new tl(e.deserializeFixedBytes(tl.LENGTH))}},rl=tl;rl.LENGTH=32,rl.CORE_CODE_ADDRESS=tl.fromHex("0x1");var nl=class{constructor(e){if(e.length!==nl.LENGTH)throw new Error(`Ed25519PublicKey length should be ${nl.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new nl(t)}},il=nl;il.LENGTH=32;var sl=class{constructor(e){if(this.value=e,e.length!==sl.LENGTH)throw new Error(`Ed25519Signature length should be ${sl.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new sl(t)}},ol=sl;ol.LENGTH=64;var al=class{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>32)throw new Error('"threshold" cannot be larger than 32')}toBytes(){const e=new Uint8Array(this.public_keys.length*il.LENGTH+1);return this.public_keys.forEach(((t,r)=>{e.set(t.value,r*il.LENGTH)})),e[this.public_keys.length*il.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),r=t[t.length-1],n=[];for(let i=0;i<t.length-1;i+=il.LENGTH){const e=i;n.push(new il(t.subarray(e,e+il.LENGTH)))}return new al(n,r)}},ul=class{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==ul.BITMAP_LEN)throw new Error(`"bitmap" length should be ${ul.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*ol.LENGTH+ul.BITMAP_LEN);return this.signatures.forEach(((t,r)=>{e.set(t.value,r*ol.LENGTH)})),e.set(this.bitmap,this.signatures.length*ol.LENGTH),e}static createBitmap(e){const t=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach((e=>{if(e>=32)throw new Error(`Invalid bit value ${e}.`);if(r.has(e))throw new Error("Duplicated bits detected.");r.add(e);const n=Math.floor(e/8);let i=t[n];i|=128>>e%8,t[n]=i})),t}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),r=t.subarray(t.length-4),n=[];for(let i=0;i<t.length-r.length;i+=ol.LENGTH){const e=i;n.push(new ol(t.subarray(e,e+ol.LENGTH)))}return new ul(n,r)}},cl=ul;cl.BITMAP_LEN=4;var ll=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return hl.load(e);case 1:return dl.load(e);case 2:return fl.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},hl=class extends ll{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=il.deserialize(e),r=ol.deserialize(e);return new hl(t,r)}},dl=class extends ll{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=al.deserialize(e),r=cl.deserialize(e);return new dl(t,r)}},fl=class extends ll{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Fc(this.secondary_signer_addresses,e),Fc(this.secondary_signers,e)}static load(e){const t=pl.deserialize(e),r=Kc(e,rl),n=Kc(e,pl);return new fl(t,r,n)}},pl=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return gl.load(e);case 1:return yl.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},gl=class extends pl{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=il.deserialize(e),r=ol.deserialize(e);return new gl(t,r)}},yl=class extends pl{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=al.deserialize(e),r=cl.deserialize(e);return new yl(t,r)}},ml=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const t=e.deserializeStr();return new ml(t)}},vl=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return wl.load(e);case 1:return bl.load(e);case 2:return Sl.load(e);case 3:return Al.load(e);case 4:return xl.load(e);case 5:return kl.load(e);case 6:return Rl.load(e);case 7:return Pl.load(e);case 8:return _l.load(e);case 9:return El.load(e);case 10:return Tl.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},wl=class extends vl{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new wl}},bl=class extends vl{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new bl}},_l=class extends vl{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new _l}},El=class extends vl{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new El}},Sl=class extends vl{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Sl}},Al=class extends vl{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Al}},Tl=class extends vl{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Tl}},xl=class extends vl{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new xl}},kl=class extends vl{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new kl}},Rl=class extends vl{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const t=vl.deserialize(e);return new Rl(t)}},Pl=class extends vl{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const t=Ml.deserialize(e);return new Pl(t)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===rl.fromHex("0x1").toHexString()}},Ml=class{constructor(e,t,r,n){this.address=e,this.module_name=t,this.name=r,this.type_args=n}static fromString(e){const t=new Nl(e).parseTypeTag();return new Ml(t.value.address,t.value.module_name,t.value.name,t.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Fc(this.type_args,e)}static deserialize(e){const t=rl.deserialize(e),r=ml.deserialize(e),n=ml.deserialize(e),i=Kc(e,vl);return new Ml(t,r,n,i)}},Cl=new Ml(rl.fromHex("0x1"),new ml("string"),new ml("String"),[]);function Il(e){throw new Ll(e)}function Ul(e){return!!e.match(/\s/)}function Bl(e){return!!e.match(/[_A-Za-z0-9]/g)}function Ol(e,t){const r=e[t];if(":"===r){if("::"===e.slice(t,t+2))return[["COLON","::"],2];Il("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(Ul(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!Ul(t))break;r=`${r}${t}`}return[["SPACE",r],r.length]}if(Bl(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!Bl(t))break;r=`${r}${t}`}return function(e){return!!e.match(/T\d+/g)}(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}var Nl=class{constructor(e,t){this.typeTags=[],this.tokens=function(e){let t=0;const r=[];for(;t<e.length;){const[n,i]=Ol(e,t);"SPACE"!==n[0]&&r.push(n),t+=i}return r}(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();t&&t[1]===e||Il("Invalid type tag.")}parseCommaList(e,t){const r=[];for(this.tokens.length<=0&&Il("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e))&&(this.consume(","),!(this.tokens.length>0&&this.tokens[0][1]===e&&t));)this.tokens.length<=0&&Il("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&Il("Invalid type tag.");const[e,t]=this.tokens.shift();if("u8"===t)return new bl;if("u16"===t)return new _l;if("u32"===t)return new El;if("u64"===t)return new Sl;if("u128"===t)return new Al;if("u256"===t)return new Tl;if("bool"===t)return new wl;if("address"===t)return new xl;if("vector"===t){this.consume("<");const e=this.parseTypeTag();return this.consume(">"),new Rl(e)}if("string"===t)return new Ml(rl.fromHex("0x1"),new ml("string"),new ml("String"),[]);if("IDENT"===e&&(t.startsWith("0x")||t.startsWith("0X"))){const e=t;this.consume("::");const[r,n]=this.tokens.shift();"IDENT"!==r&&Il("Invalid type tag."),this.consume("::");const[i,s]=this.tokens.shift();if("IDENT"!==i&&Il("Invalid type tag."),"object"===n&&"Object"===s)return this.tokens.splice(0,3),new xl;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new Ml(rl.fromHex(e),new ml(n),new ml(s),o);return new Pl(a)}if("GENERIC"===e){0===this.typeTags.length&&Il("Can't convert generic type since no typeTags were specified.");const e=parseInt(t.substring(1),10);return new Nl(this.typeTags[e]).parseTypeTag()}throw new Error("Invalid type tag.")}},Ll=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},Dl=class{constructor(e,t,r,n,i,s,o){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const t=rl.deserialize(e),r=e.deserializeU64(),n=Jl.deserialize(e),i=e.deserializeU64(),s=e.deserializeU64(),o=e.deserializeU64(),a=eh.deserialize(e);return new Dl(t,r,n,i,s,o,a)}},Hl=class{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),Fc(this.ty_args,e),Fc(this.args,e)}static deserialize(e){const t=e.deserializeBytes(),r=Kc(e,vl),n=Kc(e,th);return new Hl(t,r,n)}},ql=class{constructor(e,t,r,n){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=n}static natural(e,t,r,n){return new ql(Kl.fromStr(e),new ml(t),r,n)}static natual(e,t,r,n){return ql.natural(e,t,r,n)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Fc(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach((t=>{e.serializeBytes(t)}))}static deserialize(e){const t=Kl.deserialize(e),r=ml.deserialize(e),n=Kc(e,vl),i=e.deserializeUleb128AsU32(),s=[];for(let o=0;o<i;o+=1)s.push(e.deserializeBytes());return new ql(t,r,n,s)}},zl=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new zl(ql.deserialize(e))}},Fl=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const t=rl.deserialize(e);let r;return e.deserializeBool()&&(r=zl.deserialize(e)),new Fl(t,r)}},jl=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const t=e.deserializeBytes();return new jl(t)}},Kl=class{constructor(e,t){this.address=e,this.name=t}static fromStr(e){const t=e.split("::");if(2!==t.length)throw new Error("Invalid module id.");return new Kl(rl.fromHex(new Mc(t[0])),new ml(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const t=rl.deserialize(e),r=ml.deserialize(e);return new Kl(t,r)}},$l=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},Gl=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},Zl=class{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const t=Dl.deserialize(e),r=ll.deserialize(e);return new Zl(t,r)}},Vl=class{static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return Wl.load(e);throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}},Wl=class extends Vl{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Fc(this.secondary_signer_addresses,e)}static load(e){const t=Dl.deserialize(e),r=Kc(e,rl);return new Wl(t,r)}},Jl=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Xl.load(e);case 2:return Yl.load(e);case 3:return Ql.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Xl=class extends Jl{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const t=Hl.deserialize(e);return new Xl(t)}},Yl=class extends Jl{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const t=ql.deserialize(e);return new Yl(t)}},Ql=class extends Jl{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=Fl.deserialize(e);return new Ql(t)}},eh=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const t=e.deserializeU8();return new eh(t)}},th=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return rh.load(e);case 1:return sh.load(e);case 2:return oh.load(e);case 3:return uh.load(e);case 4:return ch.load(e);case 5:return lh.load(e);case 6:return nh.load(e);case 7:return ih.load(e);case 8:return ah.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},rh=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const t=e.deserializeU8();return new rh(t)}},nh=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const t=e.deserializeU16();return new nh(t)}},ih=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const t=e.deserializeU32();return new ih(t)}},sh=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const t=e.deserializeU64();return new sh(t)}},oh=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const t=e.deserializeU128();return new oh(t)}},ah=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const t=e.deserializeU256();return new ah(t)}},uh=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=rl.deserialize(e);return new uh(t)}},ch=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const t=e.deserializeBytes();return new ch(t)}},lh=class extends th{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const t=e.deserializeBool();return new lh(t)}},hh=class{getHashSalt(){const e=Yu.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return dh.load(e);throw new Error(`Unknown variant index for Transaction: ${t}`)}},dh=class extends hh{constructor(e){super(),this.value=e}hash(){const e=Yu.create();return e.update(this.getHashSalt()),e.update($c(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new dh(Zl.deserialize(e))}},fh=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const t=e.deserializeStr();return new fh(t)}},ph=class{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const t=e.deserializeStr(),r=vl.deserialize(e);return new ph(t,r)}},gh=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return yh.load(e);case 1:return mh.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},yh=class extends gh{constructor(e,t,r,n,i){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Fc(this.ty_args,e),Fc(this.args,e)}static load(e){const t=e.deserializeStr(),r=e.deserializeStr(),n=e.deserializeBytes(),i=Kc(e,fh),s=Kc(e,ph);return new yh(t,r,n,i,s)}},mh=class extends gh{constructor(e,t,r,n,i){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Fc(this.ty_args,e),Fc(this.args,e)}static load(e){const t=e.deserializeStr(),r=Kl.deserialize(e),n=e.deserializeStr(),i=Kc(e,fh),s=Kc(e,ph);return new mh(t,r,n,i,s)}},vh=class{constructor(e){if(e.length!==vh.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const t=e.toBytes(),r=new Uint8Array(t.length+1);r.set(t),r.set([vh.MULTI_ED25519_SCHEME],t.length);const n=Yu.create();return n.update(r),new vh(n.digest())}static fromEd25519PublicKey(e){const t=e.value,r=new Uint8Array(t.length+1);r.set(t),r.set([vh.ED25519_SCHEME],t.length);const n=Yu.create();return n.update(r),new vh(n.digest())}derivedAddress(){return Mc.fromUint8Array(this.bytes)}},wh=vh;wh.LENGTH=32,wh.MULTI_ED25519_SCHEME=1,wh.ED25519_SCHEME=0,wh.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var bh=class{constructor(e,t,r,n,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},_h=class{static fromAptosAccountObject(e){return new _h(Mc.ensure(e.privateKeyHex).toUint8Array(),e.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(e,t){if(!_h.isValidPath(e))throw new Error("Invalid derivation path");const r=t.trim().split(/\s+/).map((e=>e.toLowerCase())).join(" "),{key:n}=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wc;if(!Ec(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=bc(t);return e.split("/").slice(1).map(vc).map((e=>parseInt(e,10))).reduce(((e,t)=>_c(e,t+r)),{key:n,chainCode:i})}(e,Tu(Eu.Z1(r)));return new _h(n)}constructor(e,t){this.signingKey=e?_u.sign.keyPair.fromSeed(e.slice(0,32)):_u.sign.keyPair(),this.accountAddress=Mc.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new il(this.signingKey.publicKey);return wh.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const r=$c(rl.fromHex(e)),n=new Uint8Array([...r,...t,wh.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=Yu.create();return i.update(n),Mc.fromUint8Array(i.digest())}pubKey(){return Mc.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=_u.sign.detached(e,this.signingKey.secretKey);return Mc.fromUint8Array(t)}signHexString(e){const t=Mc.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const r=Mc.ensure(e).toUint8Array(),n=Mc.ensure(t).toUint8Array();return _u.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Mc.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Eh=_h;yc([kc()],Eh.prototype,"authKey",1);var Sh=class{constructor(e){this.endpoint=e}static validateAddress(e){if(e.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(e){const{data:t}=await hc.post(this.endpoint,e);if(t.errors)throw new Error(`Indexer data error ${JSON.stringify(t.errors,null," ")}`);return t.data}async getIndexerLedgerInfo(){const e={query:"\n    query getIndexerLedgerInfo {\n  ledger_infos {\n    chain_id\n  }\n}\n    "};return this.queryIndexer(e)}async getAccountNFTs(e,t){const r=Mc.ensure(e).hex();Sh.validateAddress(r);const n={query:"\n    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {\n  current_token_ownerships(\n    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}\n    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    current_token_data {\n      ...TokenDataFields\n    }\n    current_collection_data {\n      ...CollectionDataFields\n    }\n    last_transaction_version\n    property_version\n  }\n}\n    \n    fragment TokenDataFields on current_token_datas {\n  creator_address\n  collection_name\n  description\n  metadata_uri\n  name\n  token_data_id_hash\n  collection_data_id_hash\n}\n    \n\n    fragment CollectionDataFields on current_collection_datas {\n  metadata_uri\n  supply\n  description\n  collection_name\n  collection_data_id_hash\n  table_handle\n  creator_address\n}\n    ",variables:{address:r,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(n)}async getTokenActivities(e,t){const r={query:"\n    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {\n  token_activities(\n    where: {token_data_id_hash: {_eq: $idHash}}\n    order_by: {transaction_version: desc}\n    offset: $offset\n    limit: $limit\n  ) {\n    creator_address\n    collection_name\n    name\n    token_data_id_hash\n    collection_data_id_hash\n    from_address\n    to_address\n    transaction_version\n    transaction_timestamp\n    property_version\n    transfer_type\n    event_sequence_number\n    token_amount\n  }\n}\n    ",variables:{idHash:e,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(r)}async getAccountCoinsData(e,t){const r=Mc.ensure(e).hex();Sh.validateAddress(r);const n={query:"\n    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {\n  current_coin_balances(\n    where: {owner_address: {_eq: $owner_address}}\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    coin_type\n    coin_info {\n      name\n      decimals\n      symbol\n    }\n  }\n}\n    ",variables:{owner_address:r,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(n)}async getAccountTokensCount(e){const t=Mc.ensure(e).hex();Sh.validateAddress(t);const r={query:'\n    query getAccountTokensCount($owner_address: String) {\n  current_token_ownerships_aggregate(\n    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{owner_address:t}};return this.queryIndexer(r)}async getAccountTransactionsCount(e){const t=Mc.ensure(e).hex();Sh.validateAddress(t);const r={query:"\n    query getAccountTransactionsCount($address: String) {\n  move_resources_aggregate(\n    where: {address: {_eq: $address}}\n    distinct_on: transaction_version\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{address:t}};return this.queryIndexer(r)}async getAccountTransactionsData(e,t){const r=Mc.ensure(e).hex();Sh.validateAddress(r);const n={query:"\n    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {\n  move_resources(\n    where: {address: {_eq: $address}}\n    order_by: {transaction_version: desc}\n    distinct_on: transaction_version\n    limit: $limit\n    offset: $offset\n  ) {\n    transaction_version\n  }\n}\n    ",variables:{address:r,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(e,t){const r=Mc.ensure(e).hex(),n=Mc.ensure(t).hex();Sh.validateAddress(r),Sh.validateAddress(n);const i={query:"\n    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {\n  delegated_staking_activities(\n    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}\n  ) {\n    amount\n    delegator_address\n    event_index\n    event_type\n    pool_address\n    transaction_version\n  }\n}\n    ",variables:{delegatorAddress:r,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(e){const t={query:"\n    query getTokenActivitiesCount($token_id: String) {\n  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{token_id:e}};return this.queryIndexer(t)}async getTokenData(e){const t={query:"\n    query getTokenData($token_id: String) {\n  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {\n    token_data_id_hash\n    name\n    collection_name\n    creator_address\n    default_properties\n    largest_property_version\n    maximum\n    metadata_uri\n    payee_address\n    royalty_points_denominator\n    royalty_points_numerator\n    supply\n  }\n}\n    ",variables:{token_id:e}};return this.queryIndexer(t)}async getTokenOwnersData(e,t){const r={query:"\n    query getTokenOwnersData($token_id: String, $property_version: numeric) {\n  current_token_ownerships(\n    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}\n  ) {\n    owner_address\n  }\n}\n    ",variables:{token_id:e,property_version:t}};return this.queryIndexer(r)}async getTopUserTransactions(e){const t={query:"\n    query getTopUserTransactions($limit: Int) {\n  user_transactions(limit: $limit, order_by: {version: desc}) {\n    version\n  }\n}\n    ",variables:{limit:e}};return this.queryIndexer(t)}async getUserTransactions(e,t){const r={query:"\n    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {\n  user_transactions(\n    limit: $limit\n    order_by: {version: desc}\n    where: {version: {_lte: $start_version}}\n    offset: $offset\n  ) {\n    version\n  }\n}\n    ",variables:{start_version:e,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(e){const t=Mc.ensure(e).hex();Sh.validateAddress(t);const r={query:'\n    query getCurrentDelegatorBalancesCount($poolAddress: String) {\n  current_delegator_balances_aggregate(\n    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}\n    distinct_on: delegator_address\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{poolAddress:t}};return this.queryIndexer(r)}};gc({},{$AccountData:()=>Xh,$AccountSignature:()=>Yh,$AccountSignature_Ed25519Signature:()=>Qh,$AccountSignature_MultiEd25519Signature:()=>ed,$Address:()=>td,$AptosError:()=>rd,$AptosErrorCode:()=>nd,$Block:()=>id,$BlockMetadataTransaction:()=>sd,$DecodedTableData:()=>od,$DeleteModule:()=>ud,$DeleteResource:()=>cd,$DeleteTableItem:()=>ld,$DeletedTableData:()=>ad,$DirectWriteSet:()=>hd,$Ed25519Signature:()=>dd,$EncodeSubmissionRequest:()=>fd,$EntryFunctionId:()=>pd,$EntryFunctionPayload:()=>gd,$Event:()=>yd,$EventGuid:()=>md,$GasEstimation:()=>vd,$GenesisPayload:()=>wd,$GenesisPayload_WriteSetPayload:()=>bd,$GenesisTransaction:()=>_d,$HashValue:()=>Ed,$HealthCheckSuccess:()=>Sd,$HexEncodedBytes:()=>Ad,$IdentifierWrapper:()=>Td,$IndexResponse:()=>xd,$ModuleBundlePayload:()=>kd,$MoveAbility:()=>Rd,$MoveFunction:()=>Pd,$MoveFunctionGenericTypeParam:()=>Md,$MoveFunctionVisibility:()=>Cd,$MoveModule:()=>Id,$MoveModuleBytecode:()=>Ud,$MoveModuleId:()=>Bd,$MoveResource:()=>Od,$MoveScriptBytecode:()=>Nd,$MoveStruct:()=>Ld,$MoveStructField:()=>Dd,$MoveStructGenericTypeParam:()=>Hd,$MoveStructTag:()=>qd,$MoveStructValue:()=>zd,$MoveType:()=>Fd,$MoveValue:()=>jd,$MultiAgentSignature:()=>Kd,$MultiEd25519Signature:()=>$d,$MultisigPayload:()=>Gd,$MultisigTransactionPayload:()=>Zd,$PendingTransaction:()=>Vd,$RawTableItemRequest:()=>Wd,$RoleType:()=>Jd,$ScriptPayload:()=>Xd,$ScriptWriteSet:()=>Yd,$StateCheckpointTransaction:()=>Qd,$StateKeyWrapper:()=>ef,$SubmitTransactionRequest:()=>tf,$TableItemRequest:()=>rf,$Transaction:()=>nf,$TransactionPayload:()=>lf,$TransactionPayload_EntryFunctionPayload:()=>hf,$TransactionPayload_ModuleBundlePayload:()=>df,$TransactionPayload_MultisigPayload:()=>ff,$TransactionPayload_ScriptPayload:()=>pf,$TransactionSignature:()=>mf,$TransactionSignature_Ed25519Signature:()=>vf,$TransactionSignature_MultiAgentSignature:()=>wf,$TransactionSignature_MultiEd25519Signature:()=>bf,$Transaction_BlockMetadataTransaction:()=>sf,$Transaction_GenesisTransaction:()=>of,$Transaction_PendingTransaction:()=>af,$Transaction_StateCheckpointTransaction:()=>uf,$Transaction_UserTransaction:()=>cf,$TransactionsBatchSingleSubmissionFailure:()=>gf,$TransactionsBatchSubmissionResult:()=>yf,$U128:()=>_f,$U256:()=>Ef,$U64:()=>Sf,$UserTransaction:()=>Af,$VersionedEvent:()=>Tf,$ViewRequest:()=>xf,$WriteModule:()=>kf,$WriteResource:()=>Rf,$WriteSet:()=>Pf,$WriteSetChange:()=>If,$WriteSetChange_DeleteModule:()=>Uf,$WriteSetChange_DeleteResource:()=>Bf,$WriteSetChange_DeleteTableItem:()=>Of,$WriteSetChange_WriteModule:()=>Nf,$WriteSetChange_WriteResource:()=>Lf,$WriteSetChange_WriteTableItem:()=>Df,$WriteSetPayload:()=>Hf,$WriteSet_DirectWriteSet:()=>Mf,$WriteSet_ScriptWriteSet:()=>Cf,$WriteTableItem:()=>qf,AccountsService:()=>Hh,ApiError:()=>Th,AptosErrorCode:()=>Vh,AptosGeneratedClient:()=>Gh,BaseHttpRequest:()=>Ah,BlocksService:()=>qh,CancelError:()=>xh,CancelablePromise:()=>kh,EventsService:()=>zh,GeneralService:()=>Fh,MoveFunctionVisibility:()=>Wh,OpenAPI:()=>Zh,RoleType:()=>Jh,TablesService:()=>jh,TransactionsService:()=>Kh,ViewService:()=>$h});var Ah=class{constructor(e){this.config=e}},Th=class extends Error{constructor(e,t,r){super(r),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}},xh=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},kh=class{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise(((t,r)=>{this._resolve=t,this._reject=r;const n=e=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(e)};return Object.defineProperty(n,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(n,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(n,"isCancelled",{get:()=>this._isCancelled}),e((e=>{var t;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,null==(t=this._resolve)||t.call(this,e))}),(e=>{var t;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,null==(t=this._reject)||t.call(this,e))}),n)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(t){return void console.warn("Cancellation threw an error",t)}this._cancelHandlers.length=0,null==(e=this._reject)||e.call(this,new xh("Request aborted"))}}get isCancelled(){return this._isCancelled}};Symbol.toStringTag;var Rh=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.jar=e}setCookie(e,t){var r;const n=e.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=Rh.parse(t);this.jar.set(n,[...(null==(r=this.jar.get(n))?void 0:r.filter((e=>e.name!==i.name)))||[],i])}getCookies(e){var t;const r=e.origin.toLowerCase();return this.jar.get(r)&&(null==(t=this.jar.get(r))?void 0:t.filter((e=>!e.expires||e.expires>new Date)))||[]}static parse(e){if("string"!==typeof e)throw new Error("argument str must be a string");const t=e.split(";").map((e=>e.trim()));let r;if(!(t.length>0))throw new Error("Invalid cookie");{const[e,n]=t[0].split("=");if(!e||!n)throw new Error("Invalid cookie");r={name:e,value:n}}return t.slice(1).forEach((e=>{const[t,n]=e.split("=");if(!t.trim())throw new Error("Invalid cookie");const i=t.toLowerCase(),s="'"===(null==n?void 0:n.charAt(0))||'"'===(null==n?void 0:n.charAt(0))?null==n?void 0:n.slice(1,-1):n;if("expires"===i&&(r.expires=new Date(s)),"path"===i&&(r.path=s),"samesite"===i){if("Lax"!==s&&"None"!==s&&"Strict"!==s)throw new Error("Invalid cookie SameSite value");r.sameSite=s}"secure"===i&&(r.secure=!0)})),r}},Ph=new Rh;hc.interceptors.response.use((e=>(Array.isArray(e.headers["set-cookie"])&&e.headers["set-cookie"].forEach((t=>{Ph.setCookie(new URL(e.config.url),t)})),e))),hc.interceptors.request.use((function(e){const t=Ph.getCookies(new URL(e.url));return(null==t?void 0:t.length)>0&&e.headers&&(e.headers.cookie=t.map((e=>`${e.name}=${e.value}`)).join("; ")),e}));var Mh=e=>void 0!==e&&null!==e,Ch=e=>"string"===typeof e,Ih=e=>Ch(e)&&""!==e,Uh=e=>"object"===typeof e&&"string"===typeof e.type&&"function"===typeof e.stream&&"function"===typeof e.arrayBuffer&&"function"===typeof e.constructor&&"string"===typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),Bh=e=>{const t=[],r=(e,n)=>{Mh(n)&&(Array.isArray(n)?n.forEach((t=>{r(e,t)})):"object"===typeof n?Object.entries(n).forEach((t=>{let[n,i]=t;r(`${e}[${n}]`,i)})):((e,r)=>{t.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(r))}`)})(e,n))};return Object.entries(e).forEach((e=>{let[t,n]=e;r(t,n)})),t.length>0?`?${t.join("&")}`:""},Oh=async(e,t)=>"function"===typeof t?t(e):t,Nh=async(e,t,r)=>{const n=await Oh(t,e.TOKEN),i=await Oh(t,e.USERNAME),s=await Oh(t,e.PASSWORD),o=await Oh(t,e.HEADERS),a="function"===typeof(null==r?void 0:r.getHeaders)&&(null==r?void 0:r.getHeaders())||{},u=Object.entries({Accept:"application/json",...o,...t.headers,...a}).filter((e=>{let[t,r]=e;return Mh(r)})).reduce(((e,t)=>{let[r,n]=t;return{...e,[r]:String(n)}}),{});if(Ih(n)&&(u.Authorization=`Bearer ${n}`),Ih(i)&&Ih(s)){const e=btoa(`${i}:${s}`);u.Authorization=`Basic ${e}`}return t.body&&(t.mediaType?u["Content-Type"]=t.mediaType:Uh(t.body)?u["Content-Type"]=t.body.type||"application/octet-stream":Ch(t.body)?u["Content-Type"]="text/plain":t.body instanceof dc||(u["Content-Type"]="application/json")),u},Lh=(e,t)=>new kh((async(r,n,i)=>{try{const n=((e,t)=>{const r=e.ENCODE_PATH||encodeURI,n=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,((e,n)=>{var i;return(null==(i=t.path)?void 0:i.hasOwnProperty(n))?r(String(t.path[n])):e})),i=`${e.BASE}${n}`;return t.query?`${i}${Bh(t.query)}`:i})(e,t),a=(e=>{if(e.formData){const t=new dc,r=(e,r)=>{Ch(r)||Uh(r)?t.append(e,r):t.append(e,JSON.stringify(r))};return Object.entries(e.formData).filter((e=>{let[t,r]=e;return Mh(r)})).forEach((e=>{let[t,n]=e;Array.isArray(n)?n.forEach((e=>r(t,e))):r(t,n)})),t}})(t),u=(e=>{if(e.body)return e.body})(t),c=await Nh(e,t,a);if(!i.isCancelled){const l=await(async(e,t,r,n,i,s,o)=>{const a=hc.CancelToken.source(),u={url:r,headers:s,data:null!=n?n:i,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(e.HEADERS||{}).filter((e=>"accept"===e.toLowerCase())).map((t=>e.HEADERS[t])).includes("application/x-bcs")&&(u.responseType="arraybuffer"),o((()=>a.cancel("The user aborted a request.")));try{return await hc.request(u)}catch(c){const e=c;if(e.response)return e.response;throw c}})(e,t,n,u,a,c,i),h=(e=>{if(204!==e.status)return e.data})(l),d=((e,t)=>{if(t){const r=e.headers[t];if(Ch(r))return r}})(l,t.responseHeader),f={url:n,ok:(s=l.status,s>=200&&s<300),status:l.status,statusText:l.statusText,body:null!=d?d:h};((e,t)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(r)throw new Th(e,t,r);if(!t.ok)throw new Th(e,t,"Generic Error")})(t,f);const p=f.body;try{p.__headers=l.headers}catch(o){}r(p)}}catch(a){n(a)}var s})),Dh=class extends Ah{constructor(e){super(e)}request(e){return Lh(this.config,e)}},Hh=class{constructor(e){this.httpRequest=e}getAccount(e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:e},query:{ledger_version:t}})}getAccountResources(e,t,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:e},query:{ledger_version:t,start:r,limit:n}})}getAccountModules(e,t,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:e},query:{ledger_version:t,start:r,limit:n}})}getAccountResource(e,t,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:e,resource_type:t},query:{ledger_version:r}})}getAccountModule(e,t,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:e,module_name:t},query:{ledger_version:r}})}},qh=class{constructor(e){this.httpRequest=e}getBlockByHeight(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:e},query:{with_transactions:t}})}getBlockByVersion(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:e},query:{with_transactions:t}})}},zh=class{constructor(e){this.httpRequest=e}getEventsByCreationNumber(e,t,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:e,creation_number:t},query:{start:r,limit:n}})}getEventsByEventHandle(e,t,r,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:e,event_handle:t,field_name:r},query:{start:n,limit:i}})}},Fh=class{constructor(e){this.httpRequest=e}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(e){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:e}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},jh=class{constructor(e){this.httpRequest=e}getTableItem(e,t,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:e},query:{ledger_version:r},body:t,mediaType:"application/json"})}getRawTableItem(e,t,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:e},query:{ledger_version:r},body:t,mediaType:"application/json"})}},Kh=class{constructor(e){this.httpRequest=e}getTransactions(e,t){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:e,limit:t}})}submitTransaction(e){return this.httpRequest.request({method:"POST",url:"/transactions",body:e,mediaType:"application/json"})}getTransactionByHash(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:e}})}getTransactionByVersion(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:e}})}getAccountTransactions(e,t,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:e},query:{start:t,limit:r}})}submitBatchTransactions(e){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:e,mediaType:"application/json"})}simulateTransaction(e,t,r,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:t,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:n},body:e,mediaType:"application/json"})}encodeSubmission(e){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:e,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},$h=class{constructor(e){this.httpRequest=e}view(e,t){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:t},body:e,mediaType:"application/json"})}},Gh=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dh;var r,n,i,s;this.request=new t({BASE:null!=(r=null==e?void 0:e.BASE)?r:"/v1",VERSION:null!=(n=null==e?void 0:e.VERSION)?n:"1.2.0",WITH_CREDENTIALS:null!=(i=null==e?void 0:e.WITH_CREDENTIALS)&&i,CREDENTIALS:null!=(s=null==e?void 0:e.CREDENTIALS)?s:"include",TOKEN:null==e?void 0:e.TOKEN,USERNAME:null==e?void 0:e.USERNAME,PASSWORD:null==e?void 0:e.PASSWORD,HEADERS:null==e?void 0:e.HEADERS,ENCODE_PATH:null==e?void 0:e.ENCODE_PATH}),this.accounts=new Hh(this.request),this.blocks=new qh(this.request),this.events=new zh(this.request),this.general=new Fh(this.request),this.tables=new jh(this.request),this.transactions=new Kh(this.request),this.view=new $h(this.request)}},Zh={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Vh=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(Vh||{}),Wh=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(Wh||{}),Jh=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(Jh||{}),Xh={description:"Account data\n\n    A simplified version of the onchain Account resource",properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},Yh={type:"one-of",description:"Account signature scheme\n\n    The account signature scheme allows you to have two types of accounts:\n\n    1. A single Ed25519 key account, one private key\n    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.",contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},Qh={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},ed={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},td={type:"string",description:"A hex encoded 32 byte Aptos account address.\n\n    This is represented in a string as a 64 character hex string, sometimes\n    shortened by stripping leading 0s, and adding a 0x.\n\n    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.\n    ",format:"hex"},rd={description:"This is the generic struct we use for all API errors, it contains a string\n    message and an Aptos API specific error code.",properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},nd={type:"Enum"},id={description:"A Block with or without transactions\n\n    This contains the information about a transactions along with\n    associated transactions if requested",properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},sd={description:"A block metadata transaction\n\n    This signifies the beginning of a block, and contains information\n    about the specific block",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},od={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},ad={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},ud={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},cd={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},ld={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},hd={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},dd={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},fd={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},pd={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},gd={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},yd={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},md={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},vd={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},wd={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},bd={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},_d={description:"The genesis transaction\n\n    This only occurs at the genesis transaction (version 0)",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Ed={type:"string"},Sd={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},Ad={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Td={type:"string"},xd={description:'The struct holding all data returned to the client by the\n    index endpoint (i.e., GET "/").  Only for responding in JSON',properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:"Git hash of the build of the API endpoint.  Can be used to determine the exact\n            software version used by the API endpoint."}}},kd={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Rd={type:"string"},Pd={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},Md={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Cd={type:"Enum"},Id={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},Ud={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},Bd={type:"string",description:"Move module id is a string representation of Move module.\n\n    Format: `{address}::{module name}`\n\n    `address` should be hex-encoded 32 byte account address that is prefixed with `0x`.\n\n    Module name is case-sensitive.\n    "},Od={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},Nd={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},Ld={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},Dd={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},Hd={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},qd={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},zd={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},Fd={type:"string",description:"String representation of an on-chain Move type tag that is exposed in transaction payload.\n    Values:\n    - bool\n    - u8\n    - u16\n    - u32\n    - u64\n    - u128\n    - u256\n    - address\n    - signer\n    - vector: `vector<{non-reference MoveTypeId}>`\n    - struct: `{address}::{module_name}::{struct_name}::<{generic types}>`\n\n    Vector type value examples:\n    - `vector<u8>`\n    - `vector<vector<u64>>`\n    - `vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>`\n\n    Struct type value examples:\n    - `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>\n    - `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n    ",pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},jd={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},Kd={description:"Multi agent signature for multi agent transactions\n\n    This allows you to have transactions across multiple accounts",properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},$d={description:"A Ed25519 multi-sig signature\n\n    This allows k-of-n signing for a transaction",properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},Gd={description:"A multisig transaction that allows an owner of a multisig account to execute a pre-approved\n    transaction as the multisig account.",properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},Zd={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},Vd={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},Wd={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},Jd={type:"Enum"},Xd={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Yd={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Qd={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},ef={type:"string",description:"Representation of a StateKey as a hex string. This is used for cursor based pagination.\n    "},tf={description:"A request to submit a transaction\n\n    This requires a transaction and a signature of it",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},rf={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},nf={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},sf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},of={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},af={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},uf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},cf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},lf={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},hf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},df={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},ff={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},pf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},gf={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},yf={description:"Batch transaction submission result\n\n    Tells which transactions failed",properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},mf={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},vf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},wf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},bf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},_f={type:"string",description:"A string containing a 128-bit unsigned integer.\n\n    We represent u128 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u128s in JSON natively.\n    ",format:"uint128"},Ef={type:"string",description:"A string containing a 256-bit unsigned integer.\n\n    We represent u256 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u256s in JSON natively.\n    ",format:"uint256"},Sf={type:"string",description:"A string containing a 64-bit unsigned integer.\n\n    We represent u64 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u64s in JSON natively.\n    ",format:"uint64"},Af={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Tf={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},xf={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},kf={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},Rf={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},Pf={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},Mf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},Cf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},If={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},Uf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},Bf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},Of={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},Nf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},Lf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},Df={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},Hf={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},qf={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function zf(e,t,r){if(!(null==t?void 0:t.includes(typeof e)))throw new Error(r||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Ff(e){if(zf(e,["boolean","string"]),"boolean"===typeof e)return e;if("true"===e)return!0;if("false"===e)return!1;throw new Error("Invalid boolean string.")}function jf(e){if(zf(e,["number","string"]),"number"===typeof e)return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function Kf(e){return zf(e,["number","bigint","string"]),BigInt(e)}function $f(e,t,r){if(t instanceof wl)r.serializeBool(Ff(e));else if(t instanceof bl)r.serializeU8(jf(e));else if(t instanceof _l)r.serializeU16(jf(e));else if(t instanceof El)r.serializeU32(jf(e));else if(t instanceof Sl)r.serializeU64(Kf(e));else if(t instanceof Al)r.serializeU128(Kf(e));else if(t instanceof Tl)r.serializeU256(Kf(e));else{if(!(t instanceof xl)){if(t instanceof Rl){if(t.value instanceof bl){if(e instanceof Uint8Array)return void r.serializeBytes(e);if("string"===typeof e)return void r.serializeStr(e)}if(!Array.isArray(e))throw new Error("Invalid vector args.");return r.serializeU32AsUleb128(e.length),void e.forEach((e=>$f(e,t.value,r)))}if(t instanceof Pl){const{address:n,module_name:i,name:s}=t.value;if("0x1::string::String"!==`${Mc.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`)throw new Error("The only supported struct arg is of type 0x1::string::String");return zf(e,["string"]),void r.serializeStr(e)}throw new Error("Unsupported arg type.")}{let t;if("string"===typeof e||e instanceof Mc)t=rl.fromHex(e);else{if(!(e instanceof rl))throw new Error("Invalid account address.");t=e}t.serialize(r)}}}var Gf,Zf,Vf=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){const t=Yu.create();if(e instanceof Dl)t.update("APTOS::RawTransaction");else{if(!(e instanceof Wl))throw new Error("Unknown transaction type.");t.update("APTOS::RawTransactionWithData")}const r=t.digest(),n=$c(e),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},Wf=class extends Vf{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){const t=Vf.getSigningMessage(e),r=this.signingFunction(t),n=new hl(new il(this.publicKey),r);return new Zl(e,n)}sign(e){return $c(this.rawToSigned(e))}},Jf=class extends Vf{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Vf.getSigningMessage(e),r=this.signingFunction(t),n=new dl(this.publicKey,r);return new Zl(e,n)}sign(e){return $c(this.rawToSigned(e))}},Xf=class{constructor(e,t){this.abiMap=new Map,e.forEach((e=>{const t=new zc(e),r=gh.deserialize(t);let n;if(r instanceof mh){const e=r,{address:t,name:i}=e.module_name;n=`${Mc.fromUint8Array(t.address).toShortString()}::${i.value}::${e.name}`}else{n=r.name}if(this.abiMap.has(n))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(n,r)})),this.builderConfig={maxGasAmount:BigInt(Tc),expSecFromNow:20,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>{const n=new Hc;return $f(t,e[r].type_tag,n),n.getBytes()}))}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>function(e,t){if(t instanceof wl)return new lh(Ff(e));if(t instanceof bl)return new rh(jf(e));if(t instanceof _l)return new nh(jf(e));if(t instanceof El)return new ih(jf(e));if(t instanceof Sl)return new sh(Kf(e));if(t instanceof Al)return new oh(Kf(e));if(t instanceof Tl)return new ah(Kf(e));if(t instanceof xl){let t;if("string"===typeof e||e instanceof Mc)t=rl.fromHex(e);else{if(!(e instanceof rl))throw new Error("Invalid account address.");t=e}return new uh(t)}if(t instanceof Rl&&t.value instanceof bl){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new ch(e)}throw new Error("Unknown type for TransactionArgument.")}(t,e[r].type_tag)))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,r){const n=t.map((e=>new Nl(e).parseTypeTag()));let i;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const s=this.abiMap.get(e);if(s instanceof mh){const e=s,t=Xf.toBCSArgs(e.args,r);i=new Yl(new ql(e.module_name,new ml(e.name),n,t))}else{if(!(s instanceof yh))throw new Error("Unknown ABI format.");{const e=s,t=Xf.toTransactionArguments(e.args,r);i=new Xl(new Hl(e.code,n,t))}}return i}build(e,t,r){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:u}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const c=n instanceof rl?n:rl.fromHex(n),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),h=this.buildTransactionPayload(e,t,r);if(h)return new Dl(c,BigInt(i),h,BigInt(o),BigInt(s),l,new eh(Number(u)));throw new Error("Invalid ABI.")}},Yf=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const t=(await this.aptosClient.getAccountModules(e)).map((e=>e.abi)).flatMap((e=>e.exposed_functions.filter((e=>e.is_entry)).map((t=>({fullName:`${e.address}::${e.name}::${t.name}`,...t}))))),r=new Map;return t.forEach((e=>{r.set(e.fullName,e)})),r}async build(e,t,r){if(3!==(e=e.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[n,i]=e.split("::"),s=await this.fetchABI(n);if(!s.has(e))throw new Error(`${e} doesn't exist.`);const o=s.get(e),a=o.params.filter((e=>"signer"!==e&&"&signer"!==e)).map(((e,r)=>new ph(`var${r}`,new Nl(e,t).parseTypeTag()))),u=new mh(o.name,Kl.fromStr(`${n}::${i}`),"",o.generic_type_params.map(((e,t)=>new fh(`${t}`))),a),{sender:c,...l}=this.builderConfig,h=c instanceof rl?Mc.fromUint8Array(c.address):c,[{sequence_number:d},f,{gas_estimate:p}]=await Promise.all([(null==l?void 0:l.sequenceNumber)?Promise.resolve({sequence_number:null==l?void 0:l.sequenceNumber}):this.aptosClient.getAccount(h),(null==l?void 0:l.chainId)?Promise.resolve(null==l?void 0:l.chainId):this.aptosClient.getChainId(),(null==l?void 0:l.gasUnitPrice)?Promise.resolve({gas_estimate:null==l?void 0:l.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Xf([$c(u)],{sender:c,sequenceNumber:d,chainId:f,gasUnitPrice:BigInt(p),...l}).build(e,t,r)}};yc([(Gf=6e5,kc({ttlMs:Gf,hashFunction:Zf}))],Yf.prototype,"fetchABI",1);var Qf=class{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)throw new Error("Node URL cannot be empty.");const n=void 0===t||null===t?{}:{...t};this.nodeUrl=r?e:function(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(Ac)||(t=`${t}${Ac}`),t}(e),n.BASE=this.nodeUrl,!1===(null==t?void 0:t.WITH_CREDENTIALS)?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new Gh(n)}async getAccount(e){return this.client.accounts.getAccount(Mc.ensure(e).hex())}async getAccountTransactions(e,t){var r;return this.client.transactions.getAccountTransactions(Mc.ensure(e).hex(),null==(r=null==t?void 0:t.start)?void 0:r.toString(),null==t?void 0:t.limit)}async getAccountModules(e,t){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await Cc(r,e,1e3,t)}async getAccountModule(e,t,r){var n;return this.client.accounts.getAccountModule(Mc.ensure(e).hex(),t,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}async getAccountResources(e,t){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await Cc(r,e,9999,t)}async getAccountResource(e,t,r){var n;return this.client.accounts.getAccountResource(Mc.ensure(e).hex(),t,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}static generateBCSTransaction(e,t){return new Wf((t=>{const r=e.signBuffer(t);return new Bc.Ed25519Signature(r.toUint8Array())}),e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new Wf((e=>{const t=new Uint8Array(64);return new Bc.Ed25519Signature(t)}),e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,r){const n={sender:e};if((null==r?void 0:r.sequence_number)&&(n.sequenceNumber=r.sequence_number),(null==r?void 0:r.gas_unit_price)&&(n.gasUnitPrice=r.gas_unit_price),(null==r?void 0:r.max_gas_amount)&&(n.maxGasAmount=r.max_gas_amount),null==r?void 0:r.expiration_timestamp_secs){const e=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=e-Math.floor(Date.now()/1e3)}return new Yf(this,n).build(t.function,t.type_arguments,t.arguments)}async signTransaction(e,t){return Promise.resolve(Qf.generateBCSTransaction(e,t))}async getEventsByCreationNumber(e,t,r){var n;return this.client.events.getEventsByCreationNumber(Mc.ensure(e).hex(),t.toString(),null==(n=null==r?void 0:r.start)?void 0:n.toString(),null==r?void 0:r.limit)}async getEventsByEventHandle(e,t,r,n){var i;return this.client.events.getEventsByEventHandle(Mc.ensure(e).hex(),t,r,null==(i=null==n?void 0:n.start)?void 0:i.toString(),null==n?void 0:n.limit)}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,t,r){let n;if(e instanceof Eh)n=Qf.generateBCSSimulation(e,t);else if(e instanceof al){n=new Jf((()=>{const{threshold:t}=e,r=[],n=[];for(let e=0;e<t;e+=1)r.push(e),n.push(new Bc.Ed25519Signature(new Uint8Array(64)));const i=Bc.MultiEd25519Signature.createBitmap(r);return new Bc.MultiEd25519Signature(n,i)}),e).sign(t)}else{n=new Wf((()=>{const e=new Uint8Array(64);return new Bc.Ed25519Signature(e)}),e.toBytes()).sign(t)}return this.submitBCSSimulation(n,r)}async submitSignedBCSTransaction(e){return this.client.request.request({url:"/transactions",method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(e,t){var r,n,i;const s={estimate_gas_unit_price:null!=(r=null==t?void 0:t.estimateGasUnitPrice)&&r,estimate_max_gas_amount:null!=(n=null==t?void 0:t.estimateMaxGasAmount)&&n,estimate_prioritized_gas_unit_price:null!=(i=null==t?void 0:t.estimatePrioritizedGasUnitPrice)&&i};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(e){var t;return this.client.transactions.getTransactions(null==(t=null==e?void 0:e.start)?void 0:t.toString(),null==e?void 0:e.limit)}async getTransactionByHash(e){return this.client.transactions.getTransactionByHash(e)}async getTransactionByVersion(e){return this.client.transactions.getTransactionByVersion(e.toString())}async transactionPending(e){try{return"pending_transaction"===(await this.client.transactions.getTransactionByHash(e)).type}catch(t){if(404===(null==t?void 0:t.status))return!0;throw t}}async waitForTransactionWithResult(e,t){var r,n;const i=null!=(r=null==t?void 0:t.timeoutSecs)?r:20,s=null!=(n=null==t?void 0:t.checkSuccess)&&n;let o,a=!0,u=0;for(;a&&!(u>=i);){try{if(o=await this.client.transactions.getTransactionByHash(e),a="pending_transaction"===o.type,!a)break}catch(c){const e=c instanceof Th,t=e&&404!==c.status&&c.status>=400&&c.status<500;if(!e||t)throw c}await Sc(1e3),u+=1}if(void 0===o)throw new Error(`Waiting for transaction ${e} failed`);if(a)throw new rp(`Waiting for transaction ${e} timed out after ${i} seconds`,o);if(!s)return o;if(!(null==o?void 0:o.success))throw new np(`Transaction ${e} committed to the blockchain but execution failed`,o);return o}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,r){var n;return await this.client.tables.getTableItem(e,t,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}async generateRawTransaction(e,t,r){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(e),this.getChainId(),(null==r?void 0:r.gasUnitPrice)?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:u}={maxGasAmount:BigInt(Tc),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...r};return new Bc.RawTransaction(Bc.AccountAddress.fromHex(e),BigInt(n),t,o,a,u,new Bc.ChainId(i))}async generateSignSubmitTransaction(e,t,r){const n=await this.generateRawTransaction(e.address(),t,r),i=Qf.generateBCSTransaction(e,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(e,t,r,n){const i=new Hc;Fc(r,i);const s=new Bc.TransactionPayloadEntryFunction(Bc.EntryFunction.natural("0x1::code","publish_package_txn",[],[Qc(t),i.getBytes()]));return this.generateSignSubmitTransaction(e,s,n)}async generateSignSubmitWaitForTransaction(e,t,r){const n=await this.generateSignSubmitTransaction(e,t,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(e){const t=`0x1::coin::CoinStore<${xc}>`,[{gas_estimate:r},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),i=n.find((e=>e.type===t));return BigInt(i.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(e,t,r){const{sequence_number:n,authentication_key:i}=await this.getAccount(e.address()),s=new Eh(t),o=new Bc.RotationProofChallenge(Bc.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),Bc.AccountAddress.fromHex(e.address()),new Bc.AccountAddress(new Mc(i).toUint8Array()),s.pubKey().toUint8Array()),a=Mc.fromUint8Array($c(o)),u=e.signHexString(a),c=s.signHexString(a),l=new Bc.TransactionPayloadEntryFunction(Bc.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[Zc(0),Qc(e.pubKey().toUint8Array()),Zc(0),Qc(s.pubKey().toUint8Array()),Qc(u.toUint8Array()),Qc(c.toUint8Array())])),h=await this.generateRawTransaction(e.address(),l,r),d=Qf.generateBCSTransaction(e,h);return this.submitSignedBCSTransaction(d)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=t.data,n=await this.getTableItem(r,{key_type:"address",value_type:"address",key:Mc.ensure(e).hex()});return new Mc(n)}async getBlockByHeight(e,t){return this.client.blocks.getBlockByHeight(e,t)}async getBlockByVersion(e,t){return this.client.blocks.getBlockByVersion(e,t)}async view(e,t){return this.client.view.view(e,t)}clearCache(e){!function(e){const t=new Set;for(const r of e){const e=Rc.get(r);if(e)for(const r of e)t.has(r)||(r.clear(),t.add(r))}t.size}(e)}},ep=Qf;yc([ip],ep.prototype,"getAccount",1),yc([ip],ep.prototype,"getAccountTransactions",1),yc([ip],ep.prototype,"getAccountModules",1),yc([ip],ep.prototype,"getAccountModule",1),yc([ip],ep.prototype,"getAccountResources",1),yc([ip],ep.prototype,"getAccountResource",1),yc([ip],ep.prototype,"getEventsByCreationNumber",1),yc([ip],ep.prototype,"getEventsByEventHandle",1),yc([ip],ep.prototype,"submitSignedBCSTransaction",1),yc([ip],ep.prototype,"submitBCSSimulation",1),yc([ip],ep.prototype,"getTransactions",1),yc([ip],ep.prototype,"getTransactionByHash",1),yc([ip],ep.prototype,"getTransactionByVersion",1),yc([ip],ep.prototype,"getLedgerInfo",1),yc([kc()],ep.prototype,"getChainId",1),yc([ip],ep.prototype,"getTableItem",1),yc([ip,kc({ttlMs:3e5,tags:["gas_estimates"]})],ep.prototype,"estimateGasPrice",1),yc([ip],ep.prototype,"estimateMaxGasAmount",1),yc([ip],ep.prototype,"getBlockByHeight",1),yc([ip],ep.prototype,"getBlockByVersion",1),yc([ip],ep.prototype,"view",1);var tp=class extends Error{constructor(e,t,r,n){super(t),this.status=e,this.message=t,this.errorCode=r,this.vmErrorCode=n}},rp=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},np=class extends Error{constructor(e,t){super(e),this.transaction=t}};function ip(e,t,r){const n=r.value;return r.value=async function(){var e,t;try{for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return await n.apply(this,[...i])}catch(o){if(o instanceof Th)throw new tp(o.status,JSON.stringify({message:o.message,...o.body}),null==(e=o.body)?void 0:e.error_code,null==(t=o.body)?void 0:t.vm_error_code);throw o}},r}var sp=class{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null,i=null;if("object"===typeof e&&function(e){return void 0!==e.fullnodeUrl&&"string"===typeof e.fullnodeUrl&&void 0!==e.indexerUrl&&"string"===typeof e.indexerUrl}(e)?(n=e.fullnodeUrl,i=e.indexerUrl,this.network="CUSTOM"):(n=Uc[e],i=Ic[e],this.network=e),!n||!i)throw new Error("network is not provided");this.aptosClient=new ep(n,t,r),this.indexerClient=new Sh(i)}};function op(e,t,r){Object.getOwnPropertyNames(t.prototype).forEach((n=>{const i=Object.getOwnPropertyDescriptor(t.prototype,n);i&&(i.value=function(){return this[r][n](...arguments)},Object.defineProperty(e.prototype,n,i))}))}op(sp,ep,"aptosClient"),op(sp,Sh,"indexerClient");var ap=class{constructor(e,t){this.type=e,this.value=t}},up=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function cp(e){let t;return t="string"===e||"String"===e?new Pl(Cl):new Nl(e).parseTypeTag(),t}function lp(e){const t=e.map.data,r=new up;return t.forEach((e=>{const{key:t}=e,n=e.value.value,i=e.value.type,s=function(e,t){const r=new zc(new Mc(t).toUint8Array());let n="";n=e instanceof bl?r.deserializeU8().toString():e instanceof Sl?r.deserializeU64().toString():e instanceof Al?r.deserializeU128().toString():e instanceof wl?r.deserializeBool()?"true":"false":e instanceof xl?Mc.fromUint8Array(r.deserializeFixedBytes(32)).hex():e instanceof Pl&&e.isStringTypeTag()?r.deserializeStr():t;return n}(cp(i),n),o=new ap(i,s);r.setProperty(t,o)})),r}gc({},{PropertyMap:()=>up,PropertyValue:()=>ap,Token:()=>dp,TokenData:()=>hp});var hp=class{constructor(e,t,r,n,i,s,o,a){this.collection=e,this.description=t,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=lp(o),this.mutability_config=a}},dp=class{constructor(e,t,r){this.id=e,this.amount=t,this.token_properties=lp(r)}},fp=r(30261).Buffer;class pp extends Ho{constructor(e){super(e),(0,b.Z)(this,"signerInstance",void 0),(0,b.Z)(this,"_publicKey",void 0),this.base=["aptom",1e8]}async getProvider(){var e;return null!==(e=this.providerInstance)&&void 0!==e?e:this.providerInstance=new ep(this.providerUrl)}async getTx(e){const t=await this.getProvider(),r=await t.waitForTransactionWithResult(e,{timeoutSecs:1,checkSuccess:!0}),n=null===r||void 0===r?void 0:r.payload;var i;if(!r.success)throw new Error(null!==(i=null===r||void 0===r?void 0:r.vm_status)&&void 0!==i?i:"Unknown Aptos error");if("0x1::coin::transfer"!==(null===n||void 0===n?void 0:n.function)||"0x1::aptos_coin::AptosCoin"!==(null===n||void 0===n?void 0:n.type_arguments[0])||"Executed successfully"!==(null===r||void 0===r?void 0:r.vm_status))throw new Error(`Aptos tx ${e} failed validation`);const s="pending_transaction"===r.type;return{to:n.arguments[0],from:r.sender,amount:new k.Z(n.arguments[1]),pending:s,confirmed:!s}}ownerToAddress(e){const t=Kt.sha3_256.create();return t.update(fp.from(e)),t.update("\0"),`0x${t.hex()}`}async sign(e){return await this.getSigner().sign(e)}getSigner(){var e;return null!==(e=this.signerInstance)&&void 0!==e?e:this.signerInstance=new zs(this.wallet,this._publicKey)}async verify(e,t,r){return await zs.verify(e,t,r)}async getCurrentHeight(){return new k.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(e,t){const r=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const n=new Yf(r,{sender:this.address}),i=await n.build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[null!==t&&void 0!==t?t:"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new k.Z(e).toNumber()]),s=new Wf((e=>{const t=new Uint8Array(64);return new Bc.Ed25519Signature(t)}),await this.getPublicKey()).sign(i),o=await r.client.request.request({url:"/transactions/simulate",query:{estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},method:"POST",body:s,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+o[0].gas_unit_price,maxGasAmount:+o[0].max_gas_amount}}async sendTx(e){return(await this.wallet.signAndSubmitTransaction(e)).hash}async createTx(e,t,r){return{txId:void 0,tx:{arguments:[t,new k.Z(e).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){var e;return null!==(e=this._publicKey)&&void 0!==e?e:this._publicKey=fp.from((await this.wallet.account()).publicKey.toString().slice(2),"hex")}async ready(){var e,t;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const r=await this.getProvider();this._address=await r.lookupOriginalAddress(null!==(e=this.address)&&void 0!==e?e:"").then((e=>e.toString())).catch((e=>this._address)),66==(null===(t=this._address)||void 0===t?void 0:t.length)&&"0"===this._address.charAt(2)&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class gp extends Fo{}class yp extends Fo{async createTx(e,t,r){const n=this.w3signer,i={to:t,from:this.address,value:e.toString(),gasLimit:BigInt(0)},s=await this.provider.estimateGas(i);i.gasLimit=s;return{tx:await n.populateTransaction(i),txId:void 0}}async getTx(e){const t=this.provider,r=await t.getTransaction(e);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new k.Z(r.blockNumber):void 0,amount:new k.Z(r.value.toString()),pending:!r.blockNumber,confirmed:await r.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const t=await e.getSigner();t._signTypedData=async(e,r,n)=>t.signTypedData(e,r,n),e.getSigner=()=>t,this.wallet=e,await super.ready()}}function mp(e,t,r){if("ethereum"===e)switch(t){case"ethersv5":return new gp(r);case"ethersv6":return new yp(r);default:return new Fo(r)}}class vp{constructor(e){(0,b.Z)(this,"irys",void 0),this.irys=e}async upload(e,t){return this.irys.uploadWithReceipt(e,t)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map((e=>{let[t,r]=e;return{name:wp[t],value:r}}))})}async getAllProofs(e,t){const r=Object.entries(e).map((e=>{let[t,r]=e;return{name:wp[t],values:[r]}}));if(0===r.length)throw new Error("Getting a provenance proof requires at least one query element");const n=[];let i=null;do{var s,o,a;const e=await this.irys.api.post("/graphql",{query:"\n    query ($tags: [TagFilter!]) {\n      transactions(tags: $tags) {\n        edges {\n          node {\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n    ",variables:{tags:r,limit:null!==(s=null===t||void 0===t?void 0:t.limit)&&void 0!==s?s:null,after:i}},void 0);i=null!==(o=e.data.data.transactions)&&void 0!==o&&null!==(a=o.pageInfo)&&void 0!==a&&a.hasNextPage?e.data.data.transactions.pageInfo.endCursor:null,n.push(...e.data.data.transactions.edges.map((e=>e.node)))}while(i);return n}async getProof(e){const t=(await this.getAllProofs(e,{limit:1})).at(0);if(!t)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return t}}const wp={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class bp{constructor(e){(0,b.Z)(this,"irys",void 0),this.irys=e}async getById(e){const t=(await this.query({ids:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with id ${e}`);return t}async getByOwner(e){const t=(await this.query({owners:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with owner ${e}`);return t}async getByTag(e,t){const r=(await this.query({tags:[{name:e,values:[t]}],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with tag ${e}:${t}`);return r}async query(e){const t=[];let r=null;do{var n,i,s;const o=await this.irys.api.post("/graphql",{query:"\n    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {\n      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {\n        edges {\n          cursor\n          node {\n            address\n            currency\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            signature\n            tags {\n              name\n              value\n            }\n            timestamp\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n    ",variables:{...e,after:null!==(n=r)&&void 0!==n?n:e.after}},void 0);r=null!==(i=o.data.data.transactions)&&void 0!==i&&null!==(s=i.pageInfo)&&void 0!==s&&s.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,t.push(...o.data.data.transactions.edges.map((e=>e.node)))}while(r);return t}}var _p=r(9072),Ep=r(44498),Sp=r(75121);let Ap;const Tp={notReadable:Symbol("not readable"),readable:Symbol("readable"),ended:Symbol("ended"),errored:Symbol("errored")};Ap=Symbol.asyncIterator;class xp{get closed(){return this._state===Tp.ended}constructor(e){let{size:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,b.Z)(this,"_stream",void 0),(0,b.Z)(this,"_error",void 0),(0,b.Z)(this,"_state",Tp.notReadable),(0,b.Z)(this,"_size",void 0),(0,b.Z)(this,"_rejections",new Set),this._stream=e,this._size=t;const r=["_handleStreamEnd","_handleStreamError"];for(const n of r)Object.defineProperty(this,n,{configurable:!0,writable:!0,value:this[n].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",(()=>{this._state=Tp.readable}))}[Ap](){return this}async next(){switch(this._state){case Tp.notReadable:{let e,t;try{e=this._untilReadable(),t=this._untilEnd(),await Promise.race([e.promise,t.promise])}finally{null!=e&&e.close(),null!=t&&t.close()}return this.next()}case Tp.ended:return this.close(),{done:!0,value:void 0};case Tp.errored:throw this.close(),this._error;case Tp.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return null!==e?{done:!1,value:e}:(this._state=Tp.notReadable,await new Promise((e=>setTimeout((e=>e(!0)),0,e))),this.next())}}}_untilReadable(){let e;const t=new Promise(((t,r)=>{e=()=>{this._state=Tp.readable,this._rejections.delete(r),t()},this._state,this._stream.once("readable",e),this._rejections.add(r)}));return{close:()=>{null!=e&&this._stream.removeListener("readable",e)},promise:t}}_untilEnd(){let e;const t=new Promise(((t,r)=>{e=()=>{this._state=Tp.ended,this._rejections.delete(r),t()},this._stream.once("end",e),this._rejections.add(r)}));return{close:()=>{null!=e&&this._stream.removeListener("end",e)},promise:t}}return(){return this._state=Tp.ended,this.next()}throw(e){return this._error=e,this._state=Tp.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=Tp.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=Tp.errored;for(const t of this._rejections)t(e)}_handleStreamEnd(){this._state=Tp.ended}get state(){return this._state}}var kp=r(30261).Buffer;class Rp extends Sp.EventEmitter{constructor(e,t){super({captureRejections:!0}),(0,b.Z)(this,"tokenConfig",void 0),(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"uploadID",void 0),(0,b.Z)(this,"token",void 0),(0,b.Z)(this,"chunkSize",void 0),(0,b.Z)(this,"batchSize",void 0),(0,b.Z)(this,"paused",!1),(0,b.Z)(this,"isResume",!1),(0,b.Z)(this,"uploadOptions",void 0),(0,b.Z)(this,"arbundles",void 0),this.tokenConfig=e,this.arbundles=this.tokenConfig.irys.arbundles,this.api=t,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(e){return e&&(this.uploadID=e,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(e){if(e<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=e,this}setBatchSize(e){if(e<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=e,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(e,t){return this.uploadOptions=t,this.arbundles.DataItem.isDataItem(e)?this.runUpload(e.getRaw()):this.runUpload(e)}async uploadData(e,t){return this.uploadOptions=null===t||void 0===t?void 0:t.upload,this.runUpload(e,{...t})}async runUpload(e,t){var r,n,i;let s=this.uploadID;const o=void 0===t,a={"x-chunking-version":"2"};let u;if(s){if(u=await this.api.get(`/chunks/${this.token}/${s}/-1`,{headers:a}),404===u.status)throw new Error("Upload ID not found - your upload has probably expired.");if(P.checkAndThrow(u,"Getting upload info"),this.chunkSize!=+u.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+u.data.size}).`)}else u=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),P.checkAndThrow(u,"Getting upload token"),this.uploadID=s=u.data.id;const{max:c,min:l}=u.data;if(this.chunkSize<+l||this.chunkSize>+c)throw new Error(`Chunk size out of allowed range: ${l} - ${c}`);let h=0;const d=(e,t,r)=>new Promise((n=>{S((async i=>{await this.api.post(`/chunks/${this.token}/${s}/${t}`,e,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then((s=>{if((null===s||void 0===s?void 0:s.status)>=300){const n={res:s,id:r,offset:t,size:e.length};throw this.emit("chunkError",n),402===(null===s||void 0===s?void 0:s.status)&&i(new Error("Not enough funds to send data")),n}this.emit("chunkUpload",{id:r,offset:t,size:e.length,totalUploaded:h+=e.length}),n({o:t,d:s})}))}))})),f=null!==(r=u.data.chunks)&&void 0!==r?r:[],p=new Ep.PassThrough;let g=kp.alloc(0),y=!1,m=!0;p.on("end",(()=>y=!0)),p.on("error",(e=>{throw new Error(`Error processing readable: ${e}`)}));const v=async e=>{for(;!y;){if(g.length>=e)return t=kp.from(g.slice(0,e)),g=g.slice(e),t;var t=p.read(e);if(null!==t){if(t.length===e)return t;g=kp.concat([g,t])}else await new Promise((e=>setTimeout((e=>e(!0)),0,e)))}for(;g.length>=e;)return t=kp.from(g.slice(0,e)),g=g.slice(e),t;return m=!1,g};let w,b;if(!o){var _;w=this.arbundles.createData("",this.tokenConfig.getSigner(),{...t,anchor:null!==(_=null===t||void 0===t?void 0:t.anchor)&&void 0!==_?_:A.randomBytes(32).toString("base64").slice(0,32)});const e=w.getRaw();b=e.length,p.write(e),h-=e.length}if(kp.isBuffer(e))p.write(e),p.end();else{if(!("pipe"in e))throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");e.pipe(p)}let E=0;const T=new Set;let x,k,R,M=0;if(!o){k=new Ep.PassThrough;const e=w.getRaw().length;if(this.chunkSize<b)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${b})`);x=await v(this.chunkSize),M++,E+=x.length,k.write(x.slice(e));const t=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(w.signatureType.toString()),w.rawOwner,w.rawTarget,w.rawAnchor,w.rawTags,new xp(k)];R=this.arbundles.deepHash(t)}let C=f.pop();for(;m;){if(this.paused&&await new Promise((e=>this.on("resume",(()=>e(void 0))))),C){if(+C[0]-E<=this.chunkSize){const e=C[1],t=await v(e);o||k.write(t),E+=e,C=f.pop(),M++,h+=e;continue}}const e=await v(this.chunkSize);for(o||k.write(e);T.size>=this.batchSize;){const[e]=await Promise.race(T);T.delete(e)}const t=(async()=>await d(e,E,++M))().then((e=>[t,e]));T.add(t),E+=e.length}if(k&&k.end(),await Promise.all(T),!o){const e=await R,t=kp.from(await this.tokenConfig.getSigner().sign(e));x.set(t,2),await d(x,0,0)}const I=await this.api.post(`/chunks/${this.token}/${s}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:null!==(n=null===(i=this.api.config)||void 0===i?void 0:i.timeout)&&void 0!==n?n:4e5});if(402===I.status)throw new Error("Not enough funds to send data");if(P.checkAndThrow(I,"Finalising upload",[201]),201===I.status)throw new Error(I.data);return I.data.verify=P.verifyReceipt.bind({},this.arbundles,I.data.data),this.emit("done",I),I}get completionPromise(){return new Promise((e=>this.on("done",e)))}}var Pp=r(30261).Buffer;const Mp=5e7;class Cp{constructor(e,t,r,n,i){(0,b.Z)(this,"api",void 0),(0,b.Z)(this,"token",void 0),(0,b.Z)(this,"tokenConfig",void 0),(0,b.Z)(this,"utils",void 0),(0,b.Z)(this,"contentTypeOverride",void 0),(0,b.Z)(this,"forceUseChunking",void 0),(0,b.Z)(this,"arbundles",void 0),(0,b.Z)(this,"irysTransaction",void 0),this.api=e,this.token=r,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=t,this.irysTransaction=i}async uploadTransaction(e,t){let r;const n=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||n&&e.getRaw().length>=Mp||!n)r=await this.chunkedUploader.uploadTransaction(n?e.getRaw():e,t);else{const{url:t,timeout:n,headers:i}=this.api.getConfig(),s={"Content-Type":"application/octet-stream",...i};if(r=await this.api.post(new URL(`/tx/${this.token}`,t).toString(),e.getRaw(),{headers:s,timeout:n,maxBodyLength:1/0}),201===r.status)throw new Error(r.data)}if(402===r.status)throw new Error("Not enough funds to send data");if(r.status>=400)throw new Error(`whilst uploading Irys transaction: ${r.status} ${r.statusText}`);return r.data.verify=async()=>this.utils.verifyReceipt(r.data),r}async uploadData(e,t){if("string"===typeof e&&(e=Pp.from(e)),Pp.isBuffer(e)&&e.length<=Mp){var r;const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...t,anchor:null!==(r=null===t||void 0===t?void 0:t.anchor)&&void 0!==r?r:(0,A.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...null===t||void 0===t?void 0:t.upload})).data}return(await this.chunkedUploader.uploadData(e,t)).data}async concurrentUploader(e,t){var r;const n=[],i=null!==t&&void 0!==t&&t.logFunction?null===t||void 0===t?void 0:t.logFunction:async e=>{},s=null!==(r=null===t||void 0===t?void 0:t.concurrency)&&void 0!==r?r:5,o=await _p.PromisePool.for(e).withConcurrency(s>=1?s:5).handleError((async(e,t)=>{if(n.push(e),"Not enough funds to send data"===e.message)throw e})).process((async(e,r,n)=>{await S((async n=>{try{const n=await this.processItem(e,null===t||void 0===t?void 0:t.itemOptions);return r%s==0&&await i(`Processed ${r} Items`),null!==t&&void 0!==t&&t.resultProcessor?await t.resultProcessor({item:e,res:n,i:r}):{item:e,res:n,i:r}}catch(o){throw"Not enough funds to send data"===(null===o||void 0===o?void 0:o.message)&&n(o),o}}),{retries:3,minTimeout:1e3,maxTimeout:1e4})}));return{errors:n,results:o.results}}async processItem(e,t){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...null===t||void 0===t?void 0:t.upload}):this.uploadData(e,t)}async generateManifest(e){const{items:t,indexFile:r}=e,n={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(r){if(!t.has(r))throw new Error(`Unable to access item: ${r}`);n.index={path:r}}for(const[i,s]of t.entries())n.paths[i]={id:s};return n}get chunkedUploader(){return new Rp(this.tokenConfig,this.api)}set useChunking(e){"boolean"===typeof e&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,t){var r;const n=null!==(r=null===t||void 0===t?void 0:t.throwawayKey)&&void 0!==r?r:await this.arbundles.getCryptoDriver().generateJWK(),i=new zt(n),s=e.map((e=>this.arbundles.DataItem.isDataItem(e)?e:this.arbundles.createData(e,i))),o=await this.arbundles.bundleAndSignData(s,i),a=this.arbundles.createData(o.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await a.sign(this.tokenConfig.getSigner());return{...await this.uploadTransaction(a,t),txs:s,throwawayKey:n,throwawayKeyAddress:x(Pp.from(await this.arbundles.getCryptoDriver().hash(x.toBuffer(x(i.publicKey)))))}}}var Ip=r(30261).Buffer;class Up extends Cp{constructor(e){super(e.api,e.utils,e.token,e.tokenConfig,e.IrysTransaction),(0,b.Z)(this,"irys",void 0),this.irys=e}async uploadFile(e,t){var r;const n=!(null===t||void 0===t||!t.tags)&&t.tags.some((e=>{let{name:t}=e;return"content-type"===t.toLowerCase()}))?null===t||void 0===t?void 0:t.tags:[...null!==(r=null===t||void 0===t?void 0:t.tags)&&void 0!==r?r:[],{name:"Content-Type",value:e.type}];return this.uploadData(Ip.from(await e.arrayBuffer()),{tags:n,...t})}async uploadFolder(e,t){var r,n;const i=[],s=new Map,o=null!==(r=null===t||void 0===t?void 0:t.throwawayKey)&&void 0!==r?r:await this.irys.arbundles.getCryptoDriver().generateJWK(),a=new zt(o);for(const d of e){var u;const e=d.webkitRelativePath?d.webkitRelativePath:d.name,t=!!d.tags&&d.tags.some((e=>{let{name:t}=e;return"content-type"===t.toLowerCase()}))?d.tags:[...null!==(u=d.tags)&&void 0!==u?u:[],{name:"Content-Type",value:d.type}],r=this.irys.arbundles.createData(Ip.from(await d.arrayBuffer()),a,{tags:t});await r.sign(a),i.push(r),s.set(e,r.id)}const c=await this.generateManifest({items:s,indexFile:null===t||void 0===t?void 0:t.indexFileRelPath}),l=this.irys.arbundles.createData(JSON.stringify(c),null!==t&&void 0!==t&&t.seperateManifestTx?this.irys.tokenConfig.getSigner():a,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...null!==(n=null===t||void 0===t?void 0:t.manifestTags)&&void 0!==n?n:[]]});!0===(null===t||void 0===t?void 0:t.seperateManifestTx)?(await l.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(l,{...t})):(await l.sign(a),i.push(l));const h=await this.uploadBundle(i,{...t});return{...h.data,manifestId:l.id,manifest:c,throwawayKey:h.throwawayKey,throwawayKeyAddress:h.throwawayKeyAddress,txs:h.txs}}}const Bp=class extends L{constructor(e){var t,r,n;let{url:i,token:s,wallet:a,config:u}=e;switch(i){case void 0:case"node1":i="https://node1.irys.xyz";break;case"node2":i="https://node2.irys.xyz";break;case"devnet":i="https://devnet.irys.xyz"}const c=new URL(i);if(super({url:c,arbundles:o}),(0,b.Z)(this,"tokenConfig",void 0),(0,b.Z)(this,"uploader",void 0),(0,b.Z)(this,"uploadFolder",void 0),(0,b.Z)(this,"uploadFile",void 0),this.api=new D({url:c,timeout:null!==(t=null===u||void 0===u?void 0:u.timeout)&&void 0!==t?t:1e5,headers:null===u||void 0===u?void 0:u.headers}),this.tokenConfig=function(e){var t,r,n,i,s,o,a,u,c;switch(e.token){case"ethereum":return mp("ethereum",e.providerName,{irys:e.irys,name:"ethereum",ticker:"ETH",providerUrl:null!==(t=e.providerUrl)&&void 0!==t?t:"https://cloudflare-eth.com/",wallet:e.wallet});case"matic":return mp("ethereum",e.providerName,{irys:e.irys,name:"matic",ticker:"MATIC",providerUrl:null!==(r=e.providerUrl)&&void 0!==r?r:"https://polygon-rpc.com",wallet:e.wallet,minConfirm:1});case"arbitrum":return mp("ethereum",e.providerName,{irys:e.irys,name:"arbitrum",ticker:"ETH",providerUrl:null!==(n=e.providerUrl)&&void 0!==n?n:"https://arb1.arbitrum.io/rpc",wallet:e.wallet});case"bnb":return mp("ethereum",e.providerName,{irys:e.irys,name:"bnb",ticker:"BNB",providerUrl:null!==(i=e.providerUrl)&&void 0!==i?i:"https://bsc-dataseed.binance.org",wallet:e.wallet});case"avalanche":return mp("ethereum",e.providerName,{irys:e.irys,name:"avalanche",ticker:"AVAX",providerUrl:null!==(s=e.providerUrl)&&void 0!==s?s:"https://api.avax.network/ext/bc/C/rpc",wallet:e.wallet});case"boba-eth":return mp("ethereum",e.providerName,{irys:e.irys,name:"boba-eth",ticker:"ETH",providerUrl:null!==(o=e.providerUrl)&&void 0!==o?o:"https://mainnet.boba.network/",minConfirm:1,wallet:e.wallet});case"boba":{var l,h;const t=new wu({irys:e.irys,name:"boba",ticker:"BOBA",providerUrl:null!==(l=e.providerUrl)&&void 0!==l?l:"https://mainnet.boba.network/",contractAddress:null!==(h=e.contractAddress)&&void 0!==h?h:"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:e.wallet});return t.price=async()=>{var e;const r=await E.Z.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${t.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await P.checkAndThrow(r,"Getting price data"),null===r||void 0===r||null===(e=r.data)||void 0===e||!e.rate)throw new Error(`unable to get price for ${t.name}`);return+r.data.rate},t}case"solana":return new Qo({irys:e.irys,name:"solana",ticker:"SOL",providerUrl:null!==(a=e.providerUrl)&&void 0!==a?a:"https://api.mainnet-beta.solana.com/",wallet:e.wallet});case"near":return new Jo({irys:e.irys,name:"near",ticker:"NEAR",providerUrl:null!==(u=e.providerUrl)&&void 0!==u?u:"https://rpc.mainnet.near.org",wallet:e.wallet});case"aptos":return new pp({irys:e.irys,name:"aptos",ticker:"APTOS",providerUrl:null!==(c=e.providerUrl)&&void 0!==c?c:"https://fullnode.mainnet.aptoslabs.com/v1",wallet:e.wallet});default:throw new Error(`Unknown/Unsupported token ${e.token}`)}}({irys:this,token:s.toLowerCase(),wallet:null===a||void 0===a?void 0:a.provider,providerUrl:null!==(r=null===u||void 0===u?void 0:u.providerUrl)&&void 0!==r?r:null===a||void 0===a?void 0:a.rpcUrl,contractAddress:null===u||void 0===u?void 0:u.contractAddress,providerName:null===a||void 0===a?void 0:a.name}),this.token=this.tokenConfig.name,"devnet.irys.network"===c.host&&!(null!==(n=null===u||void 0===u?void 0:u.providerUrl)&&void 0!==n?n:(null===a||void 0===a?void 0:a.rpcUrl)||this.tokenConfig.inheritsRPC))throw new Error(`Using ${c.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new P(this.api,this.token,this.tokenConfig),this.uploader=new Up(this),this.funder=new H(this.utils),this.uploader=new Up(this),this.provenance=new vp(this),this.transactions=new bp(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}}}]);
//# sourceMappingURL=683.c20b871e.chunk.js.map